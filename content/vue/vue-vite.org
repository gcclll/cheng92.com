#+TITLE: Vue3 -> Vite è„šæ‰‹æ¶
#+DATE: <2021-02-25 17:25:02>
#+TAGS[]: vue3, vite
#+CATEGORIES[]: vue
#+LANGUAGE: zh-cn
#+STARTUP: indent

#+begin_quote
vue èµ„æº: [[https://github.com/vuejs/awesome-vue#frameworks][vuejs/awesome-vue: ğŸ‰ A curated list of awesome things related to Vue.js]]

SSR æ¡†æ¶ï¼š [[https://ream.dev/][Ream - A Vue 3 framework for building amazing apps]]
#+end_quote
* import.meta

ç±»å‹å£°æ˜ï¼š

#+begin_src typescript
interface ImportMeta {
  url: string

  readonly hot?: {
    readonly data: any

    accept(): void
    accept(cb: (mod: any) => void): void
    accept(dep: string, cb: (mod: any) => void): void
    accept(deps: readonly string[], cb: (mods: any[]) => void): void

    /**
     * @deprecated
     */
    acceptDeps(): never

    dispose(cb: (data: any) => void): void
    decline(): void
    invalidate(): void

    on(event: string, cb: (...args: any[]) => void): void
  }

  readonly env: ImportMetaEnv

  glob(
    pattern: string
  ): Record<
    string,
    () => Promise<{
      [key: string]: any
    }>
  >

  globEager(
    pattern: string
  ): Record<
    string,
    {
      [key: string]: any
    }
  >
}
interface ImportMetaEnv {
  [key: string]: string | boolean | undefined
  BASE_URL: string
  MODE: string
  DEV: boolean
  PROD: boolean
}
#+end_src

å®é™…é¡¹ç›®è¾“å‡ºç»“æœï¼š
#+begin_src js
// import.meta
import.meta.env = {
  url: "https://localhost:3000/src/main.ts",
  env: {
    BASE_URL: "/",
    MODE: "development",
    DEV: true,
    PROD: false,
    SSR: false,
  },
};
#+end_src

* é—®é¢˜åˆ—è¡¨

1. vite create-app ä¹‹åå¯åŠ¨é¡¹ç›®ï¼Œåœ¨ import çš„æ—¶å€™æ€»æç¤ºæ–‡ä»¶ä¸å­˜åœ¨ï¼Ÿ

   #+begin_quote
   A.  ä¿®æ”¹ vite.config.js å¢åŠ é…ç½®é¡¹ optimizeDeps -> exclude -> ['jsuites']:

   #+end_quote

   #+begin_src typescript
   import { defineConfig } from "vite";
   import vue from "@vitejs/plugin-vue";

   // https://vitejs.dev/config/
   export default defineConfig({
     plugins: [vue()],
     optimizeDeps: {
       exclude: ["jsuites"],
     },
   });
   #+end_src

2. å¯ç”¨çš„ vue3 ui åº“ï¼Ÿ

   [[https://dev.to/beccabycott/vue-3-ui-component-library-for-2021-4nfa][Vue 3 UI component library for 2021 - DEV Community]]

   [[https://github.com/element-plus/element-plus][ElementUI]] âœ… > [[https://github.com/ionic-team/ionic-framework][Ionic ç§»åŠ¨ç«¯]] âœ… > [[https://github.com/primefaces/primevue][Primevue]] âœ… > [[https://github.com/vuetifyjs/vuetify][Vuetify]] âŒ > [[https://github.com/quasarframework/quasar][Quasar]] âŒ

3. ~import bgImg from '../assets/bg.jpg'~ æ€»æ˜¯æŠ¥é”™ï¼Ÿ

   #+begin_example
   9:21:21 PM [vite] Internal server error: Failed to resolve import "/@/assets/login_bg.jpg". Does the file exist?
   #+end_example

   è§ [[#plugin-import-analysis][plugin-import-analysis]] åˆ†æã€‚
