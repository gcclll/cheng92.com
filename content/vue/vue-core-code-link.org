#+TITLE: Vue3 è‡ªé—®è‡ªç­”ç³»åˆ—â“â“â“
#+DATE: <2021-04-15 18:31:06>
#+TAGS[]: vue, vue3
#+CATEGORIES[]: vue
#+LANGUAGE: zh-cn
#+STARTUP: indent shrink


#+begin_export html
<link href="https://fonts.goo~gleapis.com/cs~s2?family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
<kbd>
<font color="blue" size="3" style="font-family: 'ZCOOL XiaoWei', serif;">
  è¯—å·ï¼šå…­é“åŒå ï¼Œé­”åŠ«ä¸‡åƒï¼Œå¼•æ¸¡å¦‚æ¥ã€‚
</font>
</kbd><br><br>
#+end_export

[[/img/bdx/yiyeshu-001.jpg]]

#+begin_quote
æœ¬æ–‡çº¯ç²¹çš„é“¾æ¥ï¼Œåˆ—å‡ºæºç å­¦ä¹ è¿‡ç¨‹ä¸­é‡è¦çŸ¥è¯†ç‚¹å’ŒåŠŸèƒ½ç‰¹æ€§æœ‰å…³çš„åˆ†æé“¾æ¥ï¼Œè¿™äº›é“¾æ¥ä¸»
è¦é“¾æ¥åˆ°æœ¬ç½‘ç«™å†…æ–‡ç« ï¼Œä¸æ’é™¤æœ‰å¤–é“¾å…¶ä»–ç½‘ç«™ã€‚
#+end_quote

1. [[/vue/vue-mind-map-runtime-dom/#prop-on-xxx][vue3 äº‹ä»¶ç»‘å®šæ˜¯å¦‚ä½•å®ç°çš„(stopImmediatePropagation åˆæ˜¯å•¥?)ï¼Ÿ]]

   ç®€è¿°ï¼šä¸€ä¸ªå…ƒç´ ä¸€ä¸ªäº‹ä»¶åå¯¹åº”çš„äº‹ä»¶åªä¼šç»‘å®šä¸€ä¸ª listener åŠ å°è£…ä¹‹åçš„
   invokerï¼Œæ­¤æ—¶ä¸ºäº†å®ç°åŸç”Ÿäº‹ä»¶çš„ stopImmediatePropagation åŠŸèƒ½ï¼Œå¯¹
   invoker.value å³äº‹ä»¶å¥æŸ„åˆ—è¡¨é‡Œé¢çš„æ‰€æœ‰äº‹ä»¶å¥æŸ„(å‡½æ•°)è¿›è¡Œäº†é‡å†™ã€‚

2. [[/vue/vue-mind-map-runtime-core/#scheduler][vue3 å¼‚æ­¥ä»»åŠ¡è°ƒåº¦æœºåˆ¶ runtime-core->scheduler æ˜¯å¦‚ä½•å®ç°çš„?]]

   vue3 ä¸­çš„å¼‚æ­¥æ›´æ–°ä»»åŠ¡åˆ†ä¸ºä¸‰ç§ï¼š pre cbs/queue jobs/post cbsï¼Œä»–ä»¬çš„æ‰§è¡Œéƒ½æœ‰ä¸€
   å®šçš„å…ˆåé¡ºåºï¼Œç‚¹å‡»[[/vue/vue-mind-map-runtime-core/#scheduler][é“¾æ¥]]äº†è§£æ›´å¤šåˆ†æå†…å®¹ã€‚

3. [[/vue/vue-mind-map-runtime-core-render/#keyed-children][vue3 diff åŸç†ï¼Ÿ]]

  | old         | new           | æ›´æ–°åŸåˆ™     |
  |-------------+---------------+--------------|
  | ~[1]~       | ~[1,2,3]~     | appendï¼Œæ–°å¢ |
  | ~[4,5]~     | ~[1,2,3,4,5]~ | appendï¼Œæ–°å¢ |
  | ~[2,3,4]~   | ~[1,2,3,4,5]~ | æ–°å¢+æ’å…¥    |
  | ~[1,2,3,4]~ | ~[2,3,1,4]~   | ä¸€æ¬¡ç§»åŠ¨     |
  | ~[1,2,3,4]~ | ~[1,4,2,3]~   | ä¸€æ¬¡ç§»åŠ¨     |
  | ~[1,2,3]~   | ~[2,3,1]~     | ä¸€æ¬¡ç§»åŠ¨     |
  | ~[1,2,3,4]~ | ~[4,2,3,1]~   | ä¸€æ¬¡ç§»åŠ¨     |

  è¯¸å¦‚ä¸Šé¢çš„å®ä¾‹æ˜¯å¦‚ä½•å®ç°æ’å…¥ï¼Œæ–°å¢ï¼Œåˆ é™¤å’Œç§»åŠ¨çš„ï¼Ÿ

  è¿™é‡Œåˆæ˜¯å¦‚ä½•åˆ©ç”¨â€œæœ€é•¿å¢é•¿åºåˆ—â€æ¥è¿‡æ»¤æ‰ä¸éœ€è¦ç§»åŠ¨çš„èŠ‚ç‚¹çš„ï¼Ÿ

4. [[/vue/vue-mind-map-runtime-core-3-component/#keep-alive][keep-alive ç»„ä»¶å®ç°åŸç†ï¼Ÿ]]

   activate å’Œ deactivate çŠ¶æ€åˆ‡æ¢çš„å®é™…åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

   #+begin_quote
   â‰ é€šè¿‡åˆ›å»ºä¸€ä¸ª off-dom div æ¥æ‰¿æ¥ deactivate çŠ¶æ€ä¸‹çš„ DOM ğŸŒ²ã€‚
   #+end_quote
