<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2269px" height="1149px" viewBox="-0.5 -0.5 2269 1149" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-11-18T00:24:31.800Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.7.9 Chrome/85.0.4183.121 Electron/10.1.3 Safari/537.36&quot; etag=&quot;RJBFHOCx9YIrYHpdLMrz&quot; version=&quot;13.7.9&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;QGFTsMWjiqkI9pkNz5UW&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-ffcd28-1-0fff27-1-s-0"><stop offset="0%" style="stop-color:#ffcd28"/><stop offset="100%" style="stop-color:#0FFF27"/></linearGradient><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-f8cecc-1-ea6b66-1-s-0"><stop offset="0%" style="stop-color:#f8cecc"/><stop offset="100%" style="stop-color:#ea6b66"/></linearGradient></defs><g><path d="M 260 80 L 260 173.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 260 178.88 L 256.5 171.88 L 260 173.63 L 263.5 171.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 101px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="261" y="104" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 151px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">, 封装 fn 成 ReactiveEffect 类型</div></div></div></foreignObject><text x="261" y="154" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">, 封装 fn 成 ReactiveEffect 类型</text></switch></g><path d="M 120 40 L 213.63 40" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 218.88 40 L 211.88 43.5 L 213.63 40 L 211.88 36.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="10" width="120" height="60" fill="url(#mx-gradient-ffcd28-1-0fff27-1-s-0)" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 40px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effect(fn, options)</div></div></div></foreignObject><text x="60" y="44" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">effect(fn, options)</text></switch></g><path d="M 260 240 L 260 303.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 260 308.88 L 256.5 301.88 L 260 303.63 L 263.5 301.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 370 210 L 613.63 210" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 618.88 210 L 611.88 213.5 L 613.63 210 L 611.88 206.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="150" y="180" width="220" height="60" fill="#ffcd28" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 210px; margin-left: 151px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">createReactiveEffect(fn, options)</div></div></div></foreignObject><text x="260" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">createReactiveEffect(fn, options)</text></switch></g><path d="M 300 40 L 383.63 40" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 388.88 40 L 381.88 43.5 L 383.63 40 L 381.88 36.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 43px; margin-left: 336px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="336" y="46" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 260 0 L 300 40 L 260 80 L 220 40 Z" fill="#ffcd28" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 40px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">fn is effect?</div></div></div></foreignObject><text x="260" y="44" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">fn is effect?</text></switch></g><rect x="390" y="10" width="120" height="60" fill="#ffcd28" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 40px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">fn = fn.raw<br />取原始函数</div></div></div></foreignObject><text x="450" y="44" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">fn = fn.raw...</text></switch></g><path d="M 300 350 L 353.63 350" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 358.88 350 L 351.88 353.5 L 353.63 350 L 351.88 346.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 351px; margin-left: 331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="331" y="354" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 260 310 L 300 350 L 260 390 L 220 350 Z" fill="#ffcd28" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 350px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">options.lazy?</div></div></div></foreignObject><text x="260" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">options.lazy?</text></switch></g><path d="M 420 380 L 420 450 L 260 450 L 260 473.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 260 478.88 L 256.5 471.88 L 260 473.63 L 263.5 471.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="360" y="320" width="120" height="60" fill="#ffcd28" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 350px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effect() 立即执行</div></div></div></foreignObject><text x="420" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">effect() 立即执行</text></switch></g><rect x="200" y="480" width="120" height="60" fill="#ffcd28" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 510px; margin-left: 201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return effect</div></div></div></foreignObject><text x="260" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">return effect</text></switch></g><path d="M 730 240 L 730 313.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 730 318.88 L 726.5 311.88 L 730 313.63 L 733.5 311.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 840 210 L 870 210 L 870 235 L 893.63 235" fill="none" stroke="#d79b00" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 898.88 235 L 891.88 238.5 L 893.63 235 L 891.88 231.5 Z" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="620" y="180" width="220" height="60" fill="url(#mx-gradient-f8cecc-1-ea6b66-1-s-0)" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 210px; margin-left: 621px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">封装 fn, 创建 ReactiveEffect 结构</div></div></div></foreignObject><text x="730" y="214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">封装 fn, 创建 ReactiveEffect 结构</text></switch></g><path d="M 840 350 L 1193.63 350" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1198.88 350 L 1191.88 353.5 L 1193.63 350 L 1191.88 346.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 730 380 L 730 443.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 730 448.88 L 726.5 441.88 L 730 443.63 L 733.5 441.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="620" y="320" width="220" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 350px; margin-left: 621px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effect = function reactiveEffect() {...}</div></div></div></foreignObject><text x="730" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">effect = function reactiveEffect() {...</text></switch></g><path d="M 770 490 L 855 490 L 855 560 L 933.63 560" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 938.88 560 L 931.88 563.5 L 933.63 560 L 931.88 556.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 493px; margin-left: 841px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false,非激活状态，<br />stop 了？</div></div></div></foreignObject><text x="841" y="496" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false,非激活状态，...</text></switch></g><path d="M 730 530 L 730 603.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 730 608.88 L 726.5 601.88 L 730 603.63 L 733.5 601.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 565px; margin-left: 731px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="731" y="568" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 730 450 L 770 490 L 730 530 L 690 490 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 490px; margin-left: 691px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effect.active?</div></div></div></foreignObject><text x="730" y="494" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">effect.active?</text></switch></g><path d="M 1020 560 L 1073.63 560" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1078.88 560 L 1071.88 563.5 L 1073.63 560 L 1071.88 556.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 560px; margin-left: 1050px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="1050" y="563" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 980 600 L 980 683.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 980 688.88 L 976.5 681.88 L 980 683.63 L 983.5 681.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 636px; margin-left: 977px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="977" y="639" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 980 520 L 1020 560 L 980 600 L 940 560 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 560px; margin-left: 941px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">options.<br />scheduler?</div></div></div></foreignObject><text x="980" y="564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">options....</text></switch></g><rect x="1080" y="530" width="120" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 560px; margin-left: 1081px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">undefined, 由外部自行控制</div></div></div></foreignObject><text x="1140" y="564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">undefined, 由外部自行控制</text></switch></g><rect x="920" y="690" width="120" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 720px; margin-left: 921px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">fn() ，直接执行</div></div></div></foreignObject><text x="980" y="724" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">fn() ，直接执行</text></switch></g><path d="M 730 690 L 730 773.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 730 778.88 L 726.5 771.88 L 730 773.63 L 733.5 771.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 733px; margin-left: 731px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false，避免 effect 自身</div></div></div></foreignObject><text x="731" y="736" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false，避免 effect 自身</text></switch></g><path d="M 690 650 L 636.37 650" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 631.12 650 L 638.12 646.5 L 636.37 650 L 638.12 653.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 730 610 L 770 650 L 730 690 L 690 650 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 650px; margin-left: 691px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effect in <br />stack ?</div></div></div></foreignObject><text x="730" y="654" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">effect in...</text></switch></g><path d="M 730 840 L 730 913.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 730 918.88 L 726.5 911.88 L 730 913.63 L 733.5 911.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="670" y="780" width="120" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 810px; margin-left: 671px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cleanup(effect) <br />清理所有 deps</div></div></div></foreignObject><text x="730" y="814" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cleanup(effect)...</text></switch></g><rect x="510" y="620" width="120" height="60" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 650px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">do nothing</div></div></div></foreignObject><text x="570" y="654" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">do nothing</text></switch></g><path d="M 830 950 L 903.63 950" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 908.88 950 L 901.88 953.5 L 903.63 950 L 901.88 946.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 730 980 L 730 1053.63" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 730 1058.88 L 726.5 1051.88 L 730 1053.63 L 733.5 1051.88 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1014px; margin-left: 727px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">try 中正常结束，也可能异常，无论如何<br />重置effect stack状态</div></div></div></foreignObject><text x="727" y="1017" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">try 中正常结束，也可能异常，无论如何...</text></switch></g><rect x="1200" y="198" width="330" height="304" fill="#ffffff" stroke="#3333ff" pointer-events="all"/><path d="M 1200 236 L 1530 236" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 275 L 1530 275" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 311 L 1530 311" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 351 L 1530 351" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 389 L 1530 389" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 427 L 1530 427" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 465 L 1530 465" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1330 198 L 1330 502" fill="none" stroke="#3333ff" stroke-miterlimit="10" pointer-events="all"/><path d="M 1200 198 M 1530 198 M 1530 236 M 1200 236" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="198" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 198 M 1330 198 M 1330 236 M 1200 236" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 217px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">(): T</div></div></div></foreignObject><text x="1265" y="221" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">(): T</text></switch></g><rect x="1330" y="198" width="200" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 198 M 1530 198 M 1530 236 M 1330 236" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 217px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">function reactiveEffect() {...}</div></div></div></foreignObject><text x="1430" y="221" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">function reactiveEffect() {...}</text></switch></g><path d="M 1200 236 M 1530 236 M 1530 275 M 1200 275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="236" width="130" height="39" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 236 M 1330 236 M 1330 275 M 1200 275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 256px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 35px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">_isEffect</div></div></div></foreignObject><text x="1265" y="259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">_isEffect</text></switch></g><rect x="1330" y="236" width="200" height="39" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 236 M 1530 236 M 1530 275 M 1330 275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 256px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 35px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">true</div></div></div></foreignObject><text x="1430" y="259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">true</text></switch></g><path d="M 1200 275 M 1530 275 M 1530 311 M 1200 311" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="275" width="130" height="36" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 275 M 1330 275 M 1330 311 M 1200 311" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 293px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 32px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">id: number</div></div></div></foreignObject><text x="1265" y="297" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">id: number</text></switch></g><rect x="1330" y="275" width="200" height="36" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 275 M 1530 275 M 1530 311 M 1330 311" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 293px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 32px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">uid++</div></div></div></foreignObject><text x="1430" y="297" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">uid++</text></switch></g><path d="M 1200 311 M 1530 311 M 1530 351 M 1200 351" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="311" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 311 M 1330 311 M 1330 351 M 1200 351" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 331px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">active: boolean</div></div></div></foreignObject><text x="1265" y="335" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">active: boolean</text></switch></g><rect x="1330" y="311" width="200" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 311 M 1530 311 M 1530 351 M 1330 351" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 331px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">true</div></div></div></foreignObject><text x="1430" y="335" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">true</text></switch></g><path d="M 1200 351 M 1530 351 M 1530 389 M 1200 389" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="351" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 351 M 1330 351 M 1330 389 M 1200 389" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 370px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">raw: () =&gt; T</div></div></div></foreignObject><text x="1265" y="374" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">raw: () =&gt; T</text></switch></g><rect x="1330" y="351" width="200" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 351 M 1530 351 M 1530 389 M 1330 389" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 370px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">fn</div></div></div></foreignObject><text x="1430" y="374" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">fn</text></switch></g><path d="M 1200 389 M 1530 389 M 1530 427 M 1200 427" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="389" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 389 M 1330 389 M 1330 427 M 1200 427" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 408px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">deps: Array&lt;Dep&gt;</div></div></div></foreignObject><text x="1265" y="412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">deps: Array&lt;Dep&gt;</text></switch></g><rect x="1330" y="389" width="200" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 389 M 1530 389 M 1530 427 M 1330 427" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 408px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[]</div></div></div></foreignObject><text x="1430" y="412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">[]</text></switch></g><path d="M 1200 427 M 1530 427 M 1530 465 M 1200 465" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="427" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 427 M 1330 427 M 1330 465 M 1200 465" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 446px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">options</div></div></div></foreignObject><text x="1265" y="450" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">options</text></switch></g><rect x="1330" y="427" width="200" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 427 M 1530 427 M 1530 465 M 1330 465" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 446px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">options, 如： {lazy: true}</div></div></div></foreignObject><text x="1430" y="450" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">options, 如： {lazy: true}</text></switch></g><path d="M 1200 465 M 1530 465 M 1530 502 M 1200 502" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1200" y="465" width="130" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 1200 465 M 1330 465 M 1330 502 M 1200 502" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 484px; margin-left: 1201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">allowRecurse:boolean</div></div></div></foreignObject><text x="1265" y="487" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">allowRecurse:boolean</text></switch></g><rect x="1330" y="465" width="200" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 1330 465 M 1530 465 M 1530 502 M 1330 502" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 484px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">??? 暂时未知</div></div></div></foreignObject><text x="1430" y="487" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">??? 暂时未知</text></switch></g><rect x="630" y="920" width="200" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 950px; margin-left: 631px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">try { push, activeEffect, fn() }<br />入栈，记录当前effect, 执行 fn</div></div></div></foreignObject><text x="730" y="954" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">try { push, activeEffect, fn() }...</text></switch></g><path d="M 1110 950 L 1183.63 950" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1188.88 950 L 1181.88 953.5 L 1183.63 950 L 1181.88 946.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="910" y="920" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 950px; margin-left: 911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">enableTracking()<br />shouldTrack = true，<br />控制track()中可以进行依赖收集</div></div></div></foreignObject><text x="1010" y="954" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">enableTracking()...</text></switch></g><path d="M 1390 950 L 1463.63 950" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 950 L 1461.88 953.5 L 1463.63 950 L 1461.88 946.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="1190" y="920" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 950px; margin-left: 1191px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effectStack.push(effect) <br />缓存当前 effect</div></div></div></foreignObject><text x="1290" y="954" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">effectStack.push(effect)...</text></switch></g><path d="M 1670 950 L 1743.63 950" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1748.88 950 L 1741.88 953.5 L 1743.63 950 L 1741.88 946.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="1470" y="920" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 950px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activeEffect = effect<br />记录当前正在处理的 effect</div></div></div></foreignObject><text x="1570" y="954" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">activeEffect = effect...</text></switch></g><rect x="1750" y="920" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 950px; margin-left: 1751px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return fn()<br />执行 fn</div></div></div></foreignObject><text x="1850" y="954" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">return fn()...</text></switch></g><path d="M 830 1090 L 903.63 1090" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 908.88 1090 L 901.88 1093.5 L 903.63 1090 L 901.88 1086.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="630" y="1060" width="200" height="60" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1090px; margin-left: 631px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">finally{ pop, reset }<br />出栈，恢复当前 effect stack 状态</div></div></div></foreignObject><text x="730" y="1094" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">finally{ pop, reset }...</text></switch></g><path d="M 1110 1090 L 1183.63 1090" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1188.88 1090 L 1181.88 1093.5 L 1183.63 1090 L 1181.88 1086.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="910" y="1060" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1090px; margin-left: 911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">effectStack.pop()</div></div></div></foreignObject><text x="1010" y="1094" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">effectStack.pop()</text></switch></g><path d="M 1390 1090 L 1463.63 1090" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 1090 L 1461.88 1093.5 L 1463.63 1090 L 1461.88 1086.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><rect x="1190" y="1060" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1090px; margin-left: 1191px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">resetTracking()<br />shouldTrack = true 或<br />上一个effect 状态</div></div></div></foreignObject><text x="1290" y="1094" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">resetTracking()...</text></switch></g><rect x="1470" y="1060" width="200" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1090px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activeEffect = effect stack 中最后一个 effect</div></div></div></foreignObject><text x="1570" y="1094" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">activeEffect = effect stack 中最后一个 effe...</text></switch></g><rect x="900" y="130" width="270" height="210" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 262px; height: 1px; padding-top: 120px; margin-left: 905px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 220px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>封装过程</h1><div>1. effect 先初始化成一个函数，该函数分为两个阶段，try 和 finally</div><div>    1) <font color="#ff0000">try：enable 当前 effect和执行 fn()</font></div><div>    2) <font color="#ff0000">finally: 恢复 effects 栈状态</font><br /></div><div>2. 追加一系列属性，如：右表 👉<br />3. 关键信息：<font color="#3333ff">shouldTrack</font> 和 <font color="#3333ff">activeEffect</font>，在整个 effects stack 处理过程中至关重要，他们在 track() 和 trigger() 也有使用到。<br />    1) <font color="#ff0000">track() 中：effect 还没结束，不能重复 track</font><br />    2) <font color="#ff0000">trigger() 中：限制不能触发还没结束的 effect</font></div></div></div></div></foreignObject><text x="905" y="132" fill="#000000" font-family="Helvetica" font-size="12px">封装过程1. effect 先初始化成一个函数，该函数分为两个阶段，try 和 finally...</text></switch></g><path d="M 830 970 L 835 970 Q 840 970 840 980 L 840 1015 Q 840 1025 850 1025 L 1663.63 1025" fill="none" stroke="#b20000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1668.88 1025 L 1661.88 1028.5 L 1663.63 1025 L 1661.88 1021.5 Z" fill="none" stroke="#b20000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1025px; margin-left: 1178px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">try 和 finally 过程相辅相成，try 里面处理当前的 effect，finally 中无论try是否异常都会执行，来恢复 effect stack 状态</div></div></div></foreignObject><text x="1178" y="1028" fill="#FF0000" font-family="Helvetica" font-size="12px" text-anchor="middle">try 和 finally 过程相辅相成，try 里面处理当前的 effect，finally 中无论try是否异常都会执行，来恢复 effect stack 状态</text></switch></g><path d="M 1420 1140 L 1425 1140 Q 1430 1140 1430 1130 L 1430 1080 Q 1430 1070 1440 1070 L 2253.63 1070" fill="none" stroke="#b20000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2258.88 1070 L 2251.88 1073.5 L 2253.63 1070 L 2251.88 1066.5 Z" fill="none" stroke="#b20000" stroke-miterlimit="10" pointer-events="all"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>