<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="6961px" height="7261px" viewBox="-0.5 -0.5 6961 7261" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-05-06T10:30:22.575Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.1.8 Chrome/87.0.4280.88 Electron/11.1.1 Safari/537.36&quot; etag=&quot;zCBNlj5u6b9UKBG-tNel&quot; version=&quot;14.1.8&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;G0GfsCYD8Eh_Tje86yR0&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 4240 4850 L 4240 4923.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4240 4928.88 L 4236.5 4921.88 L 4240 4923.63 L 4243.5 4921.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4180" y="4790" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4820px; margin-left: 4181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">react 初探</div></div></div></foreignObject><text x="4240" y="4824" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">react 初探</text></switch></g><path d="M 4300 4960 L 4473.63 4960" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4478.88 4960 L 4471.88 4963.5 L 4473.63 4960 L 4471.88 4956.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4959px; margin-left: 4392px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">简单演示 React 过程</div></div></div></foreignObject><text x="4392" y="4962" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">简单演示 React 过程</text></switch></g><path d="M 4180 4955 L 4180 4965 L 4070 4965 L 4070 4975 L 4040 4960 L 4070 4945 L 4070 4955 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4180" y="4930" width="120" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4960px; margin-left: 4181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step 0  演示</div></div></div></foreignObject><text x="4240" y="4964" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step 0  演示</text></switch></g><path d="M 4520 5130 L 4520 5233.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4520 5238.88 L 4516.5 5231.88 L 4520 5233.63 L 4523.5 5231.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5192px; margin-left: 4521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">通过 babel 将 jsx 转换成 js</div></div></div></foreignObject><text x="4521" y="5195" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">通过 babel 将 jsx 转换成 js</text></switch></g><rect x="4430" y="5070" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5100px; margin-left: 4431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">1. render jsx 得到 vnode</div></div></div></foreignObject><text x="4520" y="5104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">1. render jsx 得到 vnode</text></switch></g><rect x="4655" y="5070" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5100px; margin-left: 4656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">2. get root app 容器</div></div></div></foreignObject><text x="4745" y="5104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">2. get root app 容器</text></switch></g><path d="M 5020 5130 L 5020 5203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5020 5208.88 L 5016.5 5201.88 L 5020 5203.63 L 5023.5 5201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4930" y="5070" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5100px; margin-left: 4931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">3. render vnode 渲染DOM树</div></div></div></foreignObject><text x="5020" y="5104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">3. render vnode 渲染DOM树</text></switch></g><path d="M 4745 5000 L 4745 5035 L 4520 5035 L 4520 5063.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4520 5068.88 L 4516.5 5061.88 L 4520 5063.63 L 4523.5 5061.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 4745 5000 L 4745 5063.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4745 5068.88 L 4741.5 5061.88 L 4745 5063.63 L 4748.5 5061.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 4745 5000 L 4745 5035 L 5020 5035 L 5020 5063.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5020 5068.88 L 5016.5 5061.88 L 5020 5063.63 L 5023.5 5061.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4480" y="4920" width="530" height="80" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 528px; height: 1px; padding-top: 4927px; margin-left: 4482px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-13" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">1. const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">h1</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-attr-name">title</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">=</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">"</span><span class="token-attr-value" style="color: rgb(170 , 246 , 217)">foo</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span><span class="token-plain">Hello</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;/</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">h1</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-14" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">2. const</span><span class="token-plain"> container </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> document</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">getElementById</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"root"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-24" style="display: inline-block"><span class="token-plain">3. ReactDOM</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="4482" y="4939" fill="#000000" font-family="Helvetica" font-size="12px">1. const element = &lt;h1 title="foo"&gt;Hello&lt;/h1&gt;...</text></switch></g><path d="M 4520 5390 L 4520 5473.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4520 5478.88 L 4516.5 5471.88 L 4520 5473.63 L 4523.5 5471.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5433px; margin-left: 4520px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">得到 vnode 虚拟节点</div></div></div></foreignObject><text x="4520" y="5436" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">得到 vnode 虚拟节点</text></switch></g><rect x="4335" y="5240" width="370" height="150" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 368px; height: 1px; padding-top: 5247px; margin-left: 4337px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-7" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> React</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-8" style="display: inline-block"><span class="token-plain"></span><span class="token-string" style="color: rgb(170 , 246 , 217)">  "h1"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-9" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  {</span><span class="token-plain"> title</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"foo"</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-10" style="display: inline-block"><span class="token-plain"></span><span class="token-string" style="color: rgb(170 , 246 , 217)">  "Hello"</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-11" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-12" style="display: inline-block"><span class="token-plain">​</span></div></div></div></div></div></foreignObject><text x="4337" y="5259" fill="#000000" font-family="Helvetica" font-size="12px">const element = React.createElement(...</text></switch></g><path d="M 4681.5 5550 L 4805.8 5550 L 4805.8 5240 L 4923.63 5240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4928.88 5240 L 4921.88 5243.5 L 4923.63 5240 L 4921.88 5236.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5430px; margin-left: 4805px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">vnode传递给 render</div></div></div></foreignObject><text x="4805" y="5433" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">vnode传递给 render</text></switch></g><rect x="4358.5" y="5480" width="323" height="140" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 321px; height: 1px; padding-top: 5487px; margin-left: 4361px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-0" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-1" style="display: inline-block"><span class="token-plain">  type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"h1"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">, // DOM标签</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-2" style="display: inline-block"><span class="token-plain">  props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ // 元素属性</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-3" style="display: inline-block"><span class="token-plain">    title</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"foo"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-4" style="display: inline-block"><span class="token-plain">    children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"Hello"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">, // 孩子节点</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-5" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-6" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-12" style="display: inline-block"><span class="token-plain">​</span></div></div></div></div></div></foreignObject><text x="4361" y="5499" fill="#000000" font-family="Helvetica" font-size="12px">const element = {...</text></switch></g><path d="M 5020 5270 L 5020 5410 L 5043.63 5410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5048.88 5410 L 5041.88 5413.5 L 5043.63 5410 L 5041.88 5406.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 5020 5270 L 5020 5530 L 5043.63 5530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5048.88 5530 L 5041.88 5533.5 L 5043.63 5530 L 5041.88 5526.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 5020 5270 L 5020 5640 L 5043.63 5640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5048.88 5640 L 5041.88 5643.5 L 5043.63 5640 L 5041.88 5636.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 5020 5270 L 5020 5750 L 5043.63 5750" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5048.88 5750 L 5041.88 5753.5 L 5043.63 5750 L 5041.88 5746.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4930" y="5210" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5240px; margin-left: 4931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">render 步骤</div></div></div></foreignObject><text x="5020" y="5244" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">render 步骤</text></switch></g><path d="M 5230 5410 L 5283.63 5410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5288.88 5410 L 5281.88 5413.5 L 5283.63 5410 L 5281.88 5406.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5050" y="5380" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5410px; margin-left: 5051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">3.1 根据 type 标签名创建元素</div></div></div></foreignObject><text x="5140" y="5414" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">3.1 根据 type 标签名创建元素</text></switch></g><path d="M 5230 5530 L 5283.63 5530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5288.88 5530 L 5281.88 5533.5 L 5283.63 5530 L 5281.88 5526.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5050" y="5500" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5530px; margin-left: 5051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">3.2 给 node 追加属性</div></div></div></foreignObject><text x="5140" y="5534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">3.2 给 node 追加属性</text></switch></g><path d="M 5230 5640 L 5293.63 5640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5298.88 5640 L 5291.88 5643.5 L 5293.63 5640 L 5291.88 5636.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5050" y="5610" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5640px; margin-left: 5051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">3.3 根据 children 创建子树</div></div></div></foreignObject><text x="5140" y="5644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">3.3 根据 children 创建子树</text></switch></g><path d="M 5230 5750 L 5293.63 5750" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5298.88 5750 L 5291.88 5753.5 L 5293.63 5750 L 5291.88 5746.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5050" y="5720" width="180" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5750px; margin-left: 5051px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: normal; word-wrap: normal; ">3.4 将 node 和 text children append 到DOM 🌲上</div></div></div></foreignObject><text x="5140" y="5754" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">3.4 将 node 和 text children appen...</text></switch></g><rect x="5290" y="5515" width="360" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 5522px; margin-left: 5292px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span class="token-plain" style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">node</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">[</span><span class="token-string" style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">"title"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">]</span><span class="token-plain" style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">=</span><span class="token-plain" style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">.</span><span class="token-plain" style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">.</span><span class="token-plain" style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(32 , 34 , 38)">title</span></div></div></div></foreignObject><text x="5292" y="5534" fill="#000000" font-family="Helvetica" font-size="12px">node["title"] = element.props.title</text></switch></g><rect x="5290" y="5395" width="500" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 498px; height: 1px; padding-top: 5402px; margin-left: 5292px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span class="token-keyword" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">const</span><span class="token-plain" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)"><span> </span>node<span> </span></span><span class="token-operator" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">=</span><span class="token-plain" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)"><span> </span>document</span><span class="token-punctuation" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">.</span><span class="token-function" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">createElement</span><span class="token-punctuation" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">(</span><span class="token-plain" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">element</span><span class="token-punctuation" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">.</span><span class="token-plain" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">type</span><span class="token-punctuation" style="font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px ; background-color: rgb(32 , 34 , 38)">)</span></div></div></div></foreignObject><text x="5292" y="5414" fill="#000000" font-family="Helvetica" font-size="12px">const node = document.createElement(element.type)</text></switch></g><path d="M 5730 5640 Q 5780 5640 5780 5588.25 Q 5780 5536.5 5834.83 5536.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5840.08 5536.5 L 5833.08 5540 L 5834.83 5536.5 L 5833.08 5533 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5300" y="5602.5" width="430" height="75" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 428px; height: 1px; padding-top: 5610px; margin-left: 5302px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-19" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">// 因为这里只有一个文本节点 "Hello"</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-19" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> text </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> document</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createTextNode</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">""</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-20" style="display: inline-block"><span class="token-plain">text</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"nodeValue"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div></div></div></div></foreignObject><text x="5302" y="5622" fill="#000000" font-family="Helvetica" font-size="12px">// 因为这里只有一个文本节点 "Hello"...</text></switch></g><rect x="5800" y="5540" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5550px; margin-left: 5820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Text</div></div></div></foreignObject><text x="5820" y="5554" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">Text</text></switch></g><path d="M 5870 5520 C 5838 5520 5830 5547.5 5855.6 5553 C 5830 5565.1 5858.8 5591.5 5879.6 5580.5 C 5894 5602.5 5942 5602.5 5958 5580.5 C 5990 5580.5 5990 5558.5 5970 5547.5 C 5990 5525.5 5958 5503.5 5930 5514.5 C 5910 5498 5878 5498 5870 5520 Z" fill="#323438" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 154px; height: 1px; padding-top: 5548px; margin-left: 5833px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">    nodeValue 只针对文本，       注 释，CDATA 节点有效，其他都返回 null</div></div></div></foreignObject><text x="5910" y="5551" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">nodeValue 只针对文本，       注 释，CDAT...</text></switch></g><rect x="5300" y="5715" width="270" height="70" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 268px; height: 1px; padding-top: 5722px; margin-left: 5302px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-22" style="display: inline-block"><span class="token-plain">node</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">text</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-23" style="display: inline-block"><span class="token-plain">container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">node</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="5302" y="5734" fill="#FFFFFF" font-family="Helvetica" font-size="12px">node.appendChild(text)...</text></switch></g><path d="M 3930 4990 L 3930 5203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 5208.88 L 3926.5 5201.88 L 3930 5203.63 L 3933.5 5201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3820 4955 L 3820 4965 L 3377.5 4965 L 3377.5 4975 L 3347.5 4960 L 3377.5 4945 L 3377.5 4955 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4961px; margin-left: 3589px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">render 函数</div></div></div></foreignObject><text x="3589" y="4964" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">render 函数</text></switch></g><rect x="3820" y="4930" width="220" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 4960px; margin-left: 3821px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step1 jsx -&gt; js createElement 函数</div></div></div></foreignObject><text x="3930" y="4964" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step1 jsx -&gt; js createElement 函数</text></switch></g><path d="M 3250 4990 L 3250 5203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3250 5208.88 L 3246.5 5201.88 L 3250 5203.63 L 3253.5 5201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5120px; margin-left: 3255px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">ReactDOM.render</div></div></div></foreignObject><text x="3255" y="5123" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">ReactDOM.render</text></switch></g><path d="M 3152.5 4955 L 3152.5 4965 L 2850 4965 L 2850 4975 L 2820 4960 L 2850 4945 L 2850 4955 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4961px; margin-left: 3002px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">递归render问题</div></div></div></foreignObject><text x="3002" y="4964" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">递归render问题</text></switch></g><rect x="3152.5" y="4930" width="195" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 4960px; margin-left: 3154px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step2 render 函数</div></div></div></foreignObject><text x="3250" y="4964" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step2 render 函数</text></switch></g><path d="M 2680 4990 L 2680 5103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2680 5108.88 L 2676.5 5101.88 L 2680 5103.63 L 2683.5 5101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2685 4930 L 2675 4930 L 2675 4830 L 2665 4830 L 2680 4800 L 2695 4830 L 2685 4830 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2540" y="4930" width="280" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4960px; margin-left: 2541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step3 并发模式</div></div></div></foreignObject><text x="2680" y="4964" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step3 并发模式</text></switch></g><path d="M 2680 4740 L 2680 4679.5 L 2681.8 4679.5 L 2681.8 4625.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2681.8 4620.12 L 2685.3 4627.12 L 2681.8 4625.37 L 2678.3 4627.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4673px; margin-left: 2680px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">每个元素都有自己的 Fiber，<br />每个 Fiber 就是一个 work unit</div></div></div></foreignObject><text x="2680" y="4677" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">每个元素都有自己的 Fiber，...</text></switch></g><path d="M 2820.5 4775 L 2820.5 4765 L 3103.5 4765 L 3103.5 4754.5 L 3122.5 4770 L 3103.5 4785.5 L 3103.5 4775 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2540" y="4740" width="280" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4770px; margin-left: 2541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step4 fiber 组织任务单元</div></div></div></foreignObject><text x="2680" y="4774" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step4 fiber 组织任务单元</text></switch></g><path d="M 3930 5380 L 3930 5493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 5498.88 L 3926.5 5491.88 L 3930 5493.63 L 3933.5 5491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5439px; margin-left: 3931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">转成下面的代码，得到 element 结构</div></div></div></foreignObject><text x="3931" y="5442" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">转成下面的代码，得到 element 结构</text></switch></g><rect x="3835" y="5210" width="190" height="170" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 5217px; margin-left: 3837px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-66" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-67" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  &lt;</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">div</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-attr-name">id</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">=</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">"</span><span class="token-attr-value" style="color: rgb(170 , 246 , 217)">foo</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-68" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    &lt;</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">a</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span><span class="token-plain">bar</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;/</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">a</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-69" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    &lt;</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">b</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">/&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-70" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  &lt;/</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">div</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-71" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="3837" y="5229" fill="#FFFFFF" font-family="Helvetica" font-size="12px">const element = (...</text></switch></g><path d="M 3930 5630 L 3930 5733.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 5738.88 L 3926.5 5731.88 L 3930 5733.63 L 3933.5 5731.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5657px; margin-left: 3930px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">所有就有了 createElement 的初步实现</div></div></div></foreignObject><text x="3930" y="5660" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">所有就有了 createElement 的初步实现</text></switch></g><rect x="3735" y="5500" width="390" height="130" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 388px; height: 1px; padding-top: 5507px; margin-left: 3737px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-59" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> React</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-60" style="display: inline-block"><span class="token-plain"></span><span class="token-string" style="color: rgb(170 , 246 , 217)">  "div"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-61" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  {</span><span class="token-plain"> id</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"foo"</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-64" style="display: inline-block"><span class="token-plain">  React</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"a"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"bar"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-65" style="display: inline-block"><span class="token-plain">  React</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"b"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-71" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="3737" y="5519" fill="#FFFFFF" font-family="Helvetica" font-size="12px">const element = React.createElement(...</text></switch></g><path d="M 3930 5980 L 3930 6033.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 6038.88 L 3926.5 6031.88 L 3930 6033.63 L 3933.5 6031.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3672.5 5860 L 3600 5860 L 3600 5080 L 3298.8 5080 L 3298.75 4996.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3298.75 4991.12 L 3302.25 4998.12 L 3298.75 4996.37 L 3295.25 4998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3672.5" y="5740" width="515" height="240" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 513px; height: 1px; padding-top: 5747px; margin-left: 3675px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-0" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">...</span><span class="token-parameter">children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-0" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">// 这里使用 rest spread 符号，将 children = [...] 或 []<br /></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-1" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  return</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-2" style="display: inline-block"><span class="token-plain">    type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-3" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-4" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)">      ...</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-5" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-6" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-string" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-7" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-8" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-9" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-10" style="display: inline-block"><span class="token-plain">      children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-12" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-13" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">} // 即这里返回的最简结构是： {type: 'div', props: { children : [] } }</span></div></div></div></div></div></foreignObject><text x="3675" y="5759" fill="#000000" font-family="Helvetica" font-size="12px">function createElement(type, props, ...children) {...</text></switch></g><path d="M 3930 6210 L 3930 6253.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 6258.88 L 3926.5 6251.88 L 3930 6253.63 L 3933.5 6251.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3700" y="6040" width="460" height="170" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 458px; height: 1px; padding-top: 6047px; margin-left: 3702px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><font color="#aaf6d9">// 增加 children 中 child 类型判断</font></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><br /></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-5" style="display: inline-block"><span class="token-plain">children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">map</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">child</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-6" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  typeof</span><span class="token-plain"> child </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"object"</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-7" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)">    ?</span><span class="token-plain"> child</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-7" style="display: inline-block"><span class="token-plain">     </span></div><span style="color: rgb(170 , 246 , 217)">// 不是引用类型，创建纯文本节点 </span><code class="css-4n25ps" style="color: rgb(60 , 120 , 120) ; background-color: rgb(250 , 249 , 245)">TEXT_ELEMENT</code><span style="color: rgb(51 , 51 , 51) ; font-family: &quot;merriweather&quot; , &quot;georgia&quot; , serif ; background-color: rgb(250 , 249 , 245)">.</span></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-8" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    :</span><span class="token-plain"> </span><span class="token-function">createTextElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-9" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">   )</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div></div></div></div></div></foreignObject><text x="3702" y="6059" fill="#000000" font-family="Helvetica" font-size="12px">// 增加 children 中 child 类型判断...</text></switch></g><path d="M 3755 6365 L 3625 6365 L 3625 6140 L 3501.37 6140" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3496.12 6140 L 3503.12 6136.5 L 3501.37 6140 L 3503.12 6143.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6279px; margin-left: 3624px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">文本节点 type 是 TEXT_ELEMENT</div></div></div></foreignObject><text x="3624" y="6282" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">文本节点 type 是 TEXT_ELEMENT</text></switch></g><rect x="3755" y="6260" width="350" height="210" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 348px; height: 1px; padding-top: 6267px; margin-left: 3757px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-15" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">// 创建文本节点</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-15" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">createTextElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">text</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-16" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  return</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-17" style="display: inline-block"><span class="token-plain">    type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"TEXT_ELEMENT"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-18" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-19" style="display: inline-block"><span class="token-plain">      nodeValue</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> text</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-20" style="display: inline-block"><span class="token-plain">      children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-21" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-22" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-23" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3757" y="6279" fill="#000000" font-family="Helvetica" font-size="12px">// 创建文本节点...</text></switch></g><path d="M 3250 5310 L 3250 5388.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3250 5393.88 L 3246.5 5386.88 L 3250 5388.63 L 3253.5 5386.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5351px; margin-left: 3250px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1. 创建根元素 append</div></div></div></foreignObject><text x="3250" y="5354" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1. 创建根元素 append</text></switch></g><rect x="3060" y="5210" width="380" height="100" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 378px; height: 1px; padding-top: 5217px; margin-left: 3062px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-30" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-43" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-44" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO create dom nodes</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-45" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3062" y="5229" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><path d="M 3250 5545 L 3250 5633.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3250 5638.88 L 3246.5 5631.88 L 3250 5633.63 L 3253.5 5631.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5592px; margin-left: 3251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">2. 遍历子节点，递归调用 render 创建</div></div></div></foreignObject><text x="3251" y="5595" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">2. 遍历子节点，递归调用 render 创建</text></switch></g><rect x="3005" y="5395" width="490" height="150" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 5402px; margin-left: 3007px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">// 1. 创建元素，将其插入到容器中，这里相当于根节点了</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-30" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> document</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-39" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-40" style="display: inline-block"><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-41" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-42" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-43" style="display: inline-block"><span class="token-plain">  container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-45" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3007" y="5414" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><path d="M 3250 5900 L 3250 5973.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3250 5978.88 L 3246.5 5971.88 L 3250 5973.63 L 3253.5 5971.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5928px; margin-left: 3249px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">3. 检测节点是文本还是普通元素类型</div></div></div></foreignObject><text x="3249" y="5931" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">3. 检测节点是文本还是普通元素类型</text></switch></g><path d="M 3005 5770 L 2920 5770 L 2920 5070 L 2750 5070 L 2750 4996.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2750 4991.12 L 2753.5 4998.12 L 2750 4996.37 L 2746.5 4998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5131px; margin-left: 2920px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">这里render <br />children 的时<br />候并没有<br />递归的终结<br />条件，也就<br />意味着这里<br />如果 chldren 树<br />很大的时候会<br />阻塞主线程</div></div></div></foreignObject><text x="2920" y="5134" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">这里render...</text></switch></g><rect x="3005" y="5640" width="490" height="260" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 5647px; margin-left: 3007px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 1. 创建元素，将其插入到容器中，这里相当于根节点了</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-30" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> document</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">  </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">  </span></div></div><span style="font-family: monospace ; font-size: 16px"><font color="#aaf6d9">  // 2. render children</font><br /><font color="#0000ff">+  element.children.forEach(<br />+    child =&gt; render(child, dom)<br />+  )</font><br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-39" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-40" style="display: inline-block"><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-41" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-42" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-43" style="display: inline-block"><span class="token-plain">  container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-45" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3007" y="5659" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><path d="M 3250 6300 L 3250 6383.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3250 6388.88 L 3246.5 6381.88 L 3250 6383.63 L 3253.5 6381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6345px; margin-left: 3251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">4. 处理属性 props ，除 chldren 之外的</div></div></div></foreignObject><text x="3251" y="6348" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">4. 处理属性 props ，除 chldren 之外的</text></switch></g><rect x="3005" y="5980" width="490" height="320" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 5987px; margin-left: 3007px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 1. 创建元素，将其插入到容器中，这里相当于根节点了</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-30" style="display: inline-block"><font color="#dfddd9"><span class="token-plain"></span></font><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain" style="color: rgb(223 , 221 , 217)"> dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> <font color="#cccccc"><strike>document</strike></font></span><font color="#cccccc"><strike><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">element</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-punctuation">)</span></strike></font></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  // 3. 检查节点类型是文本还是普通元素<br /></span><span style="color: rgb(0 , 0 , 255) ; font-family: monospace ; font-size: 16px">+</span><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  </span><span style="font-family: monospace ; font-size: 16px"><font color="#0000ff">dom = element.type === 'TEXT_ELEMENT' <br />+   ? document.createTextNode('')<br />+   : document.createElement(element.type)</font><br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">  </span></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  // 2. render children<br />  element.children.forEach(<br />    child =&gt; render(child, dom)<br />  )<br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-39" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-40" style="display: inline-block"><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-41" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-42" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-43" style="display: inline-block"><span class="token-plain">  container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-45" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3007" y="5999" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><rect x="2952.5" y="6390" width="595" height="430" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 593px; height: 1px; padding-top: 6397px; margin-left: 2955px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-25" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 1. 创建元素，将其插入到容器中，这里相当于根节点了</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-30" style="display: inline-block"><font color="#dfddd9"><span class="token-plain"></span></font><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain" style="color: rgb(223 , 221 , 217)"> dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> <font color="#cccccc"><strike>document</strike></font></span><font color="#cccccc"><strike><span class="token-punctuation">.</span><span class="token-function">createElement</span><span class="token-punctuation">(</span><span class="token-plain">element</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-punctuation">)</span></strike></font></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  // 3. 检查节点类型是文本还是普通元素<br /></span><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  </span><span style="font-family: monospace ; font-size: 16px"><font color="#cccccc">dom = element.type === 'TEXT_ELEMENT' <br />    ? document.createTextNode('')<br />    : document.createElement(element.type)</font><br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><br /></div><span style="font-family: monospace ; font-size: 16px"><font color="#aaf6d9">  // 4. patch prop</font><br /><font color="#0000ff">+  const isProperty = key =&gt; key !== 'children'<br />+  Object.keys(element.props)<br />+        .filter(isProperty)<br />+        .forEach(name =&gt; (dom[name] = elements.props[name]))<br /></font></span><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain"><font color="#0000ff"> </font><font color="#dfddd9"> </font></span></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  // 2. render children<br />  </span><span style="font-family: monospace ; font-size: 16px"><font color="#cccccc">element.children.forEach(<br />    child =&gt; render(child, dom)<br />  )</font><br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-31" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-39" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-40" style="display: inline-block"><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-41" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-42" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-43" style="display: inline-block"><span class="token-plain">  container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-45" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="2955" y="6409" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><path d="M 2680 5170 L 2680 5230 L 2600 5230 L 2600 5283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2600 5288.88 L 2596.5 5281.88 L 2600 5283.63 L 2603.5 5281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2565" y="5110" width="230" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 5140px; margin-left: 2566px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">解决阻塞问题，将任务拆分成很小的单元去执行，如果有更重要的任务可以先执行</div></div></div></foreignObject><text x="2680" y="5144" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">解决阻塞问题，将任务拆分成很小的单元去执行，如果有更重要的任务可以先执行</text></switch></g><path d="M 2485 5290 L 2485 4840 L 2296.37 4840" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2291.12 4840 L 2298.12 4836.5 L 2296.37 4840 L 2298.12 4843.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2370" y="5290" width="460" height="503" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 458px; height: 1px; padding-top: 5297px; margin-left: 2372px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-44" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">let</span><span class="token-plain"> nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-45" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-46" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">deadline</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-47" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> shouldYield </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-boolean">false</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-48" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">shouldYield</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-48" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 当前任务执行结束，得到下一个待执行的任务</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-49" style="display: inline-block"><span class="token-plain">    nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-50" style="display: inline-block"><span class="token-plain">      nextUnitOfWork</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-51" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    )</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><font color="#aaf6d9">    // 截止时间到，停止？</font></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-52" style="display: inline-block"><span class="token-plain">    shouldYield </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> deadline</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">timeRemaining</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">1</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-53" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">   }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-53" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 请求下一个空闲时间</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-54" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  requestIdleCallback</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-55" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-56" style="display: inline-block"><span class="token-plain">​</span></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">// 类似 setTimeout，目前 react 已经不用了<br />// 而是使用 <a href="https://github.com/facebook/react/tree/master/packages/scheduler">package/scheduler</a></span><span style="font-size: 16px ; font-family: monospace ; color: rgb(170 , 246 , 217)"><br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-57" style="display: inline-block"><span class="token-function">requestIdleCallback</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-58" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-59" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">nextUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-60" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO 待实现部分</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-61" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="2372" y="5309" fill="#000000" font-family="Helvetica" font-size="12px">let nextUnitOfWork = null...</text></switch></g><path d="M 2540 4454.5 L 2435 4454.5 L 2435 4452.5 L 2336.37 4452.48" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2331.12 4452.48 L 2338.12 4448.98 L 2336.37 4452.48 L 2338.12 4455.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4453px; margin-left: 2448px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">对应 jsx</div></div></div></foreignObject><text x="2448" y="4456" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">对应 jsx</text></switch></g><path d="M 2540 4372.25 L 2392.5 4372.3 L 2392.5 4316.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2392.5 4311.12 L 2396 4318.12 L 2392.5 4316.37 L 2389 4318.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2540" y="4290" width="283.47" height="329" fill="#323438" stroke="none" pointer-events="all"/><image x="2539.5" y="4289.5" width="283.47" height="329" xlink:href="https://pomb.us/static/a88a3ec01855349c14302f6da28e2b0c/ac667/fiber1.png" preserveAspectRatio="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="2491" y="4260" width="383" height="29" stroke-width="0"/><text x="2681.24" y="4270.5">图中每个 fiber 都有三个出口引用， parent, first child, next siblings，</text><text x="2681.24" y="4284.5">这种结构的目的是为了能快速的找到下一个 work unit(例如： h1)</text></g><path d="M 2250 4560.6 L 2250 4615.3 L 2175 4615.3 L 2175 4663.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 4668.88 L 2171.5 4661.88 L 2175 4663.63 L 2178.5 4661.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2170" y="4344.36" width="160" height="216.24" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 158px; height: 1px; padding-top: 4351px; margin-left: 2172px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre class="language-jsx prism-code language-jsx css-1g4vcl8" style="padding: 0px 0px 0px 14px ; margin: 0px 0px 28px ; overflow: auto ; border-radius: 10px ; color: rgb(51 , 51 , 51) ; background-color: rgb(250 , 249 , 245) ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px"><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">Didact</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">.</span><span class="token function css-1baulvz" style="display: inline-block">render</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">(</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">  </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">div</span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&gt;</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">h1</span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&gt;</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">      </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">p</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)"> </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">/&gt;</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">      </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">a</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)"> </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">/&gt;</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;/</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">h1</span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&gt;</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">h2</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)"> </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">/&gt;</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">  </span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&lt;/</span><span class="token tag css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">div</span><span class="token tag punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">&gt;</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">,</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">  container</span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block"></span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">)</span></div></pre></div></div></div></foreignObject><text x="2172" y="4363" fill="#000000" font-family="Helvetica" font-size="12px">Didact.render(...</text></switch></g><path d="M 2175 4730 L 2175 4803.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 4808.88 L 2171.5 4801.88 L 2175 4803.63 L 2178.5 4801.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2060" y="4670" width="230" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 4700px; margin-left: 2061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. nextUnitOfWork = root fiber<br />root 节点的 fiber 作为起始 work unit</div></div></div></foreignObject><text x="2175" y="4704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">1. nextUnitOfWork = root fiber...</text></switch></g><path d="M 2175 4870 L 2175 4943.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 4948.88 L 2171.5 4941.88 L 2175 4943.63 L 2178.5 4941.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2060" y="4810" width="230" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 4840px; margin-left: 2061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2. 其他的 node fiber 会在 performUnitOfWork 中发生</div></div></div></foreignObject><text x="2175" y="4844" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">2. 其他的 node fiber 会在 performUnitOfWork 中发生</text></switch></g><path d="M 2060 4980 L 1595.1 4980 L 1595.06 5309.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1595.06 5314.88 L 1591.56 5307.88 L 1595.06 5309.63 L 1598.56 5307.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5115px; margin-left: 1597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">performUnitOfWork(fiber) 做的三件事</div></div></div></foreignObject><text x="1597" y="5118" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">performUnitOfWork(fiber) 做的三件事</text></switch></g><path d="M 2175 5010 L 2175 5083.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 5088.88 L 2171.5 5081.88 L 2175 5083.63 L 2178.5 5081.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2060" y="4950" width="230" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 4980px; margin-left: 2061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">接下来就是 performUnitOfWork 实现了，这里面主要完成三件事情</div></div></div></foreignObject><text x="2175" y="4984" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">接下来就是 performUnitOfWork 实现了，这里面主要完成三件事情</text></switch></g><rect x="1480" y="5235" width="220" height="120" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1480 5275 L 1700 5275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1480 5315 L 1700 5315" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1520 5235 L 1520 5355" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1480 5235 M 1700 5235 M 1700 5275 M 1480 5275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1480" y="5235" width="40" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1480 5235 M 1520 5235 M 1520 5275 M 1480 5275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 5255px; margin-left: 1481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">3</div></div></div></foreignObject><text x="1500" y="5259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">3</text></switch></g><rect x="1520" y="5235" width="180" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1520 5235 M 1700 5235 M 1700 5275 M 1520 5275" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5255px; margin-left: 1521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">选择下一个 work unit</div></div></div></foreignObject><text x="1610" y="5259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">选择下一个 work unit</text></switch></g><path d="M 1480 5275 M 1700 5275 M 1700 5315 M 1480 5315" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1480" y="5275" width="40" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1480 5275 M 1520 5275 M 1520 5315 M 1480 5315" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 5295px; margin-left: 1481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="1500" y="5299" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">2</text></switch></g><rect x="1520" y="5275" width="180" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1520 5275 M 1700 5275 M 1700 5315 M 1520 5315" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5295px; margin-left: 1521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">为 element.children 每个child 创建 fiber</div></div></div></foreignObject><text x="1610" y="5299" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">为 element.children 每个child 创建 fiber</text></switch></g><path d="M 1480 5315 M 1700 5315 M 1700 5355 M 1480 5355" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1480" y="5315" width="40" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1480 5315 M 1520 5315 M 1520 5355 M 1480 5355" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 5335px; margin-left: 1481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="1500" y="5339" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">1</text></switch></g><rect x="1520" y="5315" width="180" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1520 5315 M 1700 5315 M 1700 5355 M 1520 5355" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5335px; margin-left: 1521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">将 element 添加到 DOM 🌲</div></div></div></foreignObject><text x="1610" y="5339" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将 element 添加到 DOM 🌲</text></switch></g><rect x="2190" y="4010" width="270" height="300" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 262px; height: 1px; padding-top: 4000px; margin-left: 2195px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 310px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>Fiber 查找执行顺序</h1><p>1. 执行自身的 fiber，如： root -&gt; div -&gt; ...</p><p>2. 查找第一个 child，如：div -&gt; h1</p><p>3. 如果没有 children，则查找 sibling，比如： &lt;p&gt; 下一个 unit work 是 &lt;a&gt;</p><p>4. 既没有 children 也没有 sibling，那么下个 unit work 将是当前元素的父级的 sibling，比如： &lt;a&gt; 它既无children 也没有 sibling，那么会找 h1 的 sibling: &lt;h2&gt;</p><p>5. 最后如果连 parent 的 sibling 都找不到，那最后到了 root 就表示当前的 render 结束了</p><p>所以，最后优先级：</p><p><font color="#ff0000"><b>first child &gt; child sibling &gt; parent sibling</b></font></p></div></div></div></foreignObject><text x="2195" y="4012" fill="#000000" font-family="Helvetica" font-size="12px">Fiber 查找执行顺序...</text></switch></g><path d="M 2175 5150 L 2175 5200 L 2060 5200 L 2060 5243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2060 5248.88 L 2056.5 5241.88 L 2060 5243.63 L 2063.5 5241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2060" y="5090" width="230" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 5120px; margin-left: 2061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">重新实现 render 函数</div></div></div></foreignObject><text x="2175" y="5124" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">重新实现 render 函数</text></switch></g><path d="M 2060 5480 L 2060 5545 L 2061 5545 L 2061 5603.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2061 5608.88 L 2057.5 5601.88 L 2061 5603.63 L 2064.5 5601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5552px; margin-left: 2061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">DOM ready 之后启动 workLoop 去执行 fiber work flow</div></div></div></foreignObject><text x="2061" y="5555" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">DOM ready 之后启动 workLoop 去执行 fiber work flow</text></switch></g><rect x="1870" y="5250" width="380" height="230" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 378px; height: 1px; padding-top: 5257px; margin-left: 1872px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-144" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-144" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 1. 组织 unit work 结构，将</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><font color="#aaf6d9">  // container 作为 fiber tree 的 root    // unit work</font></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-146" style="display: inline-block"><span class="token-plain">  nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-147" style="display: inline-block"><span class="token-plain">    dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-148" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-149" style="display: inline-block"><span class="token-plain">      children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-152" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-157" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-158" style="display: inline-block"><span class="token-plain">​</span></div></div></div></div></div></foreignObject><text x="1872" y="5269" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><path d="M 2061 5860 L 2061 5940 L 1520 5940 L 1520 5862.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1520 5857.12 L 1523.5 5864.12 L 1520 5862.37 L 1516.5 5864.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5943px; margin-left: 1702px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">实现 performUnitOfWork(fiber)</div></div></div></foreignObject><text x="1702" y="5946" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">实现 performUnitOfWork(fiber)</text></switch></g><path d="M 2061 5860 L 2061 6010 L 1740 6010 L 1740 6063.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1740 6068.88 L 1736.5 6061.88 L 1740 6063.63 L 1743.5 6061.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6009px; margin-left: 1830px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">最后完整的 performUnitOfWork 函数</div></div></div></foreignObject><text x="1830" y="6012" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">最后完整的 performUnitOfWork 函数</text></switch></g><rect x="1826" y="5610" width="470" height="250" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 5617px; margin-left: 1828px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-164" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">deadline</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-165" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> shouldYield </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-boolean">false</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-166" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">shouldYield</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-167" style="display: inline-block"><span class="token-plain">    nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-168" style="display: inline-block"><span class="token-plain">      nextUnitOfWork</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-169" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    )</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-170" style="display: inline-block"><span class="token-plain">    shouldYield </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> deadline</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">timeRemaining</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">1</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-171" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-177" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  requestIdleCallback</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-178" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-179" style="display: inline-block"><span class="token-plain">​</span></div></div></div></div></div></foreignObject><text x="1828" y="5629" fill="#000000" font-family="Helvetica" font-size="12px">function workLoop(deadline) {...</text></switch></g><path d="M 1300 5767 L 1270 5767 L 1270 5713.5 L 1246.37 5713.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1241.12 5713.5 L 1248.12 5710 L 1246.37 5713.5 L 1248.12 5717 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5740px; margin-left: 1270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">2</div></div></div></foreignObject><text x="1270" y="5743" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">2</text></switch></g><path d="M 1410 5856 L 1410 6367.5 L 1533.63 6367.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1538.88 6367.5 L 1531.88 6371 L 1533.63 6367.5 L 1531.88 6364 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6177px; margin-left: 1410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step1 创建 dom 并 append</div></div></div></foreignObject><text x="1410" y="6180" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step1 创建 dom 并 append</text></switch></g><rect x="1300" y="5500" width="440" height="356" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 5507px; margin-left: 1302px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">   // 1. 创建 DOM ，并将其 append 到DOM🌲</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 在 fiber 结构上持有一份DOM元素节点引用</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-184" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-186" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-187" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-188" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-190" style="display: inline-block"><span class="token-plain">​  </span></div></div><br /><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-number" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-256" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-257" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-258" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-260" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-261" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-287" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">  // 2. TODO create new fibers</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-287" style="display: inline-block"><span class="token-comment" style="font-style: italic">  // 为每个 child 创建 fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-288" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">  // TODO return next unit of work</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-291" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="1302" y="5519" fill="#000000" font-family="Helvetica" font-size="12px">function performUnitOfWork(fiber) {...</text></switch></g><path d="M 1480 5335 L 1410 5335 L 1410 5493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1410 5498.88 L 1406.5 5491.88 L 1410 5493.63 L 1413.5 5491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5430px; margin-left: 1413px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1. 当前 element fiber 处理</div></div></div></foreignObject><text x="1413" y="5433" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1. 当前 element fiber 处理</text></switch></g><path d="M 1040 5927 L 1040 6023.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1040 6028.88 L 1036.5 6021.88 L 1040 6023.63 L 1043.5 6021.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5975px; margin-left: 1043px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">因为 firber 的结构问题,总是持有三个引用，<br />parent, firs child, sibling，因为需要能快速的<br />找到下一个 work unit</div></div></div></foreignObject><text x="1043" y="5978" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">因为 firber 的结构问题,总是持有三个引用，...</text></switch></g><rect x="840" y="5500" width="400" height="427" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 398px; height: 1px; padding-top: 5507px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-188" style="display: inline-block"><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-plain">  </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-190" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> elements </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">t</span><span class="token-plain"> </span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">v</span><span class="token-plain">S</span><span class="token-plain">i</span><span class="token-plain">b</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">u</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  w</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">h</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">i</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-plain">e</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">t</span><span class="token-plain">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain">t</span><span class="token-plain">h</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">index</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-256" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-257" style="display: inline-block"><span class="token-plain">      type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-258" style="display: inline-block"><span class="token-plain">      props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-260" style="display: inline-block"><span class="token-plain">      parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-261" style="display: inline-block"><span class="token-plain">      dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-263" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-264" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-number" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-267" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-268" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-269" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-270" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-271" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-272" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-273" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-288" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO return next unit of work</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-291" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="842" y="5519" fill="#000000" font-family="Helvetica" font-size="12px">fiber.parent.dom.appendChild(fiber.dom)...</text></switch></g><path d="M 1480 5295 L 1040 5295 L 1040 5493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1040 5498.88 L 1036.5 5491.88 L 1040 5493.63 L 1043.5 5491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5353px; margin-left: 1038px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">2. 遍历所有的 children 为每个<br />child 创建 firber</div></div></div></foreignObject><text x="1038" y="5356" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">2. 遍历所有的 children 为每个...</text></switch></g><path d="M 1245 6495 L 1392.5 6495 L 1392.5 6665 L 1533.63 6665" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1538.88 6665 L 1531.88 6668.5 L 1533.63 6665 L 1531.88 6661.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6519px; margin-left: 1396px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step2 将 parent, first child, sibling 链起来</div></div></div></foreignObject><text x="1396" y="6522" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step2 将 parent, first child, sibling 链起来</text></switch></g><rect x="835" y="6030" width="410" height="620" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 6037px; margin-left: 837px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-256" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-257" style="display: inline-block"><span class="token-plain">      type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-258" style="display: inline-block"><span class="token-plain">      props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-260" style="display: inline-block"><span class="token-plain">      parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-261" style="display: inline-block"><span class="token-plain">      dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-263" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-264" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-264" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">      // 1. firber 的第一个 child引用</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-267" style="display: inline-block"><span class="token-plain">      fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-268" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-268" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">      // 2. firber 的最近的兄弟节点</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-269" style="display: inline-block"><span class="token-plain">      prevSibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-270" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-271" style="display: inline-block"><span class="token-plain">​    </span></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">    // 3. 这里等于是将 firber.child.sibling<br />    // 指向了 firber.child 的第一个兄弟节点<br />    // 以及兄弟的兄弟节点的引用<br />    // 如： children = [a,b,c,d]<br />    // 那么就有 firber.child = a<br />    // a.sibling = b, b.sibling = c,<br />    // c.sibling = d, ...<br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-272" style="display: inline-block"><span class="token-plain">    prevSibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-273" style="display: inline-block"><span class="token-plain">    index</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">++</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-276" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-277" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-278" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-279" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-280" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-281" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-282" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-284" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-285" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-288" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO return next unit of work</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-291" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="837" y="6049" fill="#000000" font-family="Helvetica" font-size="12px">const newFiber = {...</text></switch></g><path d="M 350 5658.75 L 185.29 5548.43" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 180.93 5545.51 L 188.69 5546.49 L 185.29 5548.43 L 184.8 5552.31 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5604px; margin-left: 270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1</div></div></div></foreignObject><text x="270" y="5607" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1</text></switch></g><path d="M 350 5817.5 L 186.29 5791.13" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 181.1 5790.29 L 188.57 5787.95 L 186.29 5791.13 L 187.46 5794.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5802px; margin-left: 258px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">2</div></div></div></foreignObject><text x="258" y="5805" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">2</text></switch></g><path d="M 350 5976.25 L 185.88 6044.55" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 181.03 6046.57 L 186.15 6040.65 L 185.88 6044.55 L 188.84 6047.11 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6019px; margin-left: 257px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">3</div></div></div></foreignObject><text x="257" y="6022" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">3</text></switch></g><path d="M 550 6135 L 550 6718.6 L 1534.71 6718.55" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1539.96 6718.55 L 1532.96 6722.05 L 1534.71 6718.55 L 1532.96 6715.05 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6719px; margin-left: 1102px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step3 找到下一个 work unit 返回，查找优先级：first child &gt; sibling &gt; parent sibling</div></div></div></foreignObject><text x="1102" y="6722" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step3 找到下一个 work unit 返回，查找优先级：first child &gt; sibling &gt; parent sibling</text></switch></g><rect x="350" y="5500" width="400" height="635" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 398px; height: 1px; padding-top: 5507px; margin-left: 352px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-272" style="display: inline-block"><span class="token-plain">    prevSibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-273" style="display: inline-block"><span class="token-plain">    index</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">++</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><font color="#aaf6d9">  // 1. 如 A 树： a 节点下有 child b</font></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-276" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-277" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    return</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-278" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-278" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 2. 如 B 树：有 sibling b</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-279" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-280" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-280" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 找到 a 的 sibling b</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-281" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-282" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">      return</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 到这里说明既没有 child 也没有</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // sibling，那需要从回头去找 parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 的 sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 3. 如 C 树：a 节点，下一个 work unit</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 是 parent-b 的 sibling c</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-284" style="display: inline-block"><span class="token-plain">    nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-285" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-291" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="352" y="5519" fill="#000000" font-family="Helvetica" font-size="12px">prevSibling = newFiber...</text></switch></g><rect x="0" y="5429.77" width="180" height="230.23" rx="27" ry="27" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5437px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">A 树</div></div></div></foreignObject><text x="90" y="5449" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">A 树</text></switch></g><ellipse cx="89.13" cy="5474.48" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5474px; margin-left: 71px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">root</div></div></div></foreignObject><text x="89" y="5478" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">root</text></switch></g><path d="M 45.6 5532.58 L 67.53 5480.35" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 69.57 5475.51 L 70.08 5483.32 L 67.53 5480.35 L 63.63 5480.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5503px; margin-left: 58px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">p</div></div></div></foreignObject><text x="58" y="5506" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">p</text></switch></g><ellipse cx="59.13" cy="5546.11" rx="19.130434782608695" ry="19.130434782608695" fill="#323438" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5546px; margin-left: 41px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">a</div></div></div></foreignObject><text x="59" y="5550" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">a</text></switch></g><path d="M 89.13 5493.61 L 63.39 5522.24" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 59.88 5526.15 L 61.96 5518.6 L 63.39 5522.24 L 67.16 5523.28 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 80 5617.74 L 61.48 5571.16" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 59.54 5566.28 L 65.38 5571.49 L 61.48 5571.16 L 58.88 5574.07 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5592px; margin-left: 70px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">p</div></div></div></foreignObject><text x="70" y="5595" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">p</text></switch></g><ellipse cx="99.13" cy="5617.74" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5618px; margin-left: 81px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">b</div></div></div></foreignObject><text x="99" y="5621" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">b</text></switch></g><path d="M 68.42 5562.83 L 86.64 5595.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 89.2 5600.09 L 82.73 5595.68 L 86.64 5595.51 L 88.84 5592.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="5710" width="180" height="160.23" rx="24.03" ry="24.03" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5717px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">B 树</div></div></div></foreignObject><text x="90" y="5729" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">B 树</text></switch></g><ellipse cx="89.13" cy="5754.71" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5755px; margin-left: 71px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">root</div></div></div></foreignObject><text x="89" y="5758" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">root</text></switch></g><path d="M 25.6 5811.59 L 66.08 5759.73" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 69.31 5755.59 L 67.76 5763.26 L 66.08 5759.73 L 62.25 5758.96 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5783px; margin-left: 48px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">parent</div></div></div></foreignObject><text x="48" y="5787" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">parent</text></switch></g><ellipse cx="39.13" cy="5825.12" rx="19.130434782608695" ry="19.130434782608695" fill="#323438" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5825px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">a</div></div></div></foreignObject><text x="39" y="5829" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">a</text></switch></g><path d="M 89.13 5773.84 L 44.49 5802.54" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40.07 5805.38 L 44.07 5798.65 L 44.49 5802.54 L 47.85 5804.54 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 139.64 5808.51 L 111.47 5760.21" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 108.82 5755.67 L 115.37 5759.96 L 111.47 5760.21 L 109.33 5763.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5785px; margin-left: 126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">parent</div></div></div></foreignObject><text x="126" y="5788" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">parent</text></switch></g><ellipse cx="149.13" cy="5825.12" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5825px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">b</div></div></div></foreignObject><text x="149" y="5829" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">b</text></switch></g><path d="M 58.26 5825.12 L 123.63 5825.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 128.88 5825.12 L 121.88 5828.62 L 123.63 5825.12 L 121.88 5821.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5827px; margin-left: 92px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">sibling</div></div></div></foreignObject><text x="92" y="5830" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">sibling</text></switch></g><rect x="0" y="5927" width="180" height="240" rx="27" ry="27" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 5934px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">C 树</div></div></div></foreignObject><text x="90" y="5946" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">C 树</text></switch></g><ellipse cx="89.13" cy="5971.71" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 5972px; margin-left: 71px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">root</div></div></div></foreignObject><text x="89" y="5975" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">root</text></switch></g><path d="M 25.6 6028.59 L 66.08 5976.73" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 69.31 5972.59 L 67.76 5980.26 L 66.08 5976.73 L 62.25 5975.96 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6000px; margin-left: 48px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">p</div></div></div></foreignObject><text x="48" y="6003" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">p</text></switch></g><ellipse cx="39.13" cy="6042.12" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 6042px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">b</div></div></div></foreignObject><text x="39" y="6046" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">b</text></switch></g><path d="M 89.13 5990.84 L 44.49 6019.54" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 40.07 6022.38 L 44.07 6015.65 L 44.49 6019.54 L 47.85 6021.54 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 15.86 6112.86 L 24.53 6061.92" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 25.42 6056.75 L 27.69 6064.23 L 24.53 6061.92 L 20.79 6063.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6084px; margin-left: 21px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">p</div></div></div></foreignObject><text x="21" y="6088" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">p</text></switch></g><ellipse cx="30" cy="6127" rx="20" ry="20" fill="#323438" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 6127px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">a</div></div></div></foreignObject><text x="30" y="6131" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">a</text></switch></g><path d="M 37.34 6061.16 L 32.85 6100.79" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 32.26 6106 L 29.57 6098.65 L 32.85 6100.79 L 36.52 6099.44 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6081px; margin-left: 38px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">fc</div></div></div></foreignObject><text x="38" y="6084" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">fc</text></switch></g><path d="M 144.11 6028.35 L 107.07 5989.83" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 103.43 5986.04 L 110.81 5988.66 L 107.07 5989.83 L 105.76 5993.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6009px; margin-left: 124px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">p</div></div></div></foreignObject><text x="124" y="6013" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">p</text></switch></g><ellipse cx="157.39" cy="6042.12" rx="19.130434782608695" ry="19.130434782608695" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 36px; height: 1px; padding-top: 6042px; margin-left: 139px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">c</div></div></div></foreignObject><text x="157" y="6046" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">c</text></switch></g><path d="M 58.26 6042.12 L 131.89 6042.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 137.14 6042.12 L 130.14 6045.62 L 131.89 6042.12 L 130.14 6038.62 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 6044px; margin-left: 90px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">sibling</div></div></div></foreignObject><text x="90" y="6047" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">sibling</text></switch></g><path d="M 1480 5255 L 550 5255 L 550 5493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 550 5498.88 L 546.5 5491.88 L 550 5493.63 L 553.5 5491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 5363px; margin-left: 549px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">3. 找到下一个 work unit</div></div></div></foreignObject><text x="549" y="5366" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">3. 找到下一个 work unit</text></switch></g><rect x="1540" y="6070" width="540" height="1190" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 538px; height: 1px; padding-top: 6077px; margin-left: 1542px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-180" style="display: inline-block"><span class="token-function">requestIdleCallback</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-181" style="display: inline-block"><span class="token-plain">​// 总共是三个步骤</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 1. 创建 DOM 元素并且加载到真实DOM树中</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // fiber.dom 持有一份元素引用</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-184" style="display: inline-block"><span class="token-plain">   fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-186" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-187" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-188" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 2. 一个 while 循环，给 children 构建 fiber 结构</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 并且将 parent:fiber -&gt; child -&gt; sibling 链起来</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 方便后续查找 work unit，这一步是 step3 的查找基础</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> elements </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">t</span><span class="token-plain"> </span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">v</span><span class="token-plain">S</span><span class="token-plain">i</span><span class="token-plain">b</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">u</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  w</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">h</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">i</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-plain">e</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">t</span><span class="token-plain">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain">t</span><span class="token-plain">h</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">index</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-256" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-257" style="display: inline-block"><span class="token-plain">      type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-258" style="display: inline-block"><span class="token-plain">      props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-260" style="display: inline-block"><span class="token-plain">      parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-261" style="display: inline-block"><span class="token-plain">      dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-263" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-264" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-267" style="display: inline-block"><span class="token-plain">      fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-268" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-269" style="display: inline-block"><span class="token-plain">      prevSibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-270" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-271" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-272" style="display: inline-block"><span class="token-plain">    prevSibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-273" style="display: inline-block"><span class="token-plain">    index</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">++</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"><br /></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 3. 查找下一个 work unit</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 查找优先级 first child &gt; sibling &gt; parent sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-276" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-277" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">   return</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-278" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-279" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-280" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-281" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-282" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">      return</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-284" style="display: inline-block"><span class="token-plain">    nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-285" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-291" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-292" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-293" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> Didact </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-294" style="display: inline-block"><span class="token-plain">  createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div></div></div></div></foreignObject><text x="1542" y="6089" fill="#000000" font-family="Helvetica" font-size="12px">requestIdleCallback(workLoop)...</text></switch></g><path d="M 3263 4740 L 3263 4700 L 3005.5 4700 L 3005.5 4645.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3005.5 4640.12 L 3009 4647.12 L 3005.5 4645.37 L 3002 4647.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3263 4740 L 3263 4700 L 3340 4700 L 3340 4676.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3340 4671.12 L 3343.5 4678.12 L 3340 4676.37 L 3336.5 4678.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3422.5 4775 L 3422.5 4785.5 L 3403.5 4770 L 3422.5 4754.5 L 3422.5 4765 L 3960 4765 L 3960 4729.5 L 3949.5 4729.5 L 3965 4710.5 L 3980.5 4729.5 L 3970 4729.5 L 3970 4775 Z" fill="none" stroke="#000000" stroke-miterlimit="1.42" pointer-events="all"/><path d="M 3422.5 4775 L 3422.5 4785.5 L 3403.5 4770 L 3422.5 4754.5 L 3422.5 4765" fill="none" stroke="#000000" stroke-miterlimit="4" pointer-events="all"/><path d="M 3960 4729.5 L 3949.5 4729.5 L 3965 4710.5 L 3980.5 4729.5 L 3970 4729.5" fill="none" stroke="#000000" stroke-miterlimit="4" pointer-events="all"/><rect x="3123" y="4740" width="280" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4770px; margin-left: 3124px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step5 render 和 commit 阶段</div></div></div></foreignObject><text x="3263" y="4774" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step5 render 和 commit 阶段</text></switch></g><path d="M 3965 4650 L 3965 4576.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3965 4571.12 L 3968.5 4578.12 L 3965 4576.37 L 3961.5 4578.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 4105.5 4685 L 4105.5 4675 L 4757.5 4675 L 4757.5 4664.5 L 4776.5 4680 L 4757.5 4695.5 L 4757.5 4685 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3825" y="4650" width="280" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4680px; margin-left: 3826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step6 更新和删除节点</div></div></div></foreignObject><text x="3965" y="4684" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step6 更新和删除节点</text></switch></g><path d="M 4917 4650 L 4917 4556.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4917 4551.12 L 4920.5 4558.12 L 4917 4556.37 L 4913.5 4558.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4595px; margin-left: 4920px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">实例</div></div></div></foreignObject><text x="4920" y="4598" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">实例</text></switch></g><path d="M 5057.5 4685 L 5057.5 4675 L 5550.5 4675 L 5550.5 4664.5 L 5569.5 4680 L 5550.5 4695.5 L 5550.5 4685 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4777" y="4650" width="280" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4680px; margin-left: 4778px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step7 函数组件</div></div></div></foreignObject><text x="4917" y="4684" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step7 函数组件</text></switch></g><path d="M 3006 4490 L 3006 4390 L 3113.63 4390" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3118.88 4390 L 3111.88 4393.5 L 3113.63 4390 L 3111.88 4386.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2910" y="4490" width="192" height="149" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 184px; height: 1px; padding-top: 4480px; margin-left: 2914px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 159px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>问题</h1><div>在整个 DOM 树渲染完成之前，浏览器有可能会中断这些工作，最后用户看到的可能是个不完整的UI，如何解决这个问题？</div><div><br /></div><div><b><font color="#ff3333">解决方案：从这里移除会使DOM改变的部分，啥意思？</font></b></div></div></div></div></foreignObject><text x="3006" y="4492" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">问题在整个 DOM 树渲染完成之前，浏览器有可能会中断这些工作，最后用户看到的可能是个不完整的UI，如何解决这个问题？...</text></switch></g><path d="M 3340 4210 L 3340 4126.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3340 4121.12 L 3343.5 4128.12 L 3340 4126.37 L 3336.5 4128.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3120" y="4210" width="440" height="460" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 4217px; margin-left: 3122px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><br /></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-184" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-186" style="display: inline-block"><span class="token-plain">​  // 也就是说浏览器可能会中断这里的操作，导致</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-186" style="display: inline-block"><span class="token-plain">  // 只能看到部分UI，删除这部分代码？</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-187" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-188" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 1 ; transform: translatex(0px)"><div class="cs-line cs-line-189" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-190" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> elements </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain" style="opacity: 0.3"></span><span class="token-plain" style="opacity: 0.3"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">  l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">e</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">t</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-plain" style="opacity: 0.3">p</span><span class="token-plain" style="opacity: 0.3">r</span><span class="token-plain" style="opacity: 0.3">e</span><span class="token-plain" style="opacity: 0.3">v</span><span class="token-plain" style="opacity: 0.3">S</span><span class="token-plain" style="opacity: 0.3">i</span><span class="token-plain" style="opacity: 0.3">b</span><span class="token-plain" style="opacity: 0.3">l</span><span class="token-plain" style="opacity: 0.3">i</span><span class="token-plain" style="opacity: 0.3">n</span><span class="token-plain" style="opacity: 0.3">g</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">=</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">u</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">l</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  w</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">h</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">i</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-plain">e</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">t</span><span class="token-plain">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain">t</span><span class="token-plain">h</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div></div></div></div></foreignObject><text x="3122" y="4229" fill="#000000" font-family="Helvetica" font-size="12px">function performUnitOfWork(fiber) {...</text></switch></g><path d="M 3120 3960 L 3060 3960 L 3060 3575 L 3188.63 3575" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3193.88 3575 L 3186.88 3578.5 L 3188.63 3575 L 3186.88 3571.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3664px; margin-left: 3066px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1. 用 wipRoot 记录所有的 fiber tree</div></div></div></foreignObject><text x="3066" y="3667" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1. 用 wipRoot 记录所有的 fiber tree</text></switch></g><rect x="3120" y="3800" width="440" height="320" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 3807px; margin-left: 3122px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><br /></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-184" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-190" style="display: inline-block"><span class="token-plain"><font color="#ff0000">​  // 移除 dom append 操作</font></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> elements </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain" style="opacity: 0.3"></span><span class="token-plain" style="opacity: 0.3"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">  l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">e</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">t</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-plain" style="opacity: 0.3">p</span><span class="token-plain" style="opacity: 0.3">r</span><span class="token-plain" style="opacity: 0.3">e</span><span class="token-plain" style="opacity: 0.3">v</span><span class="token-plain" style="opacity: 0.3">S</span><span class="token-plain" style="opacity: 0.3">i</span><span class="token-plain" style="opacity: 0.3">b</span><span class="token-plain" style="opacity: 0.3">l</span><span class="token-plain" style="opacity: 0.3">i</span><span class="token-plain" style="opacity: 0.3">n</span><span class="token-plain" style="opacity: 0.3">g</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">=</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">u</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">l</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  w</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">h</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">i</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-plain">e</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">t</span><span class="token-plain">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain">t</span><span class="token-plain">h</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div></div></div></div></foreignObject><text x="3122" y="3819" fill="#000000" font-family="Helvetica" font-size="12px">function performUnitOfWork(fiber) {...</text></switch></g><path d="M 3195 3477.5 L 3060 3477.5 L 3060 3290 L 3188.63 3290" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3193.88 3290 L 3186.88 3293.5 L 3188.63 3290 L 3186.88 3286.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3414px; margin-left: 3063px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">2. 一旦所有 work unit 完成，就立即<br />提交整个 fiber tree 渲染到DOM中，<br />这里完成的标识是 nextUnitOfWork 有没值</div></div></div></foreignObject><text x="3063" y="3417" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">2. 一旦所有 work unit 完成，就立即...</text></switch></g><rect x="3195" y="3380" width="410" height="390" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 3387px; margin-left: 3197px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-144" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-144" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 1. 保存根节点 wipRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-145" style="display: inline-block"><span class="token-plain">  wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-147" style="display: inline-block"><span class="token-plain">    dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-148" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-149" style="display: inline-block"><span class="token-plain">    children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">   }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-152" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-152" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 2. 让 root 节点 fiber 作为起始 work unit</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-154" style="display: inline-block"><span class="token-plain">  nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> wipRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-157" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-158" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-159" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">let</span><span class="token-plain"> nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-161" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">let</span><span class="token-plain"> wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div></div></div></div></foreignObject><text x="3197" y="3399" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><rect x="3159" y="2440" width="476" height="520" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 474px; height: 1px; padding-top: 2447px; margin-left: 3161px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-164" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)"><br class="Apple-interchange-newline" />function</span><span class="token-plain"> </span><span class="token-function">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">deadline</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-165" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> shouldYield </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-boolean">false</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-166" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">shouldYield</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-167" style="display: inline-block"><span class="token-plain">    nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-168" style="display: inline-block"><span class="token-plain">      nextUnitOfWork</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-169" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    )</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-170" style="display: inline-block"><span class="token-plain">    shouldYield </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> deadline</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">timeRemaining</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">1</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-171" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-172" style="display: inline-block"><span class="token-plain">​  // 在此条件满足之前，都是在vnode节点上的操作</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-172" style="display: inline-block"><span class="token-plain">  // 并没有实际进行真实 DOM 渲染，到这里执行</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-172" style="display: inline-block"><span class="token-plain">  // 标识没有待执行的 work unit 了，可以进行渲染了</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-173" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> wipRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-174" style="display: inline-block"><span class="token-plain"></span><span class="token-function">    commitRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-175" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-176" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-177" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  requestIdleCallback</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-178" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-179" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-180" style="display: inline-block"><span class="token-function">requestIdleCallback</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">workLoop</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="3161" y="2459" fill="#000000" font-family="Helvetica" font-size="12px">function workLoop(deadline) {...</text></switch></g><path d="M 3195 3265 L 3060 3265 L 3060 3110 L 3188.63 3110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3193.88 3110 L 3186.88 3113.5 L 3188.63 3110 L 3186.88 3106.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3465 3290 L 3670 3290 L 3670 4320 L 3773.63 4320" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3778.88 4320 L 3771.88 4323.5 L 3773.63 4320 L 3771.88 4316.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3903px; margin-left: 3672px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">记录最后提交<br />DOM的 root</div></div></div></foreignObject><text x="3672" y="3906" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">记录最后提交&#xa;DOM的 root</text></switch></g><rect x="3195" y="3240" width="270" height="100" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 268px; height: 1px; padding-top: 3247px; margin-left: 3197px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-107" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-109" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">wipRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-110" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-111" style="display: inline-block"><span class="token-plain">  wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-113" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3197" y="3259" fill="#000000" font-family="Helvetica" font-size="12px">function commitRoot() {...</text></switch></g><path d="M 3185.55 3074.9 L 2880 3074.9 L 2880 4040 L 3113.63 4040" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3190.8 3074.9 L 3183.8 3078.4 L 3185.55 3074.9 L 3183.8 3071.4 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3118.88 4040 L 3111.88 4043.5 L 3113.63 4040 L 3111.88 4036.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3614px; margin-left: 2884px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">注意这里的联系， performUnitOfWork<br />中只是单纯的创建了 fiber 的off-dom 元素<br />commitWork 中才取到这个加载到真实DOM中</div></div></div></foreignObject><text x="2884" y="3618" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">注意这里的联系， performUnitOfWork...</text></switch></g><path d="M 3195 3045 L 3060 3045 L 3060 2700 L 3152.63 2700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3157.88 2700 L 3150.88 2703.5 L 3152.63 2700 L 3150.88 2696.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3195" y="2980" width="440" height="260" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2987px; margin-left: 3197px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-115" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-116" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-117" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    return</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-118" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-118" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // dom 指向的是当前 fiber 对应的off-dom 节点</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-120" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> domParent </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-139" style="display: inline-block"><span class="token-plain">  domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-139" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 完了之后开始执行 child work unit</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-140" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-140" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 最后是兄弟节点，正好每个 fiber 的三个引用</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-140" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 都在这里出现了(parent,firstchild,sibling)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-141" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-142" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3197" y="2999" fill="#000000" font-family="Helvetica" font-size="12px">function commitWork(fiber) {...</text></switch></g><path d="M 3965 4510 L 3965 4416.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3965 4411.12 L 3968.5 4418.12 L 3965 4416.37 L 3961.5 4418.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3825" y="4510" width="280" height="60" fill="none" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4540px; margin-left: 3826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#000000">比较 render 函数接受的 elements 和最后提交给DOM的 fiber tree</font></div></div></div></foreignObject><text x="3965" y="4544" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">比较 render 函数接受的 elements 和最后提交给DOM的 fiber tree</text></switch></g><path d="M 3965 4230 L 3965 4016.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3965 4011.12 L 3968.5 4018.12 L 3965 4016.37 L 3961.5 4018.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3780" y="4230" width="370" height="180" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 368px; height: 1px; padding-top: 4237px; margin-left: 3782px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-107" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-109" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">wipRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-109" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 这里是最后提交给DOM的fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-110" style="display: inline-block"><span class="token-plain">  currentRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> wipRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-111" style="display: inline-block"><span class="token-plain">  wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-113" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3782" y="4249" fill="#000000" font-family="Helvetica" font-size="12px">function commitRoot() {...</text></switch></g><path d="M 4167.5 3805 L 4543 3805 L 4543 3786.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4543 3781.12 L 4546.5 3788.12 L 4543 3786.37 L 4539.5 3788.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3805px; margin-left: 4368px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">完整 performUnitOfWork</div></div></div></foreignObject><text x="4368" y="3808" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">完整 performUnitOfWork</text></switch></g><rect x="3762.5" y="3600" width="405" height="410" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 403px; height: 1px; padding-top: 3607px; margin-left: 3765px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-144" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)"><br class="Apple-interchange-newline" />function</span><span class="token-plain"> </span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-145" style="display: inline-block"><span class="token-plain">  wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-147" style="display: inline-block"><span class="token-plain">    dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-148" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-149" style="display: inline-block"><span class="token-plain">      children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 这个 alternate 指向的是 old fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 在上一次提交的那个 DOM，因为每次</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // commitRoot 完成之后， currentRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 就会被重置为下一个 fiber，但这里</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-150" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 这里会持有上一次 commit 的 fiber 引用</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-151" style="display: inline-block"><span class="token-plain">    alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> currentRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-152" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-152" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  deletions = [] // 用来保存将删除的 fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-154" style="display: inline-block"><span class="token-plain">  nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> wipRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-157" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3765" y="3619" fill="#000000" font-family="Helvetica" font-size="12px">function render(element, container) {...</text></switch></g><path d="M 4280 3527.5 L 4130 3527.5 L 4130 3516.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4130 3511.12 L 4133.5 3518.12 L 4130 3516.37 L 4126.5 3518.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 4674.5 3780 L 4674.5 3830 L 4820.63 3830" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4825.88 3830 L 4818.88 3833.5 L 4820.63 3830 L 4818.88 3826.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4280" y="2770" width="526" height="1010" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 524px; height: 1px; padding-top: 2777px; margin-left: 4282px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ // off-dom 不会立即append</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-184" style="display: inline-block"><span class="token-plain">   fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-186" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> elements </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-192" style="display: inline-block"><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-193" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-194" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-195" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-196" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-197" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-198" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-199" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-200" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-201" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-202" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-203" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-204" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-205" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-206" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">t</span><span class="token-plain"> </span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">v</span><span class="token-plain">S</span><span class="token-plain">i</span><span class="token-plain">b</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">u</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">  // 构建 fiber 并且链接三个引用 </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">  // parent, first child, sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain" style="opacity: 1"></span><span class="token-plain" style="opacity: 1"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 1">  w</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 1">h</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 1">i</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 1">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 1">e</span><span class="token-plain" style="opacity: 1"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">(</span><span class="token-plain" style="opacity: 1">i</span><span class="token-plain" style="opacity: 1">n</span><span class="token-plain" style="opacity: 1">d</span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">x</span><span class="token-plain" style="opacity: 1"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217) ; opacity: 1">&lt;</span><span class="token-plain" style="opacity: 1"> </span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">l</span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">m</span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">n</span><span class="token-plain" style="opacity: 1">t</span><span class="token-plain" style="opacity: 1">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">.</span><span class="token-plain" style="opacity: 1">l</span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">n</span><span class="token-plain" style="opacity: 1">g</span><span class="token-plain" style="opacity: 1">t</span><span class="token-plain" style="opacity: 1">h</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">)</span><span class="token-plain" style="opacity: 1"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">index</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-256" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-257" style="display: inline-block"><span class="token-plain">      type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-258" style="display: inline-block"><span class="token-plain">      props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-259" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-260" style="display: inline-block"><span class="token-plain">      parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><span class="token-plain"><font color="#aaf6d9">      </font><font color="#dfddd9">dom</font></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain" style="color: rgb(223 , 221 , 217)"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-263" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-264" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-265" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-267" style="display: inline-block"><span class="token-plain">      fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-268" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-269" style="display: inline-block"><span class="token-plain">      prevSibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-270" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-271" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-272" style="display: inline-block"><span class="token-plain">    prevSibling </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> newFiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-273" style="display: inline-block"><span class="token-plain">    index</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">++</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-274" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain">​  </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain">  // 开始找下一个 work unit</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-275" style="display: inline-block"><span class="token-plain">  // 查找优先级：first child &gt; sibling &gt; parent sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-276" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-277" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">   return</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-278" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-279" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-280" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-281" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-282" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">      return</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-283" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-284" style="display: inline-block"><span class="token-plain">    nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-285" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-291" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4282" y="2789" fill="#000000" font-family="Helvetica" font-size="12px">function performUnitOfWork(fiber) {...</text></switch></g><path d="M 4007.5 3070 L 4007.5 3030 L 4001.3 3030 L 4001.3 2996.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4001.3 2991.12 L 4004.8 2998.12 L 4001.3 2996.37 L 3997.8 2998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3030px; margin-left: 4005px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">同时遍历 old fiber 和 elements</div></div></div></foreignObject><text x="4005" y="3033" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">同时遍历 old fiber 和 elements</text></switch></g><rect x="3762.5" y="3070" width="490" height="440" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 3077px; margin-left: 3765px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-183" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-184" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-186" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> elements </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span></div></div><div style="font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"><font color="#ff3333">  // 这个干吗？？？？</font></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-192" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  reconcileChildren</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-193" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-194" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-195" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    return</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-196" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><span style="color: rgb(170 , 246 , 217)">}</span><br /></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-205" style="display: inline-block"><span class="token-plain">​// 用 old fibers-wipFiber 和新的 elements 进行</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-205" style="display: inline-block"><span class="token-plain">// 对比，更新？</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-206" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">reconcileChildren</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div></div></div></div></foreignObject><text x="3765" y="3089" fill="#000000" font-family="Helvetica" font-size="12px">function performUnitOfWork(fiber) {...</text></switch></g><path d="M 4126.88 2470 L 4126.9 2345 L 4323.63 2345" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4328.88 2345 L 4321.88 2348.5 L 4323.63 2345 L 4321.88 2341.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2371px; margin-left: 4127px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">类型判断</div></div></div></foreignObject><text x="4127" y="2374" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">类型判断</text></switch></g><path d="M 3875.63 2470 L 3875.6 2405 L 3930 2405 L 3930 2346.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 2341.12 L 3933.5 2348.12 L 3930 2346.37 L 3926.5 2348.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3750" y="2470" width="502.5" height="520" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 501px; height: 1px; padding-top: 2477px; margin-left: 3752px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-206" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">reconcileChildren</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-number" style="color: rgb(170 , 246 , 217)">  // 这里取出之前保存的最后的 </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-number" style="color: rgb(170 , 246 , 217)">  // last fiber tree(currentRoot) 上次渲染的 fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-number" style="color: rgb(170 , 246 , 217)">  // elements 是正要渲染的</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-208" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-209" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">e</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">t</span><span class="token-plain"> </span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">v</span><span class="token-plain">S</span><span class="token-plain">i</span><span class="token-plain">b</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">u</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">l</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">​ </span></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">  // 需要对 oldfiber 和 elements 进行对比，决定如何更新</span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-212" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-213" style="display: inline-block"><span class="token-plain">    index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">length </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">||</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-214" style="display: inline-block"><span class="token-plain">    oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-215" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  )</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">index</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-218" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    let</span><span class="token-plain"> newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-220" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-221" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-222" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-224" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">    // TODO compare oldFiber to element</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-225" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-226" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-235" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-236" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-237" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-246" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-247" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-248" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-251" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-252" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-253" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-254" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-255" style="display: inline-block"><span class="token-plain">      oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-263" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-264" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div></div></div></div></foreignObject><text x="3752" y="2489" fill="#000000" font-family="Helvetica" font-size="12px">function reconcileChildren(wipFiber, elements) {...</text></switch></g><path d="M 4760 2197.5 L 4830 2197.5 L 4830 2065 L 4893.63 2065" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4898.88 2065 L 4891.88 2068.5 L 4893.63 2065 L 4891.88 2061.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2108px; margin-left: 4828px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新</div></div></div></foreignObject><text x="4828" y="2111" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新</text></switch></g><path d="M 4760 2345 L 4830 2345 L 4830 2365 L 4893.63 2365" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4898.88 2365 L 4891.88 2368.5 L 4893.63 2365 L 4891.88 2361.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2355px; margin-left: 4830px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">添加</div></div></div></foreignObject><text x="4830" y="2358" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">添加</text></switch></g><path d="M 4760 2492.5 L 4830 2492.5 L 4830 2595 L 4893.63 2595" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4898.88 2595 L 4891.88 2598.5 L 4893.63 2595 L 4891.88 2591.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2544px; margin-left: 4830px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">删除</div></div></div></foreignObject><text x="4830" y="2547" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">删除</text></switch></g><rect x="4330" y="2050" width="430" height="590" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 428px; height: 1px; padding-top: 2057px; margin-left: 4332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-213" style="display: inline-block"><span class="token-plain">    index </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">length </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">||</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-214" style="display: inline-block"><span class="token-plain">    oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-215" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  )</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ // while 循环</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> elements</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">index</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-218" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    let</span><span class="token-plain"> newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-220" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> sameType </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-221" style="display: inline-block"><span class="token-plain">      oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp; </span></div><span class="token-plain">element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain">      element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">==</span><span class="token-plain"> oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-225" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-226" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">sameType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ </span></div></div><span style="color: rgb(170 , 246 , 217) ; font-family: monospace ; font-size: 16px">      // TODO 同类型节点，更新操作<br /></span><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-236" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-237" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">sameType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-237" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">      // TODO 不同类型节点，添加操作</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-247" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-248" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">sameType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-248" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">      // TODO 不同类型节点，无新节点，删除操作</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-252" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-253" style="display: inline-block"><span class="token-plain"> ​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-254" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-255" style="display: inline-block"><span class="token-plain">     oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-262" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div></div></div></div></foreignObject><text x="4332" y="2069" fill="#000000" font-family="Helvetica" font-size="12px">index &lt; elements.length ||...</text></switch></g><rect x="4900" y="1960" width="340" height="210" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 1967px; margin-left: 4902px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-226" style="display: inline-block"><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">sameType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-227" style="display: inline-block"><span class="token-plain">  newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-228" style="display: inline-block"><span class="token-plain">    type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-229" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-230" style="display: inline-block"><span class="token-plain">    dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-231" style="display: inline-block"><span class="token-plain">    parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-232" style="display: inline-block"><span class="token-plain">    alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-232" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 新增属性，在 commit 阶段使用</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-233" style="display: inline-block"><span class="token-plain">    effectTag</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"UPDATE"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-234" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-236" style="display: inline-block"><span class="token-plain">    </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4902" y="1979" fill="#000000" font-family="Helvetica" font-size="12px">if (sameType) {...</text></switch></g><rect x="4900" y="2260" width="280" height="210" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2267px; margin-left: 4902px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-237" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">sameType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-238" style="display: inline-block"><span class="token-plain">  newFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-239" style="display: inline-block"><span class="token-plain">    type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-240" style="display: inline-block"><span class="token-plain">    props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-241" style="display: inline-block"><span class="token-plain">    dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-242" style="display: inline-block"><span class="token-plain">    parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-243" style="display: inline-block"><span class="token-plain">    alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-244" style="display: inline-block"><span class="token-plain">    effectTag</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"PLACEMENT"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-245" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-247" style="display: inline-block"><span class="token-plain">    </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4902" y="2279" fill="#000000" font-family="Helvetica" font-size="12px">if (element &amp;&amp; !sameType) {...</text></switch></g><rect x="4900" y="2530" width="390" height="130" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 388px; height: 1px; padding-top: 2537px; margin-left: 4902px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-248" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">oldFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">sameType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-249" style="display: inline-block"><span class="token-plain">  oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">effectTag </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"DELETION"</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-249" style="display: inline-block"><span class="token-string" style="color: rgb(170 , 246 , 217)">  // 这里只将要删除的 fiber 存起来</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-249" style="display: inline-block"><span class="token-string" style="color: rgb(170 , 246 , 217)">  // 因为需要在 commit 阶段执行删除</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-250" style="display: inline-block"><span class="token-plain">  deletions</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">push</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">oldFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-252" style="display: inline-block"><span class="token-plain">    </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4902" y="2549" fill="#000000" font-family="Helvetica" font-size="12px">if (oldFiber &amp;&amp; !sameType) {...</text></switch></g><path d="M 3930 2160 L 3930 1996.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3930 1991.12 L 3933.5 1998.12 L 3930 1996.37 L 3926.5 1998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2082px; margin-left: 3931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">处理新增的 effectTag 标记<br />PLACEMENT - 新增<br />UPDATE - 更新<br />DELETION - 删除</div></div></div></foreignObject><text x="3931" y="2085" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">处理新增的 effectTag 标记...</text></switch></g><rect x="3760" y="2160" width="340" height="180" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 338px; height: 1px; padding-top: 2167px; margin-left: 3762px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-107" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-107" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // commit 阶段先执行删除</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-108" style="display: inline-block"><span class="token-plain">  deletions</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-109" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">wipRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-110" style="display: inline-block"><span class="token-plain">  currentRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> wipRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-111" style="display: inline-block"><span class="token-plain">  wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-113" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="3762" y="2179" fill="#000000" font-family="Helvetica" font-size="12px">function commitRoot() {...</text></switch></g><path d="M 4166.25 1990 L 4166.3 2010 L 4365 2010 L 4365 1996.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4365 1991.12 L 4368.5 1998.12 L 4365 1996.37 L 4361.5 1998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2014px; margin-left: 4249px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新操作</div></div></div></foreignObject><text x="4249" y="2017" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新操作</text></switch></g><rect x="3693.75" y="1360" width="472.5" height="630" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 471px; height: 1px; padding-top: 1367px; margin-left: 3696px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-115" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-116" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-117" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    return</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-118" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-120" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> domParent </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-121" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">( // 新增 placement</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-122" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">effectTag </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"PLACEMENT"</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-123" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-124" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  )</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-125" style="display: inline-block"><span class="token-plain">    domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-125" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-126" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">( // 更新操作</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-127" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">effectTag </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"UPDATE"</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-128" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-129" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  )</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-130" style="display: inline-block"><span class="token-plain"></span><span class="token-function">    updateDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-131" style="display: inline-block"><span class="token-plain">      fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-132" style="display: inline-block"><span class="token-plain">      fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-133" style="display: inline-block"><span class="token-plain">      fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-134" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    )</span></div></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-135" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  } </span></div><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">effectTag </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"DELETION"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(0 , 0 , 0)"><font color="#dfddd9"> </font></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div><div style="color: rgb(223 , 221 , 217) ; overflow: hidden ; opacity: 0.3 ; height: 28px"><span style="color: rgb(170 , 246 , 217)">     // 删除</span></div></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-136" style="display: inline-block"><span class="token-plain">    domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">removeChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-137" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-138" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-140" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-141" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-142" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-142" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"><br /></span></div></div></div></div></div></foreignObject><text x="3696" y="1379" fill="#000000" font-family="Helvetica" font-size="12px">function commitWork(fiber) {...</text></switch></g><path d="M 4485 1870 L 4485 1816.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4485 1811.12 L 4488.5 1818.12 L 4485 1816.37 L 4481.5 1818.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4245" y="1870" width="480" height="120" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 1877px; margin-left: 4247px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-56" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-75" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-76" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-77" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-78" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-79" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-80" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-string" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-81" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-82" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-83" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-84" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-85" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-86" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-87" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-88" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-89" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-104" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO 比较 old &amp; new fiber 的 props ，</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-104" style="display: inline-block"><span class="token-comment" style="font-style: italic">// 执行移除、新增、更新</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-105" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4247" y="1889" fill="#000000" font-family="Helvetica" font-size="12px">function updateDom(dom, prevProps, nextProps) {...</text></switch></g><path d="M 4485 1370 L 4485 1326.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4485 1321.12 L 4488.5 1328.12 L 4485 1326.37 L 4481.5 1328.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4225" y="1370" width="520" height="440" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 1377px; margin-left: 4227px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-52" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">isProperty</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-parameter">key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> key </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!==</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"children"</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-53" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">isNew</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">prev</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> next</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-parameter">key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-54" style="display: inline-block"><span class="token-plain">  prev</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!==</span><span class="token-plain"> next</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-55" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">isGone</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">prev</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> next</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-parameter">key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">key </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">in</span><span class="token-plain"> next</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-56" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-75" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">  // Remove old properties</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-76" style="display: inline-block"><span class="token-plain">  Object</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">keys</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-77" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isProperty</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-78" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-function">isGone</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-79" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">name</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-80" style="display: inline-block"><span class="token-plain">      dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">""</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-81" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-82" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-83" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">  // Set new or changed properties</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-84" style="display: inline-block"><span class="token-plain">  Object</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">keys</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-85" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isProperty</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-86" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-function">isNew</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-87" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">name</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-88" style="display: inline-block"><span class="token-plain">      dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-89" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-105" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4227" y="1389" fill="#000000" font-family="Helvetica" font-size="12px">const isProperty = key =&gt; key !== "children"...</text></switch></g><path d="M 4485 1170 L 4485 1116.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4485 1111.12 L 4488.5 1118.12 L 4485 1116.37 L 4481.5 1118.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4265" y="1170" width="440" height="150" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 1177px; margin-left: 4267px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-49" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">// 特殊处理 onXxx 事件属性</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-49" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">isEvent</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-parameter">key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">startsWith</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"on"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-50" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">isProperty</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-parameter">key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-51" style="display: inline-block"><span class="token-plain">  key </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!==</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"children"</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-function">isEvent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-53" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">isNew</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">prev</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> next</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-parameter">key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-54" style="display: inline-block"><span class="token-plain">  prev</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!==</span><span class="token-plain"> next</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div></div></div></div></foreignObject><text x="4267" y="1189" fill="#000000" font-family="Helvetica" font-size="12px">// 特殊处理 onXxx 事件属性...</text></switch></g><path d="M 4485 670 L 4485 606.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4485 601.12 L 4488.5 608.12 L 4485 606.37 L 4481.5 608.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 637px; margin-left: 4485px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">放到最后添加新事件句柄</div></div></div></foreignObject><text x="4485" y="640" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">放到最后添加新事件句柄</text></switch></g><rect x="4207.5" y="670" width="555" height="440" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 553px; height: 1px; padding-top: 677px; margin-left: 4210px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-56" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-57" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">  //Remove old or changed event listeners</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-58" style="display: inline-block"><span class="token-plain">  Object</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">keys</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-59" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isEvent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-60" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-61" style="display: inline-block"><span class="token-plain"></span><span class="token-parameter">      key</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-62" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)">       !</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">key </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">in</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">|| // 新props中没有的删除</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-63" style="display: inline-block"><span class="token-plain"></span><span class="token-function">       isNew</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">key</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">) // 有的但是值不一样</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-64" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">     )</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-65" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">     .</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">name</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-65" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">       // 'onClick' -&gt; 'click'</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-66" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">       const</span><span class="token-plain"> eventType </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> name</span></div><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">toLowerCase</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">substring</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-number" style="color: rgb(170 , 246 , 217)">2</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-69" style="display: inline-block"><span class="token-plain">       dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">removeEventListener</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-70" style="display: inline-block"><span class="token-plain">         eventType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-71" style="display: inline-block"><span class="token-plain">         prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-72" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">       )</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-73" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">     }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-74" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-75" style="display: inline-block"><span class="token-plain"></span><span class="token-comment" style="font-style: italic">  // Remove old properties</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-76" style="display: inline-block"><span class="token-plain">  Object</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">keys</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-77" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">   .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isProperty</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="4210" y="689" fill="#000000" font-family="Helvetica" font-size="12px">function updateDom(dom, prevProps, nextProps) {...</text></switch></g><a xlink:href="https://codesandbox.io/s/didact-6-96533?file=/src/index.js"><rect x="4300" y="0" width="370" height="600" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 368px; height: 1px; padding-top: 7px; margin-left: 4302px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-84" style="display: inline-block"><span class="token-plain">Object</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">keys</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-85" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isProperty</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-86" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-function">isNew</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-87" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  .</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">name</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-88" style="display: inline-block"><span class="token-plain">   dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-89" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-90" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-91" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// Add event listeners</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-92" style="display: inline-block"><span class="token-plain">  Object</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">keys</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-93" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isEvent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-94" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  .</span><span class="token-function">filter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-function">isNew</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">prevProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-95" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  .</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">name</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-96" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    const</span><span class="token-plain"> eventType </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> name</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-97" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">toLowerCase</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-98" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    .</span><span class="token-function">substring</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-number" style="color: rgb(170 , 246 , 217)">2</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-99" style="display: inline-block"><span class="token-plain">    dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">addEventListener</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-100" style="display: inline-block"><span class="token-plain">      eventType</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-101" style="display: inline-block"><span class="token-plain">      nextProps</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-102" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    )</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-103" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px ; transform: translatex(0px)"><div class="cs-line cs-line-105" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4302" y="19" fill="#000000" font-family="Helvetica" font-size="12px">Object.keys(nextProps)...</text></switch></g></a><path d="M 4917 4390 L 4917 4326.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4917 4321.12 L 4920.5 4328.12 L 4917 4326.37 L 4913.5 4328.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4362px; margin-left: 4920px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">jsx 转换</div></div></div></foreignObject><text x="4920" y="4365" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">jsx 转换</text></switch></g><rect x="4667" y="4390" width="500" height="160" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 498px; height: 1px; padding-top: 4397px; margin-left: 4669px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-318" style="display: inline-block"><span class="token-comment" style="font-style: italic">/** @jsx Didact.createElement */</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-326" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">App</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-327" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  return</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">h1</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span><span class="token-plain">Hi </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;/</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">h1</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-328" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-330" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-class-name">App</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-attr-name">name</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">=</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">"</span><span class="token-attr-value" style="color: rgb(170 , 246 , 217)">foo</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">"</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">/&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-331" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> container </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> document</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">getElementById</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"root"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-332" style="display: inline-block"><span class="token-plain">Didact</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="4669" y="4409" fill="#000000" font-family="Helvetica" font-size="12px">/** @jsx Didact.createElement */...</text></switch></g><path d="M 4917 4090 L 4917 3996.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4917 3991.12 L 4920.5 3998.12 L 4917 3996.37 L 4913.5 3998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4046px; margin-left: 4920px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">函数组件和非函数组件不同点</div></div></div></foreignObject><text x="4920" y="4049" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">函数组件和非函数组件不同点</text></switch></g><rect x="4695.5" y="4090" width="443" height="230" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 441px; height: 1px; padding-top: 4097px; margin-left: 4698px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre class="language-js prism-code language-javascript css-1g4vcl8" style="padding: 0px 0px 0px 14px ; margin: 0px 0px 28px ; overflow: auto ; border-radius: 10px ; color: rgb(51 , 51 , 51) ; background-color: rgb(250 , 249 , 245) ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px"><div class="token-line"><span class="token keyword css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">function</span><span class="token plain css-1baulvz" style="display: inline-block"> </span><span class="token function maybe-class-name css-1baulvz" style="display: inline-block">App</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">(</span><span class="token parameter css-1baulvz" style="display: inline-block">props</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">)</span><span class="token plain css-1baulvz" style="display: inline-block"> </span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">{</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">  </span><span class="token keyword css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">return</span><span class="token plain css-1baulvz" style="display: inline-block"> </span><span class="token maybe-class-name css-1baulvz" style="display: inline-block">Didact</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">.</span><span class="token method function property-access css-1baulvz" style="display: inline-block">createElement</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">(</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    </span><span class="token string css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">"h1"</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">,</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    </span><span class="token keyword null nil css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">null</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">,</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    </span><span class="token string css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">"Hi "</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">,</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">    props</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">.</span><span class="token property-access css-1baulvz" style="display: inline-block">name</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">  </span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">)</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block"></span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">}</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block"></span><span class="token keyword css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">const</span><span class="token plain css-1baulvz" style="display: inline-block"> element </span><span class="token operator css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">=</span><span class="token plain css-1baulvz" style="display: inline-block"> </span><span class="token maybe-class-name css-1baulvz" style="display: inline-block">Didact</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">.</span><span class="token method function property-access css-1baulvz" style="display: inline-block">createElement</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">(</span><span class="token maybe-class-name css-1baulvz" style="display: inline-block">App</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">,</span><span class="token plain css-1baulvz" style="display: inline-block"> </span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">{</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block">  name</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">:</span><span class="token plain css-1baulvz" style="display: inline-block"> </span><span class="token string css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">"foo"</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">,</span><span class="token plain css-1baulvz" style="display: inline-block"></span></div><div class="token-line"><span class="token plain css-1baulvz" style="display: inline-block"></span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">}</span><span class="token punctuation css-1baulvz" style="display: inline-block ; color: rgb(15 , 143 , 94)">)</span></div></pre></div></div></div></foreignObject><text x="4698" y="4109" fill="#000000" font-family="Helvetica" font-size="12px">function App(props) {...</text></switch></g><path d="M 4917 3910 L 4917 3885 L 4963.5 3885 L 4963.5 3866.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4963.5 3861.12 L 4967 3868.12 L 4963.5 3866.37 L 4960 3868.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4795.5" y="3910" width="243" height="80" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 4795.5 3950 L 5038.5 3950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 4848.5 3910 L 4848.5 3990" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4795.5" y="3910" width="243" height="40" fill="none" stroke="none"/><path d="M 4795.5 3910 M 5038.5 3910 M 5038.5 3950 M 4795.5 3950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4795.5" y="3910" width="53" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 4795.5 3910 M 4848.5 3910 M 4848.5 3950 M 4795.5 3950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 51px; height: 1px; padding-top: 3930px; margin-left: 4797px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1</div></div></div></foreignObject><text x="4822" y="3934" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">1</text></switch></g><rect x="4848.5" y="3910" width="190" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 4848.5 3910 M 5038.5 3910 M 5038.5 3950 M 4848.5 3950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 3930px; margin-left: 4850px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">函数组件的 fiber 没有 DOM 节点</div></div></div></foreignObject><text x="4944" y="3934" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">函数组件的 fiber 没有 DOM 节点</text></switch></g><rect x="4795.5" y="3950" width="243" height="40" fill="none" stroke="none"/><path d="M 4795.5 3950 M 5038.5 3950 M 5038.5 3990 M 4795.5 3990" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4795.5" y="3950" width="53" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 4795.5 3950 M 4848.5 3950 M 4848.5 3990 M 4795.5 3990" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 51px; height: 1px; padding-top: 3970px; margin-left: 4797px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2</div></div></div></foreignObject><text x="4822" y="3974" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">2</text></switch></g><rect x="4848.5" y="3950" width="190" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 4848.5 3950 M 5038.5 3950 M 5038.5 3990 M 4848.5 3990" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 3970px; margin-left: 4850px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">children 来自执行函数组件的返回值，而非直接来自 props.children</div></div></div></foreignObject><text x="4944" y="3974" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">children 来自执行函数组件的返回值，而非直接来自 props.children</text></switch></g><path d="M 4963.5 3800 L 4963.5 3760 L 5125 3760 L 5125 3726.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5125 3721.12 L 5128.5 3728.12 L 5125 3726.37 L 5121.5 3728.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4827" y="3800" width="273" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 271px; height: 1px; padding-top: 3830px; margin-left: 4828px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">修改 performUnitOfWork，检查组件类型</div></div></div></foreignObject><text x="4964" y="3834" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">修改 performUnitOfWork，检查组件类型</text></switch></g><path d="M 5710 4480 L 5710 4195 L 5808.63 4195" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5813.88 4195 L 5806.88 4198.5 L 5808.63 4195 L 5806.88 4191.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4330px; margin-left: 5712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">实例</div></div></div></foreignObject><text x="5712" y="4333" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">实例</text></switch></g><rect x="5573.5" y="4480" width="273" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 271px; height: 1px; padding-top: 4510px; margin-left: 5575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">可以在函数组件中通过hooks 使用状态</div></div></div></foreignObject><text x="5710" y="4514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">可以在函数组件中通过hooks 使用状态</text></switch></g><path d="M 5242.5 3720 L 5242.5 3740 L 5598.1 3740 L 5598.11 3725.09" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5598.12 3719.84 L 5601.61 3726.84 L 5598.11 3725.09 L 5594.61 3726.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3742px; margin-left: 5348px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">函数组件，执行得到 children</div></div></div></foreignObject><text x="5348" y="3745" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">函数组件，执行得到 children</text></switch></g><rect x="4890" y="2980" width="470" height="740" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 2987px; margin-left: 4892px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-176" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">performUnitOfWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-177" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> isFunctionComponent </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-178" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">type </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">instanceof</span><span class="token-plain"> </span><span class="token-class-name">Function</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-179" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">isFunctionComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-180" style="display: inline-block"><span class="token-plain"></span><span class="token-function">    updateFunctionComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-181" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-182" style="display: inline-block"><span class="token-plain"></span><span class="token-function">    updateHostComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-185" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-190" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-191" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">   return</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-192" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-193" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-194" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-195" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-196" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">      return</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-197" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-198" style="display: inline-block"><span class="token-plain">    nextFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> nextFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-199" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-200" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-201" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-205" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateFunctionComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-209" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-function"></span><span class="token-function"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-211" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-212" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-213" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-213" style="display: inline-block"><span class="token-plain">// 这个函数和之前做的事情一样，createDom(fiber)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-247" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateHostComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-248" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-249" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">createDom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-250" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-251" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  reconcileChildren</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-252" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="4892" y="2999" fill="#000000" font-family="Helvetica" font-size="12px">function performUnitOfWork(fiber) {...</text></switch></g><path d="M 5605 3560 L 5605 3516.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5605 3511.12 L 5608.5 3518.12 L 5605 3516.37 L 5601.5 3518.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5390" y="3560" width="430" height="160" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 428px; height: 1px; padding-top: 3567px; margin-left: 5392px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-205" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateFunctionComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-209" style="display: inline-block"><span class="token-plain"></span><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  c</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">o</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">s</span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">t</span><span class="token-plain"> </span><span class="token-plain">c</span><span class="token-plain">h</span><span class="token-plain">i</span><span class="token-plain">l</span><span class="token-plain">d</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">f</span><span class="token-plain">i</span><span class="token-plain">b</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">t</span><span class="token-function">y</span><span class="token-function">p</span><span class="token-function">e</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">f</span><span class="token-plain">i</span><span class="token-plain">b</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">o</span><span class="token-plain">p</span><span class="token-plain">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  reconcileChildren</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-212" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">} // 比如实例中的 App 组件就是个函数组件，执行</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-212" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">// 它之后返回了一个 h1 元素，最后得到 chilren </span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-212" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">// 了就和非函数组件的处理是一样的了</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-213" style="display: inline-block"><span class="token-plain">​</span></div></div></div></div></div></foreignObject><text x="5392" y="3579" fill="#000000" font-family="Helvetica" font-size="12px">function updateFunctionComponent(fiber) {...</text></switch></g><path d="M 5605 3450 L 5605 3376.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5605 3371.12 L 5608.5 3378.12 L 5605 3376.37 L 5601.5 3378.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5432.5" y="3450" width="345" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 343px; height: 1px; padding-top: 3480px; margin-left: 5434px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">此时需要修改 commitWork 因为函数组件没有了 DOM 节点</div></div></div></foreignObject><text x="5605" y="3484" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">此时需要修改 commitWork 因为函数组件没有了 DOM 节点</text></switch></g><path d="M 5605 3310 L 5605 3256.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5605 3251.12 L 5608.5 3258.12 L 5605 3256.37 L 5601.5 3258.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5432.5" y="3310" width="345" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 343px; height: 1px; padding-top: 3340px; margin-left: 5434px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. 找到 DOM 节点的 parent，循着 fiber tree 一直往上找，知道找到为止</div></div></div></foreignObject><text x="5605" y="3344" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">1. 找到 DOM 节点的 parent，循着 fiber tree 一直往上找，知道找到为止</text></switch></g><path d="M 5605 2820 L 5605 2770 L 5635 2770 L 5635 2726.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5635 2721.12 L 5638.5 2728.12 L 5635 2726.37 L 5631.5 2728.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2768px; margin-left: 5634px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">当删除一个节点的时候，也需要找到<br /> DOM 节点的一个第一个 child 节点</div></div></div></foreignObject><text x="5634" y="2771" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">当删除一个节点的时候，也需要找到&#xa; DOM 节点的一个第一个 child 节点</text></switch></g><rect x="5395" y="2820" width="420" height="430" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 418px; height: 1px; padding-top: 2827px; margin-left: 5397px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-98" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-99" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-100" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">    return</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-101" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-102" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-103" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  let</span><span class="token-plain"> domParentFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-103" style="display: inline-block"><span class="token-plain">  // 就是一直往上找，找到为止</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-104" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  while</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!</span><span class="token-plain">domParentFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-105" style="display: inline-block"><span class="token-plain">    domParentFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> domParentFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">parent</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-106" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-107" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> domParent </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> domParentFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-108" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-110" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-111" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">effectTag </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"PLACEMENT"</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-112" style="display: inline-block"><span class="token-plain">    fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">!=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-113" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  )</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-114" style="display: inline-block"><span class="token-plain">    domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">appendChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="5397" y="2839" fill="#000000" font-family="Helvetica" font-size="12px">function commitWork(fiber) {...</text></switch></g><rect x="5410" y="2330" width="450" height="390" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 448px; height: 1px; padding-top: 2337px; margin-left: 5412px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-124" style="display: inline-block"><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">effectTag </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">===</span><span class="token-plain"> </span><span class="token-string" style="color: rgb(170 , 246 , 217)">"DELETION"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-125" style="display: inline-block"><span class="token-plain">    </span><span class="token-function">commitDeletion</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-127" style="display: inline-block"><span class="token-plain">  </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-128" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-129" style="display: inline-block"><span class="token-plain">  </span><span class="token-function">commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-130" style="display: inline-block"><span class="token-plain">  </span><span class="token-function">commitWork</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">sibling</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-131" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-132" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-133" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">commitDeletion</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-parameter"> domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-134" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  if</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-135" style="display: inline-block"><span class="token-plain">    domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">removeChild</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-136" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">else</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-137" style="display: inline-block"><span class="token-plain"></span><span class="token-function">    commitDeletion</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">child</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> domParent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-138" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-139" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="5412" y="2349" fill="#000000" font-family="Helvetica" font-size="12px">} else if (fiber.effectTag === "DELETION") {...</text></switch></g><path d="M 5710 4650 L 5710 4546.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 5710 4541.12 L 5713.5 4548.12 L 5710 4546.37 L 5706.5 4548.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5570" y="4650" width="280" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 4680px; margin-left: 5571px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">step8 Hooks 钩子函数</div></div></div></foreignObject><text x="5710" y="4684" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">step8 Hooks 钩子函数</text></switch></g><path d="M 6065 3970 L 6065 3926.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6065 3921.12 L 6068.5 3928.12 L 6065 3926.37 L 6061.5 3928.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5815" y="3970" width="500" height="450" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 498px; height: 1px; padding-top: 3977px; margin-left: 5817px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-312" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> Didact </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><span class="token-plain">  createElement</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><br /></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-314" style="display: inline-block"><span class="token-plain">  render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-315" style="display: inline-block"><span class="token-plain">  useState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-316" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-317" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-318" style="display: inline-block"><span class="token-comment" style="font-style: italic">/** @jsx Didact.createElement */</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-319" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">Counter</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-320" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> setState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> Didact</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">useState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-number" style="color: rgb(170 , 246 , 217)">1</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-321" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  return</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-322" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    &lt;</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">h1</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-attr-name">onClick</span><span class="token-script-punctuation">=</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-script"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-script"> </span><span class="token-function">setState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">c</span><span class="token-script"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-script"> c </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">+</span><span class="token-script"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">1</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-323" style="display: inline-block"><span class="token-plain">     Count</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span><span class="token-plain">state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-324" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    &lt;/</span><span class="token-tag" style="color: rgb(170 , 246 , 217)">h1</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-325" style="display: inline-block"><span class="token-plain">  </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-328" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-329" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> element </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">&lt;</span><span class="token-class-name">Counter</span><span class="token-tag" style="color: rgb(170 , 246 , 217)"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">/&gt;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-331" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> container </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> document</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">getElementById</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-string" style="color: rgb(170 , 246 , 217)">"root"</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-332" style="display: inline-block"><span class="token-plain">Didact</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">render</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">element</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> container</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div></div></div></div></foreignObject><text x="5817" y="3989" fill="#000000" font-family="Helvetica" font-size="12px">const Didact = {...</text></switch></g><path d="M 6065 3830 L 6065 3780 L 6135 3780 L 6135 3736.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6135 3731.12 L 6138.5 3738.12 L 6135 3736.37 L 6131.5 3738.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3780px; margin-left: 6090px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">定义一些全局变量，将会在 useState 使用</div></div></div></foreignObject><text x="6090" y="3783" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">定义一些全局变量，将会在 useState 使用</text></switch></g><rect x="5920" y="3830" width="290" height="90" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 288px; height: 1px; padding-top: 3837px; margin-left: 5922px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-214" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)"><br class="Apple-interchange-newline" />function</span><span class="token-plain"> </span><span class="token-function">useState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">initial</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-244" style="display: inline-block"><span class="token-plain">  </span><span class="token-comment" style="font-style: italic">// TODO</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-245" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="5922" y="3849" fill="#000000" font-family="Helvetica" font-size="12px">function useState(initial) {...</text></switch></g><path d="M 6135 3470 L 6135 3396.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6135 3391.12 L 6138.5 3398.12 L 6135 3396.37 L 6131.5 3398.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5920" y="3470" width="430" height="260" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 428px; height: 1px; padding-top: 3477px; margin-left: 5922px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-202" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">let</span><span class="token-plain"> wipFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-203" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">let</span><span class="token-plain"> hookIndex </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">null</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-204" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-205" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">updateFunctionComponent</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-206" style="display: inline-block"><span class="token-plain">  wipFiber </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-207" style="display: inline-block"><span class="token-plain">  hookIndex </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-number" style="color: rgb(170 , 246 , 217)">0 // 跟踪当前的 hook 索引</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-208" style="display: inline-block"><span class="token-plain">  wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">] // 给每个函数组件增加</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-208" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 一个 hooks 存放钩子函数，这样在一个函数组件</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-208" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 里面可以同时多次使用 useState</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden"><div class="cs-line cs-line-209" style="display: inline-block"><span class="token-plain" style="opacity: 0.3"></span><span class="token-plain" style="opacity: 0.3"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">  c</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">o</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">n</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">s</span><span class="token-keyword" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">t</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-plain" style="opacity: 0.3">c</span><span class="token-plain" style="opacity: 0.3">h</span><span class="token-plain" style="opacity: 0.3">i</span><span class="token-plain" style="opacity: 0.3">l</span><span class="token-plain" style="opacity: 0.3">d</span><span class="token-plain" style="opacity: 0.3">r</span><span class="token-plain" style="opacity: 0.3">e</span><span class="token-plain" style="opacity: 0.3">n</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">=</span><span class="token-plain" style="opacity: 0.3"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">[</span><span class="token-plain" style="opacity: 1">f</span><span class="token-plain" style="opacity: 1">i</span><span class="token-plain" style="opacity: 1">b</span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">r</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">.</span><span class="token-function" style="opacity: 1">t</span><span class="token-function" style="opacity: 1">y</span><span class="token-function" style="opacity: 1">p</span><span class="token-function" style="opacity: 1">e</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">(</span><span class="token-plain" style="opacity: 1">f</span><span class="token-plain" style="opacity: 1">i</span><span class="token-plain" style="opacity: 1">b</span><span class="token-plain" style="opacity: 1">e</span><span class="token-plain" style="opacity: 1">r</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">.</span><span class="token-plain" style="opacity: 1">p</span><span class="token-plain" style="opacity: 1">r</span><span class="token-plain" style="opacity: 1">o</span><span class="token-plain" style="opacity: 1">p</span><span class="token-plain" style="opacity: 1">s</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 1">)</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217) ; opacity: 0.3">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-210" style="display: inline-block"><span class="token-plain"></span><span class="token-function">  reconcileChildren</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">fiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> children</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-212" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="5922" y="3489" fill="#000000" font-family="Helvetica" font-size="12px">let wipFiber = null...</text></switch></g><path d="M 6135 3070 L 6135 2996.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6135 2991.12 L 6138.5 2998.12 L 6135 2996.37 L 6131.5 2998.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5890" y="3070" width="490" height="320" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 3077px; margin-left: 5892px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-214" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">function</span><span class="token-plain"> </span><span class="token-function">useState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">initial</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-214" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  // 找到旧的 hook，从 alternate 即 old fiber</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-215" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> oldHook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-218" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">hookIndex</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> hook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{ // 维持老状态值，没有就初始化</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-220" style="display: inline-block"><span class="token-plain">    state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> oldHook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">?</span><span class="token-plain"> oldHook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> initial</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-221" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-222" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-229" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-function-variable"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-230" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-231" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-232" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-233" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-234" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-235" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-236" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-237" style="display: inline-block"><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-238" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-239" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-240" style="display: inline-block"><span class="token-plain">  wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">push</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-241" style="display: inline-block"><span class="token-plain">  hookIndex</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">++ // 设置当前的 hook 索引</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-242" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(0px) ; height: 28px ; opacity: 1"><div class="cs-line cs-line-243" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  return</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-245" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="5892" y="3089" fill="#000000" font-family="Helvetica" font-size="12px">function useState(initial) {...</text></switch></g><path d="M 6300 2960 L 6420 2960 L 6420 3130 L 6463.63 3130" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6468.88 3130 L 6461.88 3133.5 L 6463.63 3130 L 6461.88 3126.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="5970" y="2930" width="330" height="60" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 328px; height: 1px; padding-top: 2960px; margin-left: 5971px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">useState 应该返回一个改变状态的函数 setState</div></div></div></foreignObject><text x="6135" y="2964" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">useState 应该返回一个改变状态的函数 setState</text></switch></g><path d="M 6715 2980 L 6715 2886.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6715 2881.12 L 6718.5 2888.12 L 6715 2886.37 L 6711.5 2888.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2930px; margin-left: 6715px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">动作执行，更新状态</div></div></div></foreignObject><text x="6715" y="2933" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">动作执行，更新状态</text></switch></g><rect x="6470" y="2980" width="490" height="600" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 488px; height: 1px; padding-top: 2987px; margin-left: 6472px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-215" style="display: inline-block"><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> oldHook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-216" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-217" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">&amp;&amp;</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-218" style="display: inline-block"><span class="token-plain">    wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">hookIndex</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> hook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-220" style="display: inline-block"><span class="token-plain">    state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> oldHook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">?</span><span class="token-plain"> oldHook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> initial</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-221" style="display: inline-block"><span class="token-plain">    queue</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">, // 队列来存放状态更新时应触发的动作</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-222" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-224" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-225" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-parameter"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-226" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-operator" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-function"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-227" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; transform: translatex(250px) ; height: 0px ; opacity: 0"><div class="cs-line cs-line-228" style="display: inline-block"><span class="token-plain"></span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-229" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> </span><span class="token-function-variable">setState</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-parameter">action</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-230" style="display: inline-block"><span class="token-plain">    hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">queue</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">push</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">action</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-231" style="display: inline-block"><span class="token-plain">    wipRoot </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-232" style="display: inline-block"><span class="token-plain">      dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> currentRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">dom</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-233" style="display: inline-block"><span class="token-plain">      props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> currentRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">props</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-234" style="display: inline-block"><span class="token-plain">      alternate</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> currentRoot</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-235" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-235" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">    // 下一次执行的 work unit</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-236" style="display: inline-block"><span class="token-plain">    nextUnitOfWork </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> wipRoot</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-237" style="display: inline-block"><span class="token-plain">    deletions </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-238" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px ; opacity: 0.3"><div class="cs-line cs-line-239" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-240" style="display: inline-block"><span class="token-plain">  wipFiber</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">hooks</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">push</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-241" style="display: inline-block"><span class="token-plain">  hookIndex</span><span class="token-operator" style="color: rgb(170 , 246 , 217)">++</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 1"><div class="cs-line cs-line-242" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  return</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-plain">hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span><span class="token-plain"> setState</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3 ; height: 28px"><div class="cs-line cs-line-245" style="display: inline-block"><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">}</span></div></div></div></div></div></foreignObject><text x="6472" y="2999" fill="#000000" font-family="Helvetica" font-size="12px">const oldHook =...</text></switch></g><path d="M 6715 2660 L 6715 2546.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 6715 2541.12 L 6718.5 2548.12 L 6715 2546.37 L 6711.5 2548.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="6490" y="2660" width="450" height="220" fill="#323438" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 448px; height: 1px; padding-top: 2667px; margin-left: 6492px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-219" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> hook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-220" style="display: inline-block"><span class="token-plain">   state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> oldHook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">?</span><span class="token-plain"> oldHook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> initial</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-221" style="display: inline-block"><span class="token-plain">   queue</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">,</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-222" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain">  // 下一次组件渲染的时候执行所有的 action 所以</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-223" style="display: inline-block"><span class="token-plain">  // useState 中返回的状态是已经更新了的状态</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-224" style="display: inline-block"><span class="token-plain"></span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">  const</span><span class="token-plain"> actions </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> oldHook </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">?</span><span class="token-plain"> oldHook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">queue </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">:</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">[</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">]</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-225" style="display: inline-block"><span class="token-plain">  actions</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-function">forEach</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-parameter">action</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-226" style="display: inline-block"><span class="token-plain">    hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-function">action</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">(</span><span class="token-plain">hook</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">.</span><span class="token-plain">state</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-227" style="display: inline-block"><span class="token-plain"></span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">  }</span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">)</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; height: 28px"><div class="cs-line cs-line-228" style="display: inline-block"><span class="token-plain">​</span></div></div><div style="color: rgb(223 , 221 , 217) ; font-family: monospace ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; overflow: hidden ; opacity: 0.3"><div class="cs-line cs-line-229" style="display: inline-block"><span class="token-plain">  </span><span class="token-keyword" style="color: rgb(170 , 246 , 217)">const</span><span class="token-plain"> </span><span class="token-function-variable">setState</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=</span><span class="token-plain"> </span><span class="token-parameter">action</span><span class="token-plain"> </span><span class="token-operator" style="color: rgb(170 , 246 , 217)">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation" style="color: rgb(170 , 246 , 217)">{</span></div></div></div></div></div></foreignObject><text x="6492" y="2679" fill="#000000" font-family="Helvetica" font-size="12px">const hook = {...</text></switch></g><rect x="6655" y="2480" width="120" height="60" fill="#e51400" stroke="#b20000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2510px; margin-left: 6656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">结束</div></div></div></foreignObject><text x="6715" y="2514" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">结束</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>