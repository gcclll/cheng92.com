<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Algorithm On Leetcode&lt;Array&gt; 1 (Easy Level) - 若叶知秋</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Zhicheng Lee" /><meta name="description" content="基于 leetcode 的算法学习记录文章，使用语言主要是 JavaScript，可能会有少于 C/Python 实现" /><meta name="keywords" content="Vue, React, JavaScript, Python" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />




<meta name="generator" content="Hugo 0.83.1 with theme even" />


<link rel="canonical" href="https://www.cheng92.com/algo/algo-leetcode-array-01/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<link href="/sass/main.min.06b20cf21b1dff0a19c6a6fd2770439ed0c003d544ece3c4e1fbfb34fc217e45.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/global.css">


<meta property="og:title" content="Algorithm On Leetcode&lt;Array&gt; 1 (Easy Level)" />
<meta property="og:description" content="基于 leetcode 的算法学习记录文章，使用语言主要是 JavaScript，可能会有少于 C/Python 实现" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.cheng92.com/algo/algo-leetcode-array-01/" /><meta property="article:section" content="algo" />
<meta property="article:published_time" content="2020-08-27T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2020-08-27T00:00:00&#43;00:00" />

<meta itemprop="name" content="Algorithm On Leetcode&lt;Array&gt; 1 (Easy Level)">
<meta itemprop="description" content="基于 leetcode 的算法学习记录文章，使用语言主要是 JavaScript，可能会有少于 C/Python 实现"><meta itemprop="datePublished" content="2020-08-27T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-08-27T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="6768">
<meta itemprop="keywords" content="algorithm,,leetcode,,programming,,javascript,,array," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Algorithm On Leetcode&lt;Array&gt; 1 (Easy Level)"/>
<meta name="twitter:description" content="基于 leetcode 的算法学习记录文章，使用语言主要是 JavaScript，可能会有少于 C/Python 实现"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">若叶知秋</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/emacs/">
        <li class="mobile-menu-item">Emacs</li>
      </a><a href="/algo/">
        <li class="mobile-menu-item">Algorithm</li>
      </a><a href="/web/">
        <li class="mobile-menu-item">Web</li>
      </a><a href="/vue/">
        <li class="mobile-menu-item">Vue</li>
      </a><a href="/react/">
        <li class="mobile-menu-item">React</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">若叶知秋</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/emacs/">Emacs</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/algo/">Algorithm</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/web/">Web</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/vue/">Vue</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/react/">React</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li id="search">
        <img class="icon" src="/img/search.png"/>
        <input type="search" class="docsearch-input" placeholder="Search" style="display:none;" />
      </li></ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Algorithm On Leetcode&lt;Array&gt; 1 (Easy Level)</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-08-27 </span>
        <div class="post-category">
            <a href="/categories/algorithm/"> algorithm, </a>
            <a href="/categories/array/"> array </a>
            </div>
          <span class="more-meta"> 约 6768 字 </span>
          <span class="more-meta"> 预计阅读 14 分钟 </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次阅读 </span>
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li><a href="#headline-1">01. 数组中重复的数字</a>
<ul>
<li><a href="#headline-2">方案一： reduce + Object.keys + map + filter</a>
</li>
<li><a href="#headline-3">方案二: for</a>
</li>
<li><a href="#headline-4">方案三: 递归</a>
</li>
<li><a href="#headline-5">方案四：二分 for</a>
</li>
<li><a href="#headline-6">其他方案(leetcoders)</a>
</li>
</ul>
</li>
<li><a href="#array-02">02. 两数之和 II - 输入有序数组</a>
<ul>
<li><a href="#array-02-plan-1">方案一：两个 for，O(n<sup>2</sup>)</a>
</li>
<li><a href="#array-02-plan-2">方案二: 排除 + 二分(<strong>O(n<sup>2</sup>), O(1)</strong>)</a>
</li>
<li><a href="#headline-10">方案三：计算，存储差值方式(<strong>O(n), O(n)</strong>)</a>
</li>
<li><a href="#headline-11">方案四: 对撞双指针</a>
</li>
<li><a href="#headline-12">二分查找(O(nlogn), O(1)) <sup><font color="red">leetcode</font></sup></a>
</li>
<li><a href="#headline-13">对撞双指针法(O(n), O(1)) <sup><font color="red">leetcode</font></sup></a>
</li>
</ul>
</li>
<li><a href="#headline-14">03. 剑指 Offer 11. 旋转数组的最小数字<sup><font color="red">每日</font></sup></a>
<ul>
<li><a href="#headline-15">方案一：for 循环直接遍历查找(O(n), O(1))</a>
</li>
<li><a href="#headline-16">方案二 <sup><font color="red">leetcode</font></sup> ：二分法(O(logn))</a>
</li>
</ul>
</li>
<li><a href="#headline-17">04. 两数之和</a>
</li>
</ul>
</nav>
  </div>
</div>
    <div class="post-content">
      
基于 leetcode 的算法学习记录文章，使用语言主要是 JavaScript，可能会有少于 C/Python 实现，在没标明的情况下默认都是 JavaScript 实现。<br><br>
约定 ：<br>

1. 有<sup><font color="red" size="2">每日</font></sup> 角标的标识是每日一题的题目 <br>
2. 有<sup><font color="red" size="2">leetcode</font></sup>角标的标识是该方案是Leetcode 网站上的题解 <br>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
<a href="https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/">01. 数组中重复的数字</a>
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
方案一： reduce + Object.keys + map + filter
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>下面这种方案适合于将所有重复的数字都找出来的案例，如果只需要找到第一个，该方案有多余的处理步骤，不建议使用。</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="cm">/**
</span><span class="cm">   ,* @param {number[]} nums
</span><span class="cm">   ,* @return {number}
</span><span class="cm">   ,*/</span>
  <span class="kd">var</span> <span class="nx">findRepeatNumber</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">nums</span><span class="p">))</span> <span class="k">return</span> <span class="p">[]</span>

    <span class="c1">// 通过 reduce 得到 { val: times } 结果
</span><span class="c1"></span>    <span class="c1">// 如果重复出现过 times &gt; 0 否则 times === 0
</span><span class="c1"></span>    <span class="kd">let</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">num</span> <span class="o">+</span> <span class="s2">&#34;&#34;</span>
      <span class="kd">let</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">acc</span><span class="p">[</span><span class="nx">num</span> <span class="o">+</span> <span class="s2">&#34;&#34;</span><span class="p">]</span> <span class="o">||</span> <span class="mi">0</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">acc</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">k</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">acc</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">=</span> <span class="o">++</span><span class="nx">v</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">acc</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="p">}</span>
      <span class="k">return</span> <span class="nx">acc</span>
    <span class="p">},</span> <span class="p">{})</span>

    <span class="c1">// 然后通过 keys, map 整理结果 times &gt; 0 的值
</span><span class="c1"></span>    <span class="c1">// 最后 filter 过滤掉 0 值得到的数组就是源数组中重复的数集合
</span><span class="c1"></span>    <span class="kr">const</span> <span class="nx">found</span> <span class="o">=</span> <span class="o">+</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
          <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">k</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">?</span> <span class="nx">k</span> <span class="o">:</span> <span class="mi">0</span><span class="p">))</span>
          <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="nx">found</span> <span class="o">!==</span> <span class="nx">found</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="nx">found</span>
  <span class="p">}</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">findRepeatNumber</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span></code></pre></td></tr></table>
</div>
</div>
</div>
<pre class="example">
2
undefined
</pre>
<p>
   <strong>执行结果：</strong></p>
<p>
   <font color="red">执行用时：152 ms, 在所有 JavaScript 提交中击败了 24.41%的用户</font></p>
<p>
   内存消耗：51.9 MB, 在所有 JavaScript 提交中击败了 100.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>152 ms</td>
<td>51.9 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
方案二: for
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>使用 for 语法，明显会比使用 reduce 快，因为它只要遇到重复的立即退出函数，而
   reduce 版本无论什么时候都需要将数组所有元素遍历完，方案一更适合于查找</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="kd">var</span> <span class="nx">findRepeatNumber</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">nums</span><span class="p">))</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="kd">let</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
          <span class="nx">v</span> <span class="o">=</span> <span class="nx">res</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">k</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">k</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   <strong>提交结果</strong> ：</p>
<p>
   执行用时：88 ms, 在所有 JavaScript 提交中击败了 57.41%的用户</p>
<p>
   内存消耗：43.1 MB, 在所有 JavaScript 提交中击败了 100.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>&lt;font color=&#34;red&#34;&gt;88 ms&lt;/font&gt;</td>
<td>43.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>3 分钟前</td>
<td>通过</td>
<td>104 ms</td>
<td>43 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 天前</td>
<td>通过</td>
<td>152 ms</td>
<td>51.9 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-4" class="outline-3">
<h3 id="headline-4">
方案三: 递归
</h3>
<div id="outline-text-headline-4" class="outline-text-3">
<p><strong>这个方法也可以通过，但效率上面感觉并没什么优势，并且这个方法找出的并不是第一个重复的元素。</strong></p>
<p>
   对比[方案二]：</p>
<ol>
<li>
<p>重复元素在中心点两边，同样需要遍历相同的次数才能找到这个重复元素(因为左边的递归必须先完成)</p>
</li>
<li>
<p>重复元素在左边，左边递归次数和方案二循环次数是一样的</p>
</li>
<li>
<p>重复元素在右边，左边必须递归完，右边的也必须递归直到两个重复元素出现(同方案一一样)</p>
</li>
</ol>
<p>能否针对上面的情况进行优化( <font color="red">text 考虑中心点两边同
   时进行比较，而不是等一边完成再处理另一边，那貌似就不适用递归了
   </font>)???</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="nx">findRepeatNumber</span> <span class="o">=</span> <span class="kd">function</span> <span class="mi">_</span><span class="p">(</span><span class="nx">nums</span><span class="p">,</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">nums</span><span class="p">))</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="c1">// 过滤掉非数组的情况
</span><span class="c1"></span>
    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
        <span class="nx">mid</span> <span class="o">=</span> <span class="o">~~</span><span class="p">(</span><span class="nx">len</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="kr">const</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">res</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">v</span> <span class="o">!==</span> <span class="k">void</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 这里应该可以再优化下，空数组不应该会到这里
</span><span class="c1"></span>      <span class="nx">res</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span> <span class="o">=</span> <span class="nx">val</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">val</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span>
      <span class="c1">// console.log(v, &#34;-------&#34;, res)
</span><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="nx">v</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">v</span> <span class="c1">// 这里的返回值会被下面递归是的 x 变量接受
</span><span class="c1"></span>      <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="kc">null</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">mid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="c1">// 这里优化空数组情况，不应该继续往下分解了
</span><span class="c1"></span>      <span class="nx">x</span> <span class="o">=</span> <span class="mi">_</span><span class="p">(</span><span class="nx">nums</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">mid</span><span class="p">),</span> <span class="nx">res</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">x</span>
      <span class="nx">x</span> <span class="o">=</span> <span class="mi">_</span><span class="p">(</span><span class="nx">nums</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">mid</span><span class="p">),</span> <span class="nx">res</span><span class="p">)</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">x</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   执行用时：112 ms, 在所有 JavaScript 提交中击败了 28.43%的用户</p>
<p>
   内存消耗：49.8 MB, 在所有 JavaScript 提交中击败了 100.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>112 ms</td>
<td>49.8 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>3 天前</td>
<td>通过</td>
<td>92 ms</td>
<td>45.5 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>3 天前</td>
<td>通过</td>
<td>104 ms</td>
<td>45.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>4 天前</td>
<td>通过</td>
<td>88 ms</td>
<td>43.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>4 天前</td>
<td>通过</td>
<td>104 ms</td>
<td>43 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>6 天前</td>
<td>通过</td>
<td>152 ms</td>
<td>51.9 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-5" class="outline-3">
<h3 id="headline-5">
方案四：二分 for
</h3>
<div id="outline-text-headline-5" class="outline-text-3">
<p>这个方案好处就是当两个数分布在中心点的两边的时候。</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">findRepeatNumber</span> <span class="o">=</span> <span class="kd">function</span> <span class="mi">_</span><span class="p">(</span><span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">nums</span><span class="p">))</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="kr">const</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span>
    <span class="kr">const</span> <span class="nx">mid</span> <span class="o">=</span> <span class="o">~~</span><span class="p">(</span><span class="nx">len</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

    <span class="kd">let</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">mid</span> <span class="o">||</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">v1</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">v1</span> <span class="o">!==</span> <span class="k">void</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">[</span><span class="nx">v1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">res</span><span class="p">[</span><span class="nx">v1</span><span class="p">]</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">res</span><span class="p">[</span><span class="nx">v1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="nx">v1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nx">v1</span>

      <span class="kr">const</span> <span class="nx">v2</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">v2</span> <span class="o">!==</span> <span class="k">void</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">res</span><span class="p">[</span><span class="nx">v2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">res</span><span class="p">[</span><span class="nx">v2</span><span class="p">]</span> <span class="o">===</span> <span class="k">void</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="nx">res</span><span class="p">[</span><span class="nx">v2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="nx">v2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nx">v2</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   结果好像并没啥优势，😅!!!</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>104 ms</td>
<td>45.4 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 分钟前</td>
<td>通过</td>
<td>108 ms</td>
<td>45.6 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 分钟前</td>
<td>通过</td>
<td>116 ms</td>
<td>45.6 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 分钟前</td>
<td>通过</td>
<td>88 ms</td>
<td>45.7 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-6" class="outline-3">
<h3 id="headline-6">
其他方案(leetcoders)
</h3>
<div id="outline-text-headline-6" class="outline-text-3">
<p>其他 leetcode 上的方案，觉得有趣挺好的方案列表：</p>
<ol>
<li>
<p>set.has 通过集合特性检测是否存在</p>
</li>
</ol>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="kd">var</span> <span class="nx">findRepeatNumber</span> <span class="o">=</span> <span class="kd">function</span> <span class="mi">_</span><span class="p">(</span><span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Set</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="c1">// 这里还可以改造下，通过检测长度变化来做为退出条件
</span><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">val</span><span class="p">))</span> <span class="k">return</span> <span class="nx">val</span>
      <span class="k">else</span> <span class="nx">s</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-array-02" class="outline-2">
<h2 id="array-02">
<a href="https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/">02. 两数之和 II - 输入有序数组</a>
</h2>
<div id="outline-text-array-02" class="outline-text-2">
<div id="outline-container-array-02-plan-1" class="outline-3">
<h3 id="array-02-plan-1">
方案一：两个 for，O(n<sup>2</sup>)
</h3>
<div id="outline-text-array-02-plan-1" class="outline-text-3">
<p>
   这种方法最简单暴力，但是时间复杂度为 O(n^2)</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="c1">// 最基本的遍历 O(n^2)
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">};</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   执行用时：444 ms, 在所有 JavaScript 提交中击败了 5.30%的用户</p>
<p>
   内存消耗：38 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>444 ms</td>
<td>38 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
<p>
   该方案基础上可以做点优化，排除非法值。</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="c1">// 把上面的实现，领出来作为一个函数
</span><span class="c1"></span>  <span class="kd">function</span> <span class="nx">base</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">[]</span>
  <span class="p">}</span>

  <span class="c1">// 这里加一层过滤。
</span><span class="c1"></span>  <span class="c1">// 过滤不合法的值，因为Numbers 是已排序的数组，所以 numbers[0] 肯定是最小的
</span><span class="c1"></span>  <span class="c1">// 通过和这个数相加如果大于 target 那肯定是不满足条件的元素，可以直接排除
</span><span class="c1"></span>  <span class="c1">// 时间复杂度依旧是 O(n^2)
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="c1">// 过滤掉不合法的值，比如：&gt; target
</span><span class="c1"></span>    <span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">min</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">min</span> <span class="o">&gt;</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">n</span> <span class="o">=</span> <span class="nx">i</span>
        <span class="k">break</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">numbers</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">base</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   这种优化只针对后面又大量的比 target 大的值的元素情况，否则几乎没任何改善。</p>
<p>
   执行用时：200 ms, 在所有 JavaScript 提交中击败了 23.08%的用户</p>
<p>
   内存消耗：37.9 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>200 ms</td>
<td>37.9 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-array-02-plan-2" class="outline-3">
<h3 id="array-02-plan-2">
方案二: 排除 + 二分(<strong>O(n<sup>2</sup>), O(1)</strong>)
</h3>
<div id="outline-text-array-02-plan-2" class="outline-text-3">
<blockquote>
<p>优化后的代码，依旧需要找出 midIdx，经过两次循环，时间复杂度为
   O(n<sup>2</sup>)，过程中不需要开辟新的数组，完全是在索引上进行操作的，因此空
   间复杂度是 O(1)</p>
</blockquote>
<p>
   这个方案是基于<a href="#array-02-plan-1">方案一</a>实现，在它的基础上将数组二分之后做加法比
   较，因为遍历的是有序数组，在排除不合法的值之后(`min + max &gt; target`的最大值)有效
   数字的索引是不会发生改变的。</p>
<p>
   <font color="red">这个方案的重点在于二分，减少遍历的次数，最坏的情况是排除的时
   候没任何变化，即数组元素都是有效数字，且较小值在左侧末尾，较大值也在左侧末尾，这
   样会导致双层遍历都需要走完才能找到有效两个值。</font></p>
<p>
   比如：[-1, 2, 3, 10, 12, 13] -&gt; 16 经过两步</p>
<ol>
<li>
<p>排除较大值无变化</p>
</li>
<li>
<p>二分数组成: `[-1, 2, 3]` 和 `[10, 12, 13]` 即要找到 3 + 13 = 16 就得将两个数组遍历到最后(3x3=9 次)。</p>
</li>
</ol>
<p>*写到这里会发现其实每次遍历并不需要都遍历完，考虑下将右边数字倒序遍历，那么就会
   有如果 leftval + rightval &lt; target 的时候那么它之后的数都不可能等于 target 便可
   以退出本次循环，减少比较次数。*</p>
<p>
   比如： left = -1, right = 13 相加 &lt; 16 那么 -1 + 12/10/… 都不可能等于 target
   因此可以直接排除掉。</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="c1">// 取中间值，然后搜索左值和右值，需要开辟 两个数组空间总大小最大为 numbers.length
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">numbers</span> <span class="o">=</span> <span class="nx">filterLarger</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span>

    <span class="kr">const</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="kr">const</span> <span class="nx">min</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
          <span class="nx">max</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="c1">// 目标的中间值作为基准，分割出左右小-大两个数组元素区
</span><span class="c1"></span>    <span class="kr">const</span> <span class="nx">mid</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">target</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">midIdx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1">// 找出大值起始索引
</span><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">&gt;</span> <span class="nx">mid</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">midIdx</span> <span class="o">=</span> <span class="nx">i</span>
        <span class="k">break</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">===</span> <span class="nx">mid</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">midIdx</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">break</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//console.log({ mid, midIdx }, numbers)
</span><span class="c1"></span>    <span class="c1">// 如果 midIdx === -1 说明有两种情况：
</span><span class="c1"></span>    <span class="c1">// 1. 余下的元素都是比 mid 小的数，这种情况就不会存在两个数相加等于 target
</span><span class="c1"></span>    <span class="c1">// 2. 余下的元素都是等于 mid 的数，这个时候可能性只有 mid 为 0情况
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">midIdx</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">target</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// q2
</span><span class="c1"></span>        <span class="c1">// 这种情况只要找出两个值为 0 的元素索引
</span><span class="c1"></span>        <span class="kd">let</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
          <span class="p">}</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">res</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// q1
</span><span class="c1"></span>        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// 到这里说明 midIdx &gt; -1，两边都有值且一大一小
</span><span class="c1"></span>
    <span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">midIdx</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 较小数
</span><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">midIdx</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">++</span><span class="nx">count</span>
        <span class="c1">// 较大数
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">+</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">===</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">,</span> <span class="s2">&#34;two sum 1&#34;</span><span class="p">)</span>
          <span class="k">return</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   上面示例提交结果：
   执行用时：96 ms, 在所有 JavaScript 提交中击败了 28.05%的用户</p>
<p>
   内存消耗：38.3 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<p>
   根据上面的分析，进一步优化，使第二个 for 倒序遍历，减少遍历次数：</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="c1">// 取中间值，然后搜索左值和右值，需要开辟 两个数组空间总大小最大为 numbers.length
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum2</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">numbers</span> <span class="o">=</span> <span class="nx">filterLarger</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span>

    <span class="kr">const</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="kr">const</span> <span class="nx">min</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
          <span class="nx">max</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="c1">// 目标的中间值作为基准，分割出左右小-大两个数组元素区
</span><span class="c1"></span>    <span class="kr">const</span> <span class="nx">mid</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">target</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">midIdx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1">// 找出大值起始索引
</span><span class="c1"></span>    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">&gt;</span> <span class="nx">mid</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">midIdx</span> <span class="o">=</span> <span class="nx">i</span>
        <span class="k">break</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">===</span> <span class="nx">mid</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">midIdx</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">break</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">//console.log({ mid, midIdx }, numbers)
</span><span class="c1"></span>    <span class="c1">// 如果 midIdx === -1 说明有两种情况：
</span><span class="c1"></span>    <span class="c1">// 1. 余下的元素都是比 mid 小的数，这种情况就不会存在两个数相加等于 target
</span><span class="c1"></span>    <span class="c1">// 2. 余下的元素都是等于 mid 的数，这个时候可能性只有 mid 为 0情况
</span><span class="c1"></span>    <span class="k">if</span> <span class="p">(</span><span class="nx">midIdx</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">target</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// q2
</span><span class="c1"></span>        <span class="c1">// 这种情况只要找出两个值为 0 的元素索引
</span><span class="c1"></span>        <span class="kd">let</span> <span class="nx">res</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
          <span class="p">}</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">res</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// q1
</span><span class="c1"></span>        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// 到这里说明 midIdx &gt; -1，两边都有值且一大一小
</span><span class="c1"></span>
    <span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">midIdx</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// 较小数
</span><span class="c1"></span>      <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">len</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&gt;=</span> <span class="nx">midIdx</span><span class="p">;</span> <span class="nx">j</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">lval</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span>
              <span class="nx">rval</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
        <span class="o">++</span><span class="nx">count</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">lval</span> <span class="o">+</span> <span class="nx">rval</span> <span class="o">&lt;</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// 直接退出 j 循环
</span><span class="c1"></span>          <span class="k">break</span>
        <span class="p">}</span>
        <span class="c1">// 较大数
</span><span class="c1"></span>        <span class="k">if</span> <span class="p">(</span><span class="nx">lval</span> <span class="o">+</span> <span class="nx">rval</span> <span class="o">===</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">,</span> <span class="s2">&#34;two sum 2&#34;</span><span class="p">)</span>
          <span class="k">return</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   测试：</p>
<pre class="example">
  console.log(twoSum([-1, 2, 3, 10, 12, 13], 16), &#34;result1&#34;)
  console.log(twoSum2([-1, 2, 3, 10, 12, 13], 16), &#34;result2&#34;)
  // 输出结果:
  ➜  algo git:(master) ✗ node test.js
  node test.js
  9 two sum 1
  [ 3, 6 ] result1
  3 two sum 2
  [ 3, 6 ] result2
  ➜  algo git:(master) ✗
</pre>
<p>
   从上结果看出，优化之前 count = 9，优化之后 count = 3，很明显大大减少了遍历次数。</p>
<p>
   <strong>提交结果 1</strong> ：</p>
<p>
   执行用时：96 ms, 在所有 JavaScript 提交中击败了 28.05%的用户</p>
<p>
   内存消耗：38.1 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<p>
   <strong>提交结果 2</strong> ：</p>
<p>
   执行用时：76 ms, 在所有 JavaScript 提交中击败了 51.90%的用户</p>
<p>
   内存消耗：38.1 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<p>
   <strong>提交多次后的结果</strong> ：</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>76 ms</td>
<td>38.5 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>92 ms</td>
<td>38.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 分钟前</td>
<td>通过</td>
<td>76 ms</td>
<td>38.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 分钟前</td>
<td>通过</td>
<td>96 ms</td>
<td>38.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>26 分钟前</td>
<td>通过</td>
<td>96 ms</td>
<td>38.3 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
<p>
   PS：结果好像并没什么改善，使用双层循环始终不完美，能否只是用一个层循环就能解决问题呢？？？</p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-3">
<h3 id="headline-10">
方案三：计算，存储差值方式(<strong>O(n), O(n)</strong>)
</h3>
<div id="outline-text-headline-10" class="outline-text-3">
<p>差值计算原理</p>
<ol>
<li>
<p>缓存不满足条件的值(作为索引)，其索引作为值，用来待查询</p>
</li>
<li>
<p>使用插值作为索引去取值，能取到说明这个值被遍历且被存储去，属于有
效值，最终返回其作为索引对应的值(即它的索引值)，和当前的值索引，即
最后满足条件的两个值的索引</p>
</li>
</ol>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 这里可以左一层过滤，过滤掉非法的值
</span><span class="c1"></span>    <span class="c1">// numbers = filterLarger(numbers, target)
</span><span class="c1"></span>
    <span class="kr">const</span> <span class="nx">deltas</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="kr">const</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="c1">// 记录当前的值
</span><span class="c1"></span>      <span class="kr">const</span> <span class="nx">delta</span> <span class="o">=</span> <span class="nx">target</span> <span class="o">-</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="c1">// 计算差值
</span><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="nx">deltas</span><span class="p">[</span><span class="nx">delta</span><span class="p">]</span> <span class="o">!==</span> <span class="k">void</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 进入这里说明当前值的差值在 deltas 中存在过
</span><span class="c1"></span>        <span class="k">return</span> <span class="p">[</span><span class="nx">deltas</span><span class="p">[</span><span class="nx">delta</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
      <span class="p">}</span>
      <span class="c1">// 保存当前值和它的索引
</span><span class="c1"></span>      <span class="c1">// 这里保存的目的是为了使用上面的 delta 走位索引来找差值
</span><span class="c1"></span>      <span class="c1">// 到这里说明并没有找到对应的差值
</span><span class="c1"></span>      <span class="nx">deltas</span><span class="p">[</span><span class="nx">val</span><span class="p">]</span> <span class="o">=</span> <span class="nx">i</span>
    <span class="p">}</span>

    <span class="c1">//console.log(deltas, &#34;0&#34;)
</span><span class="c1"></span>    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   使用数组存储遍历过待比较的值会有个问题，如果这些值很大的时候，会创建一个长度很大的里面有很多空置的数组，也就是说会创建一个包含很多无意义元素的数组，在某种情况下对浪费巨大的内存。
   <font color="blue">
   搞清楚我们要存储的内容，其实最主要的是满足条件的两个值的索引，而又需要很方便的找到这个值，其实可以考虑使用 `Map` 来实现。
   </font></p>
<p>
   比如：</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="c1">// 插值 + map 减少空间浪费
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 可以过滤一层不合法值
</span><span class="c1"></span>    <span class="c1">// numbers = filterLarger(numbers, target)
</span><span class="c1"></span>
    <span class="kr">const</span> <span class="nx">deltas</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">()</span>
    <span class="kr">const</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="kr">const</span> <span class="nx">delta</span> <span class="o">=</span> <span class="nx">target</span> <span class="o">-</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">deltas</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">delta</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="nx">deltas</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">delta</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
      <span class="p">}</span>
      <span class="c1">// 保存当前值和它的索引
</span><span class="c1"></span>      <span class="nx">deltas</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">val</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// console.log(deltas, &#34;0&#34;)
</span><span class="c1"></span>    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   执行结果：好像也不怎么理想</p>
<p>
   执行用时：84 ms, 在所有 JavaScript 提交中击败了 36.05%的用户</p>
<p>
   内存消耗：38.1 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>84 ms</td>
<td>38.1 MB</td>
<td>Javascript</td>
</tr>
<tr>
<td>1 分钟前</td>
<td>通过</td>
<td>92 ms</td>
<td>38.1 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-11" class="outline-3">
<h3 id="headline-11">
方案四: 对撞双指针
</h3>
<div id="outline-text-headline-11" class="outline-text-3">
<p>
   这种方案是在 leetcode 解题答案中看到的，这位作者说是击败 80%，但实际我试过几次结果其实并不理想，</p>
<p>
   执行用时：92 ms, 在所有 JavaScript 提交中击败了 29.67%的用户</p>
<p>
   内存消耗：37.9 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
<p>
   上代码：</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="c1">// 对撞双指针
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nx">j</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="kd">let</span> <span class="nx">lval</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="nx">rval</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
      <span class="p">;(</span><span class="nx">lval</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]),</span> <span class="p">(</span><span class="nx">rval</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">j</span><span class="p">])</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">lval</span> <span class="o">+</span> <span class="nx">rval</span> <span class="o">&lt;</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">i</span><span class="o">++</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">lval</span> <span class="o">+</span> <span class="nx">rval</span> <span class="o">&gt;</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">j</span><span class="o">--</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">j</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   这种方案还是比较好理解的，因为是有序数组，所以：</p>
<ol>
<li>
<p>只要两个数小于 target 说明需要增加值大小，由于 j 是从最右边开始没有可加空
间了，那么只能 i++ 取新的更大的值去弥补空缺。</p>
</li>
<li>
<p>只要两个数大于 target 说明需要减小和的值，但由于在此时左边的值也没减小的
空间了，因此只能 j– 取新的更小的值去剔除多余的值</p>
</li>
</ol>
<p>这种方案，不需要另开辟空间，while 里面是 logn 是因为将第一个数右边的所有数通过不断二分排除左边或右边一系列不合法的值。</p>
<p>
   实测结果：</p>
<p>
   执行用时：80 ms, 在所有 JavaScript 提交中击败了 41.01%的用户</p>
<p>
   内存消耗：38 MB, 在所有 JavaScript 提交中击败了 10.00%的用户</p>
</div>
</div>
<div id="outline-container-headline-12" class="outline-3">
<h3 id="headline-12">
二分查找(O(nlogn), O(1)) <sup><font color="red">leetcode</font></sup>
</h3>
<div id="outline-text-headline-12" class="outline-text-3">
<p>先用第一层的 for 固定第一个数，然后在 for 里面使用 while 二分查找第二个数，
   第一个 for 是 O(n) 第二个 while 是 logn 因此最后的时间复杂度是 (O(nlogn))。</p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">
  <span class="c1">// 二分法[官方]
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">twoSum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">first</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="kd">let</span> <span class="nx">left</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
          <span class="nx">right</span> <span class="o">=</span> <span class="nx">len</span> <span class="o">-</span> <span class="mi">1</span>

      <span class="k">while</span> <span class="p">(</span><span class="nx">left</span> <span class="o">&lt;=</span> <span class="nx">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 取中间的那个索引值
</span><span class="c1"></span>        <span class="kr">const</span> <span class="nx">mid</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">right</span> <span class="o">-</span> <span class="nx">left</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nx">left</span>

        <span class="kr">const</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">mid</span><span class="p">],</span>
              <span class="nx">delta</span> <span class="o">=</span> <span class="nx">target</span> <span class="o">-</span> <span class="nx">first</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">===</span> <span class="nx">delta</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">&gt;</span> <span class="nx">delta</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// 如果值大了，排除 mid 右边的所有元素值
</span><span class="c1"></span>          <span class="nx">right</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="c1">// 如果小了，排除 mid 左边的所有元素值
</span><span class="c1"></span>          <span class="nx">left</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-13" class="outline-3">
<h3 id="headline-13">
对撞双指针法(O(n), O(1)) <sup><font color="red">leetcode</font></sup>
</h3>
<div id="outline-text-headline-13" class="outline-text-3">
<p>如：<a href="#array-02-plan-4">方案四</a>，采用两端指针分别右移和左移方式来定位唯一解，
   这种方案在位移过程中不会出现过滤掉唯一解的情况，因为头端右移的前提是 value &lt;
   target，需要补值(就算尾端先达到条件，只要值小尾端就不会发生位移)，尾端左移前
   提是 value &gt; target ，需要减值(就算头端先达到条件，只要值大尾端就不会发生位
   移)，因此保证了左右两端任一一端先达到符合条件的值该值都不会被过滤掉，从而当
   两端值都满足条件的时候退出循环。</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-14" class="outline-2">
<h2 id="headline-14">
<a href="https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/">03. 剑指 Offer 11. 旋转数组的最小数字<sup><font color="red">每日</font></sup></a>
</h2>
<div id="outline-text-headline-14" class="outline-text-2">
<div id="outline-container-headline-15" class="outline-3">
<h3 id="headline-15">
方案一：for 循环直接遍历查找(O(n), O(1))
</h3>
<div id="outline-text-headline-15" class="outline-text-3">
<p>明确问题含义之后，最简单的方法就是通过遍历找到比前面更小的数即可。</p>
<p>
   问题?：<font color="red">既然 target 前面的数都是升序列表，说明我们只要比较目标
   值和数组第一个数就可以了，第一个数到目标值之间的数的比较其实都是多余的。</font></p>
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="cm">/**
</span><span class="cm">   ,* @param {number[]} numbers
</span><span class="cm">   ,* @return {number}
</span><span class="cm">   ,*/</span>
  <span class="kd">var</span> <span class="nx">minArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">min</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="nx">min</span>


    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">&lt;</span> <span class="nx">min</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">val</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">min</span>
  <span class="p">};</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   结果：</p>
<p>
   执行用时：92 ms, 在所有 JavaScript 提交中击败了 12.99%的用户</p>
<p>
   内存消耗：38 MB, 在所有 JavaScript 提交中击败了 100.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>92 ms</td>
<td>38 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-headline-16" class="outline-3">
<h3 id="headline-16">
方案二 <sup><font color="red">leetcode</font></sup> ：二分法(O(logn))
</h3>
<div id="outline-text-headline-16" class="outline-text-3">
<div class="src src-js">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js">  <span class="c1">// 二分法
</span><span class="c1"></span>  <span class="kd">var</span> <span class="nx">minArray</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">len</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">len</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">numbers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">return</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">while</span> <span class="p">(</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">let</span> <span class="nx">lVal</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">rVal</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span>
      <span class="kd">let</span> <span class="nx">mid</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">j</span> <span class="o">-</span> <span class="nx">i</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nx">i</span><span class="p">,</span>
          <span class="nx">midVal</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">mid</span><span class="p">]</span>
      <span class="c1">// 中间值比右边的值大，说明在旋转的数组范围内，左侧指针右移
</span><span class="c1"></span>      <span class="k">if</span> <span class="p">(</span><span class="nx">midVal</span> <span class="o">&gt;</span> <span class="nx">rVal</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">i</span> <span class="o">=</span> <span class="nx">mid</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">midVal</span> <span class="o">&lt;</span> <span class="nx">rVal</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 中间值比右边值小，说明在非旋转数组范围内，右侧指针左移
</span><span class="c1"></span>        <span class="c1">// 但是为了不过滤掉目标值，这里不能 mid - 1，因为我要找的值
</span><span class="c1"></span>        <span class="c1">// 肯定是在非旋转的数组范围内的
</span><span class="c1"></span>        <span class="nx">j</span> <span class="o">=</span> <span class="nx">mid</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// 这里指针一步一步左移，是为了应对相同值的情况，即 midVal === rVal 的时候
</span><span class="c1"></span>        <span class="c1">// 这里为何不需要考虑 i++ 的情况???
</span><span class="c1"></span>        <span class="c1">// ----&gt; 因为low指针右移的前提是 midVal &gt; rVal，即此时的 midVal 一定是在
</span><span class="c1"></span>        <span class="c1">// 旋转数组范围内，只要进行 mid + 1 将左侧的值全部过滤掉，就算有相同的值，那一定
</span><span class="c1"></span>        <span class="c1">// 都还是在旋转数组范围内，因此直接过滤即可。
</span><span class="c1"></span>        <span class="nx">j</span><span class="o">--</span>
      <span class="p">}</span>

    <span class="p">}</span>
    <span class="c1">// 最后循环结束的时候，肯定就是最小值的位置
</span><span class="c1"></span>    <span class="k">return</span> <span class="nx">numbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>

  <span class="p">}</span></code></pre></td></tr></table>
</div>
</div>
</div>
<p>
   执行用时：112 ms, 在所有 JavaScript 提交中击败了 6.90%的用户</p>
<p>
   内存消耗：38.1 MB, 在所有 JavaScript 提交中击败了 100.00%的用户</p>
<table>
<thead>
<tr>
<th>提交时间</th>
<th>提交结果</th>
<th>运行时间</th>
<th>内存消耗</th>
<th>语言</th>
</tr>
</thead>
<tbody>
<tr>
<td>几秒前</td>
<td>通过</td>
<td>112 ms</td>
<td>38.1 MB</td>
<td>Javascript</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-17" class="outline-2">
<h2 id="headline-17">
<a href="https://leetcode-cn.com/problems/two-sum/">04. 两数之和</a>
</h2>
<div id="outline-text-headline-17" class="outline-text-2">
<p>
  给定一个整数数组 nums 和一个目标值 target，请你在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。</p>
<p>
  你可以假设每种输入只会对应一个答案。但是，数组中同一个元素不能使用两遍。</p>
<p>
  这一题和 <a href="#array-02">02. 两数之和 II - 输入有序数组</a> 解法相差不大，唯一不同的是 02 中是输入的有序数组，这里的数组顺序是未知的，可能有序可能乱序。</p>
<p>
  因此解法上的差异从 4 个方案+两个官方方案来分析的话会有如下结果：</p>
<ol>
<li>
<p><a href="#array-02-plan-1">方案一</a> 两个 for 循环，不需要改动啥，暴力解法不在乎是否有序</p>
</li>
<li>
<p><a href="#array-02-plan-2">方案二</a> 二分法，会根据有序数组进行排除，因此在这里不适用，但二分法依旧有用</p>
</li>
<li>
<p><a href="#array-02-plan-3">方案三</a> 差值法，依旧适用，该方案不区分是否有序</p>
</li>
<li>
<p><a href="#array-02-plan-4">方案四</a> 对撞法，依旧适用</p>
</li>
<li>
<p>… 官方方案二分查找采用了有序数组过滤类似方案二，对撞法就是方案三。</p>
</li>
</ol>
</div>
</div>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Zhicheng Lee</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-08-27
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/algorithm/">algorithm,</a>
          <a href="/tags/leetcode/">leetcode,</a>
          <a href="/tags/programming/">programming,</a>
          <a href="/tags/javascript/">javascript,</a>
          <a href="/tags/array/">array</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/algo/algo-leetcode-string-01/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Algorithm On Leetcode&lt;String&gt; 1 (Easy Level)</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'zcheng';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><div id="lv-container" data-id="city" data-uid="MTAyMC81MTQwMC8yNzg4MQ==">
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];

        if (typeof LivereTower === 'function') { return; }

        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;

        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
    <noscript>Please enable JavaScript to view the comments powered by <a href="https://livere.com/">LiveRe.</a></noscript>
    </div>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:gccll.love@email.com" class="iconfont icon-email" title="email"></a>
      <a href="https://stackoverflow.com/users/6062239/simon" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="https://twitter.com/gccll_love" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://www.facebook.com/profile.php?id=100013995916088" class="iconfont icon-facebook" title="facebook"></a>
      <a href="https://github.com/gcclll" class="iconfont icon-github" title="github"></a>
      <a href="https://www.zhihu.com/people/gccll" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="https://space.bilibili.com/384410681" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="https://www.cheng92.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> 本站总访问量 <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次 </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> 本站总访客数 <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 人 </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2020 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>Zhicheng Lee</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
    docsearch({
    apiKey: "ac1e64640788e5697016a58be1ec7232",
    indexName: "cheng92.com",
    appId: "EDIKM3W4HV",
    inputSelector: '.docsearch-input',
    debug: false,
    });
</script>



<script type="text/javascript" src="/js/main.min.db4c43431f3833e1a48d3c8754f77c8250eedde3c20810a308f35779fdf8acd1.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-175986456-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>





<script src="/js/global.js"></script>


</body>
</html>
