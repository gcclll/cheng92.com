<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1451px" height="2996px" viewBox="-0.5 -0.5 1451 2996" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-10-14T03:05:51.601Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.7.3 Chrome/85.0.4183.98 Electron/10.1.2 Safari/537.36&quot; etag=&quot;h_WM2JPObGIm9zBQL5Vl&quot; version=&quot;13.7.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;C5RBs43oDa-KdzZeNtuy&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 775 910 L 775 983.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 775 988.88 L 771.5 981.88 L 775 983.63 L 778.5 981.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="670" y="870" width="210" height="40" rx="6" ry="6" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 890px; margin-left: 671px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">new Promise(resolver)</div></div></div></foreignObject><text x="775" y="894" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">new Promise(resolver)</text></switch></g><path d="M 860 780 L 1050 780 L 1050 736.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1050 731.12 L 1053.5 738.12 L 1050 736.37 L 1046.5 738.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 700 780 L 525 780 L 525 666.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 525 661.12 L 528.5 668.12 L 525 666.37 L 521.5 668.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 700 755 C 700 746.72 735.82 740 780 740 C 801.22 740 821.57 741.58 836.57 744.39 C 851.57 747.21 860 751.02 860 755 L 860 805 C 860 813.28 824.18 820 780 820 C 735.82 820 700 813.28 700 805 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><path d="M 860 755 C 860 763.28 824.18 770 780 770 C 735.82 770 700 763.28 700 755" fill="none" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 793px; margin-left: 701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">_result = undefined<br />_state = undefined<br />_subscribers = []</div></div></div></foreignObject><text x="780" y="796" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">_result = undefined...</text></switch></g><rect x="720" y="710" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 720px; margin-left: 780px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Promise Constructor</div></div></div></foreignObject><text x="780" y="724" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Promise Constructor</text></switch></g><path d="M 775 1030 L 775 1080 L 505 1080 L 505 1133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 505 1138.88 L 501.5 1131.88 L 505 1133.63 L 508.5 1131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1080px; margin-left: 598px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">fulfilled</div></div></div></foreignObject><text x="598" y="1083" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">fulfilled</text></switch></g><path d="M 775 1030 L 775 1080 L 1095 1080 L 1095 1133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1095 1138.88 L 1091.5 1131.88 L 1095 1133.63 L 1098.5 1131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1084px; margin-left: 989px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">rejected</div></div></div></foreignObject><text x="989" y="1087" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">rejected</text></switch></g><rect x="670" y="990" width="210" height="40" rx="6" ry="6" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1010px; margin-left: 671px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">resolver(resolve, reject)</div></div></div></foreignObject><text x="775" y="1014" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">resolver(resolve, reject)</text></switch></g><path d="M 505 1180 L 505 1240 L 320 1240 L 320 1343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 320 1348.88 L 316.5 1341.88 L 320 1343.63 L 323.5 1341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1291px; margin-left: 321px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">if </div></div></div></foreignObject><text x="321" y="1294" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">if </text></switch></g><path d="M 505 1180 L 505 1260 L 505 1353.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 505 1358.88 L 501.5 1351.88 L 505 1353.63 L 508.5 1351.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1301px; margin-left: 506px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">else if</div></div></div></foreignObject><text x="506" y="1304" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">else if</text></switch></g><path d="M 505 1180 L 505 1240 L 680 1240 L 680 1343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 680 1348.88 L 676.5 1341.88 L 680 1343.63 L 683.5 1341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1300px; margin-left: 684px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">else</div></div></div></foreignObject><text x="684" y="1303" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">else</text></switch></g><rect x="400" y="1140" width="210" height="40" rx="6" ry="6" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1160px; margin-left: 401px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">resolve(promise, value)</div></div></div></foreignObject><text x="505" y="1164" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">resolve(promise, value)</text></switch></g><rect x="970" y="1140" width="210" height="40" rx="6" ry="6" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1160px; margin-left: 971px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">reject(promise, reason)</div></div></div></foreignObject><text x="1075" y="1164" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">reject(promise, reason)</text></switch></g><path d="M 260 1390 L 176.37 1390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 171.12 1390 L 178.12 1386.5 L 176.37 1390 L 178.12 1393.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="320" cy="1390" rx="60" ry="40" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1390px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">promise===value<br />不能返回自身</div></div></div></foreignObject><text x="320" y="1394" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">promise===value...</text></switch></g><path d="M 505 1440 L 505 1513.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 505 1518.88 L 501.5 1511.88 L 505 1513.63 L 508.5 1511.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="505" cy="1400" rx="60" ry="40" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1400px; margin-left: 446px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">value 是 object 或 function 类型</div></div></div></foreignObject><text x="505" y="1404" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">value 是 object 或 funct...</text></switch></g><path d="M 680 1430 L 680 1513.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 680 1518.88 L 676.5 1511.88 L 680 1513.63 L 683.5 1511.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="680" cy="1390" rx="60" ry="40" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1390px; margin-left: 621px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">value 普通类型值</div></div></div></foreignObject><text x="680" y="1394" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">value 普通类型值</text></switch></g><rect x="0" y="1360" width="170" height="60" rx="9" ry="9" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1390px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">reject(promise, new Error())</div></div></div></foreignObject><text x="85" y="1394" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">reject(promise, new Error())</text></switch></g><rect x="445" y="1520" width="120" height="60" rx="9" ry="9" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1550px; margin-left: 446px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">TODO then 处理</div></div></div></foreignObject><text x="505" y="1554" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">TODO then 处理</text></switch></g><path d="M 740 1550 L 853.63 1550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 858.88 1550 L 851.88 1553.5 L 853.63 1550 L 851.88 1546.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1549px; margin-left: 792px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">promise._state</div></div></div></foreignObject><text x="792" y="1552" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">promise._state</text></switch></g><rect x="620" y="1520" width="120" height="60" rx="9" ry="9" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1550px; margin-left: 621px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">fulfill(promise, value)</div></div></div></foreignObject><text x="680" y="1554" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">fulfill(promise, val...</text></switch></g><path d="M 940 1550 L 1053.63 1550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1058.88 1550 L 1051.88 1553.5 L 1053.63 1550 L 1051.88 1546.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1548px; margin-left: 992px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="992" y="1551" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 900 1590 L 900 1673.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 900 1678.88 L 896.5 1671.88 L 900 1673.63 L 903.5 1671.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 880 1530 L 892.93 1517.07 Q 900 1510 907.07 1517.07 L 932.93 1542.93 Q 940 1550 932.93 1557.07 L 907.07 1582.93 Q 900 1590 892.93 1582.93 L 867.07 1557.07 Q 860 1550 867.07 1542.93 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1550px; margin-left: 861px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PENDING?</div></div></div></foreignObject><text x="900" y="1554" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">PENDING?</text></switch></g><path d="M 1050 1540 L 1045 1535 Q 1040 1530 1050 1530 L 1170 1530 Q 1180 1530 1187.07 1537.07 L 1193.54 1543.54 Q 1200 1550 1192.93 1557.07 L 1186.46 1563.54 Q 1180 1570 1170 1570 L 1050 1570 Q 1040 1570 1047.07 1562.93 L 1053.54 1556.46 Q 1060 1550 1055 1545 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1550px; margin-left: 1041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return 结束</div></div></div></foreignObject><text x="1120" y="1554" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">return 结束</text></switch></g><path d="M 900 1740 L 900 1803.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 900 1808.88 L 896.5 1801.88 L 900 1803.63 L 903.5 1801.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="805" y="1680" width="190" height="60" rx="9" ry="9" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1710px; margin-left: 806px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">promise._result = value<br />promise._state = FULFILLED</div></div></div></foreignObject><text x="900" y="1714" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">promise._result = value...</text></switch></g><path d="M 940 1850 L 1058.63 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1063.88 1850 L 1056.88 1853.5 L 1058.63 1850 L 1056.88 1846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1850px; margin-left: 989px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">len = 0</div></div></div></foreignObject><text x="989" y="1853" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">len = 0</text></switch></g><path d="M 900 1890 L 900 1973.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 900 1978.88 L 896.5 1971.88 L 900 1973.63 L 903.5 1971.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1931px; margin-left: 900px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">开始 flush 队列</div></div></div></foreignObject><text x="900" y="1934" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">开始 flush 队列</text></switch></g><path d="M 880 1830 L 892.93 1817.07 Q 900 1810 907.07 1817.07 L 932.93 1842.93 Q 940 1850 932.93 1857.07 L 907.07 1882.93 Q 900 1890 892.93 1882.93 L 867.07 1857.07 Q 860 1850 867.07 1842.93 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1850px; margin-left: 861px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">_subscribers?</div></div></div></foreignObject><text x="900" y="1854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">_subscribers?</text></switch></g><ellipse cx="1092.5" cy="1850" rx="27.5" ry="25" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 1850px; margin-left: 1066px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">none</div></div></div></foreignObject><text x="1093" y="1854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">none</text></switch></g><path d="M 975 2010 L 1053.63 2010" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1058.88 2010 L 1051.88 2013.5 L 1053.63 2010 L 1051.88 2006.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="825" y="1980" width="150" height="60" rx="9" ry="9" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 2010px; margin-left: 826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">asap(publish,promise)</div></div></div></foreignObject><text x="900" y="2014" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">asap(publish,promise)</text></switch></g><path d="M 1155 2040 L 1155 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1155 2118.88 L 1151.5 2111.88 L 1155 2113.63 L 1158.5 2111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1060" y="1980" width="190" height="60" rx="9" ry="9" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2010px; margin-left: 1061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue[len] = callback // publish<br />queue[len+1] = arg // promise</div></div></div></foreignObject><text x="1155" y="2014" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queue[len] = callback // publis...</text></switch></g><path d="M 1155 2150 L 1155 2198.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1155 2203.88 L 1151.5 2196.88 L 1155 2198.63 L 1158.5 2196.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1080" y="2120" width="150" height="30" rx="4.5" ry="4.5" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 2135px; margin-left: 1081px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">len += 2</div></div></div></foreignObject><text x="1155" y="2139" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">len += 2</text></switch></g><path d="M 1195 2245 L 1293.63 2245" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1298.88 2245 L 1291.88 2248.5 L 1293.63 2245 L 1291.88 2241.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2247px; margin-left: 1226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="1226" y="2250" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 1155 2285 L 1155 2368.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1155 2373.88 L 1151.5 2366.88 L 1155 2368.63 L 1158.5 2366.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2321px; margin-left: 1159px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">根据执行环境决定用什么函数<br />可能是 setTimeout, 或 setImmediate等，这里<br />用 node 环境的 process.nextTick(flush)</div></div></div></foreignObject><text x="1159" y="2324" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">根据执行环境决定用什么函数可能是 setTimeout, 或 setImmediate等，这里...</text></switch></g><path d="M 1135 2225 L 1147.93 2212.07 Q 1155 2205 1162.07 2212.07 L 1187.93 2237.93 Q 1195 2245 1187.93 2252.07 L 1162.07 2277.93 Q 1155 2285 1147.93 2277.93 L 1122.07 2252.07 Q 1115 2245 1122.07 2237.93 Z" fill="#008a00" stroke="#005700" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 2245px; margin-left: 1116px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">len = 2?</div></div></div></foreignObject><text x="1155" y="2249" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">len = 2?</text></switch></g><ellipse cx="1327.5" cy="2245" rx="27.5" ry="27.5" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 53px; height: 1px; padding-top: 2245px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">none</div></div></div></foreignObject><text x="1328" y="2249" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">none</text></switch></g><path d="M 1155 2435 L 1155 2508.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1155 2513.88 L 1151.5 2506.88 L 1155 2508.63 L 1158.5 2506.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1077.5" y="2375" width="155" height="60" rx="9" ry="9" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 153px; height: 1px; padding-top: 2405px; margin-left: 1079px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">process.nextTick(flush)</div></div></div></foreignObject><text x="1155" y="2409" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">process.nextTick(flush)</text></switch></g><path d="M 1110 700 L 1163.8 700 L 1163.8 640 L 1211.13 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1216.38 640 L 1209.38 643.5 L 1211.13 640 L 1209.38 636.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="990" y="670" width="120" height="60" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sub 添加规则，有thenable 就会注册一个元素</div></div></div></foreignObject><text x="1050" y="704" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">sub 添加规则，有thenable 就会注册一个元素</text></switch></g><rect x="1217.5" y="580" width="220" height="120" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1217.5 620 L 1437.5 620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1217.5 660 L 1437.5 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1327.5 580 L 1327.5 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1217.5 580 M 1437.5 580 M 1437.5 620 M 1217.5 620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1217.5" y="580" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1217.5 580 M 1327.5 580 M 1327.5 620 M 1217.5 620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 600px; margin-left: 1219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">i</div></div></div></foreignObject><text x="1273" y="604" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">i</text></switch></g><rect x="1327.5" y="580" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1327.5 580 M 1437.5 580 M 1437.5 620 M 1327.5 620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 600px; margin-left: 1329px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">child</div></div></div></foreignObject><text x="1383" y="604" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">child</text></switch></g><path d="M 1217.5 620 M 1437.5 620 M 1437.5 660 M 1217.5 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1217.5" y="620" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1217.5 620 M 1327.5 620 M 1327.5 660 M 1217.5 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 640px; margin-left: 1219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">i+1(FULFILLED)</div></div></div></foreignObject><text x="1273" y="644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">i+1(FULFILLED)</text></switch></g><rect x="1327.5" y="620" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1327.5 620 M 1437.5 620 M 1437.5 660 M 1327.5 660" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 640px; margin-left: 1329px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">onFulfillment</div></div></div></foreignObject><text x="1383" y="644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">onFulfillment</text></switch></g><path d="M 1217.5 660 M 1437.5 660 M 1437.5 700 M 1217.5 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1217.5" y="660" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1217.5 660 M 1327.5 660 M 1327.5 700 M 1217.5 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 680px; margin-left: 1219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">i+2(REJECTED)</div></div></div></foreignObject><text x="1273" y="684" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">i+2(REJECTED)</text></switch></g><rect x="1327.5" y="660" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1327.5 660 M 1437.5 660 M 1437.5 700 M 1327.5 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 680px; margin-left: 1329px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">onRejection</div></div></div></foreignObject><text x="1383" y="684" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">onRejection</text></switch></g><path d="M 430 645 L 301.37 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 296.12 645 L 303.12 641.5 L 301.37 645 L 303.12 648.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 631px; margin-left: 361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">创建 child promise，<br />并初始化</div></div></div></foreignObject><text x="361" y="634" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">创建 child promise，...</text></switch></g><rect x="430" y="630" width="190" height="30" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 645px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">then(onFulfillment, onRejection)</div></div></div></foreignObject><text x="525" y="649" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">then(onFulfillment, onRejection)</text></switch></g><path d="M 212.5 605 L 212.5 516.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 212.5 511.12 L 216 518.12 L 212.5 516.37 L 209 518.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 212.5 605 L 295 645 L 212.5 685 L 130 645 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 645px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">child[PROMISE_ID] ?</div></div></div></foreignObject><text x="213" y="649" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">child[PROMISE_ID] ?</text></switch></g><path d="M 212.5 450 L 212.5 415 L 212.6 415 L 212.6 386.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 212.6 381.04 L 216.1 388.04 L 212.6 386.29 L 209.1 388.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="152.5" y="450" width="120" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 480px; margin-left: 154px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">makePromise(child)</div></div></div></foreignObject><text x="213" y="484" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">makePromise(child)</text></switch></g><rect x="60" y="550" width="140" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 565px; margin-left: 130px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">child promise 作用：<br />衔接下一个 then 的桥梁</div></div></div></foreignObject><text x="130" y="569" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">child promise 作用：...</text></switch></g><rect x="430" y="575" width="220" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 600px; margin-left: 540px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">then 作用：<br />1. 承接上一个 promise 任务的结果<br />2. 创建新的 promise 来衔接下一个 then</div></div></div></foreignObject><text x="540" y="604" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">then 作用：...</text></switch></g><path d="M 261.25 340 L 373.63 340" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 378.88 340 L 371.88 343.5 L 373.63 340 L 371.88 336.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 341px; margin-left: 303px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="303" y="344" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 212.6 300.08 L 212.6 248 L 212.6 202.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 212.6 197.12 L 216.1 204.12 L 212.6 202.37 L 209.1 204.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 257px; margin-left: 209px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true, parent promise 状态改变了</div></div></div></foreignObject><text x="209" y="260" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true, parent promise 状态改变了</text></switch></g><path d="M 212.5 300 L 261.25 340 L 212.5 380 L 163.75 340 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 96px; height: 1px; padding-top: 340px; margin-left: 165px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">parent._state?</div></div></div></foreignObject><text x="213" y="344" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">parent._state?</text></switch></g><path d="M 525 310 L 525 170 L 540 170 L 540 86.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 540 81.12 L 543.5 88.12 L 540 86.37 L 536.5 88.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="380" y="310" width="290" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 288px; height: 1px; padding-top: 340px; margin-left: 381px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">subscribe(parent, child,onFulfillment,onRejection)</div></div></div></foreignObject><text x="525" y="344" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">subscribe(parent, child,onFulfillment,onRejectio...</text></switch></g><path d="M 413.13 166 L 540 166 L 540 86.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 540 81.12 L 543.5 88.12 L 540 86.37 L 536.5 88.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="11.88" y="136" width="401.25" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 399px; height: 1px; padding-top: 166px; margin-left: 13px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">asap -&gt; invokeCallback(parent._state, child, callback, parent._result)</div></div></div></foreignObject><text x="213" y="170" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">asap -&gt; invokeCallback(parent._state, child, callback, parent._resu...</text></switch></g><ellipse cx="539.99" cy="40" rx="60" ry="40" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 40px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回 child promise</div></div></div></foreignObject><text x="540" y="44" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">返回 child promise</text></switch></g><path d="M 1232.5 2545 L 1333.63 2545" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1338.88 2545 L 1331.88 2548.5 L 1333.63 2545 L 1331.88 2541.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1077.5" y="2515" width="155" height="60" rx="9" ry="9" fill="#008a00" stroke="#005700" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 153px; height: 1px; padding-top: 2545px; margin-left: 1079px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flush()</div></div></div></foreignObject><text x="1155" y="2549" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">flush()</text></switch></g><path d="M 1390 2575 L 1390 2648.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1390 2653.88 L 1386.5 2646.88 L 1390 2648.63 L 1393.5 2646.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1380 2575 L 1340 2575 Q 1330 2575 1333.16 2565.51 L 1346.84 2524.49 Q 1350 2515 1360 2515 L 1440 2515 Q 1450 2515 1446.84 2524.49 L 1433.16 2565.51 Q 1430 2575 1420 2575 Z" fill="#1ba1e2" stroke="#006eaf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2545px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">for queue&lt;len&gt;</div></div></div></foreignObject><text x="1390" y="2549" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">for queue&lt;len&gt;</text></switch></g><path d="M 1390 2715 L 1390 2788.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1390 2793.88 L 1386.5 2786.88 L 1390 2788.63 L 1393.5 2786.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1330" y="2655" width="120" height="60" rx="9" ry="9" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2685px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback = queue[i]<br />arg = queue[i+1]</div></div></div></foreignObject><text x="1390" y="2689" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">callback = queue[i]...</text></switch></g><path d="M 1390 2855 L 1390 2928.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1390 2933.88 L 1386.5 2926.88 L 1390 2928.63 L 1393.5 2926.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2887px; margin-left: 1393px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">退出 for</div></div></div></foreignObject><text x="1393" y="2890" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">退出 for</text></switch></g><rect x="1330" y="2795" width="120" height="60" rx="9" ry="9" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2825px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback(arg)<br />queue[i] = void 0<br />queue[i+1]=void 0</div></div></div></foreignObject><text x="1390" y="2829" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">callback(arg)...</text></switch></g><rect x="1330" y="2935" width="120" height="60" rx="9" ry="9" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2965px; margin-left: 1331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">len = 0</div></div></div></foreignObject><text x="1390" y="2969" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">len = 0</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>