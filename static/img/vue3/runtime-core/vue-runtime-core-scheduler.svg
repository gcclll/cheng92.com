<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="3127px" height="2041px" viewBox="-0.5 -0.5 3127 2041" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-01-13T06:35:42.831Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.1.8 Chrome/87.0.4280.88 Electron/11.1.1 Safari/537.36&quot; etag=&quot;Y5ZitXNuzgFiFOvI5peV&quot; version=&quot;14.1.8&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;Pp31T4B_YM501t6GUI3F&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-ffcd28-1-ffa500-1-s-0"><stop offset="0%" style="stop-color:#ffcd28"/><stop offset="100%" style="stop-color:#ffa500"/></linearGradient></defs><g><path d="M 910 770 Q 910 770 910 616.37" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 910 611.12 L 913.5 618.12 L 910 616.37 L 906.5 618.12 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><path d="M 940 800 Q 940 800 1163.63 800" fill="none" stroke="#d79b00" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1168.88 800 L 1161.88 803.5 L 1163.63 800 L 1161.88 796.5 Z" fill="#d79b00" stroke="#d79b00" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 801px; margin-left: 1072px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">queue job</div></div></div></foreignObject><text x="1072" y="804" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">queue job</text></switch></g><path d="M 910 830 L 1073.26 1007.03" fill="none" stroke="#bd7000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1076.82 1010.89 L 1069.5 1008.12 L 1073.26 1007.03 L 1074.64 1003.38 Z" fill="#bd7000" stroke="#bd7000" stroke-miterlimit="10" pointer-events="all"/><path d="M 910 830 L 996.22 1225.49" fill="none" stroke="#bd7000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 997.34 1230.62 L 992.42 1224.53 L 996.22 1225.49 L 999.26 1223.04 Z" fill="#bd7000" stroke="#bd7000" stroke-miterlimit="10" pointer-events="all"/><path d="M 931.21 778.79 L 1252.22 571.74" fill="none" stroke="#bd7000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1256.63 568.89 L 1252.65 575.63 L 1252.22 571.74 L 1248.85 569.74 Z" fill="#bd7000" stroke="#bd7000" stroke-miterlimit="10" pointer-events="all"/><path d="M 910 830 L 749.85 1185.88" fill="none" stroke="#bd7000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 747.7 1190.67 L 747.38 1182.85 L 749.85 1185.88 L 753.76 1185.72 Z" fill="#bd7000" stroke="#bd7000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1023px; margin-left: 826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">pre cb</div></div></div></foreignObject><text x="826" y="1027" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">pre cb</text></switch></g><path d="M 910 830 L 657.63 1008.04" fill="none" stroke="#b09500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 653.34 1011.07 L 657.04 1004.18 L 657.63 1008.04 L 661.08 1009.9 Z" fill="#b09500" stroke="#b09500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 942px; margin-left: 760px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">post cb</div></div></div></foreignObject><text x="760" y="945" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">post cb</text></switch></g><ellipse cx="910" cy="800" rx="30" ry="30" fill="url(#mx-gradient-ffcd28-1-ffa500-1-s-0)" stroke="#d79b00" transform="rotate(90,910,800)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 800px; margin-left: 881px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduler</div></div></div></foreignObject><text x="910" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduler</text></switch></g><path d="M 910 530 Q 910 530 910 446.37" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 910 441.12 L 913.5 448.12 L 910 446.37 L 906.5 448.12 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 477px; margin-left: 911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取出当前正在被执行的 job promise，可能没有</div></div></div></foreignObject><text x="911" y="480" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取出当前正在被执行的 job promise，可能没有</text></switch></g><ellipse cx="910" cy="570" rx="60" ry="40" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 570px; margin-left: 851px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">nextTick(this, fn)</div></div></div></foreignObject><text x="910" y="574" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">nextTick(this, fn)</text></switch></g><path d="M 1290 800 Q 1290 800 1363.63 800" fill="none" stroke="#a50040" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1368.88 800 L 1361.88 803.5 L 1363.63 800 L 1361.88 796.5 Z" fill="#a50040" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="1230" cy="800" rx="60" ry="40" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 1171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queueJob(job)</div></div></div></foreignObject><text x="1230" y="804" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queueJob(job)</text></switch></g><path d="M 1342.43 511.72 Q 1410 511.7 1410 488.35 Q 1410 465 1453.63 465" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1458.88 465 L 1451.88 468.5 L 1453.63 465 L 1451.88 461.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="1300" cy="540" rx="60" ry="40" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 540px; margin-left: 1241px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">实例分析</div></div></div></foreignObject><text x="1300" y="544" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">实例分析</text></switch></g><path d="M 1180 1040 Q 1180 1040 1273.63 1040" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1278.88 1040 L 1271.88 1043.5 L 1273.63 1040 L 1271.88 1036.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="1120" cy="1040" rx="60" ry="40" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 1061px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queueFlush()</div></div></div></foreignObject><text x="1120" y="1044" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queueFlush()</text></switch></g><path d="M 1040 1300 Q 1040 1350 1213.63 1350" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1218.88 1350 L 1211.88 1353.5 L 1213.63 1350 L 1211.88 1346.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="1040" cy="1260" rx="60" ry="40" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1260px; margin-left: 981px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushJobs()</div></div></div></foreignObject><text x="1040" y="1264" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">flushJobs()</text></switch></g><path d="M 730 1270 Q 730 1315 682.5 1315 Q 635 1315 635 1353.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 635 1358.88 L 631.5 1351.88 L 635 1353.63 L 638.5 1351.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="730" cy="1230" rx="60" ry="40" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1230px; margin-left: 671px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queuePreFlushcb(cb)</div></div></div></foreignObject><text x="730" y="1234" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queuePreFlushcb(cb)</text></switch></g><path d="M 610 1080 Q 610 1220 622.5 1220 Q 635 1220 635 1353.63" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 635 1358.88 L 631.5 1351.88 L 635 1353.63 L 638.5 1351.88 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="610" cy="1040" rx="60" ry="40" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 551px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queuePostFlushCb(cb)</div></div></div></foreignObject><text x="610" y="1044" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queuePostFlushCb(cb)</text></switch></g><rect x="220" y="350" width="370" height="200" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 220 390 L 590 390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 220 430 L 590 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 220 470 L 590 470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 220 510 L 590 510" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 340 350 L 340 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 220 350 M 590 350 M 590 390 M 220 390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="350" width="120" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 220 350 M 340 350 M 340 390 M 220 390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 370px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">变量</div></div></div></foreignObject><text x="280" y="374" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">变量</text></switch></g><rect x="340" y="350" width="250" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 350 M 590 350 M 590 390 M 340 390" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 370px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">用途</div></div></div></foreignObject><text x="465" y="374" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">用途</text></switch></g><path d="M 220 390 M 590 390 M 590 430 M 220 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="390" width="120" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 220 390 M 340 390 M 340 430 M 220 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 410px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">resolvedPromise</div></div></div></foreignObject><text x="280" y="414" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">resolvedPromise</text></switch></g><rect x="340" y="390" width="250" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 390 M 590 390 M 590 430 M 340 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 410px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Promise.resolve()</div></div></div></foreignObject><text x="465" y="414" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Promise.resolve()</text></switch></g><path d="M 220 430 M 590 430 M 590 470 M 220 470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="430" width="120" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 220 430 M 340 430 M 340 470 M 220 470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 450px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentFlushPromise</div></div></div></foreignObject><text x="280" y="454" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">currentFlushPromise</text></switch></g><rect x="340" y="430" width="250" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 430 M 590 430 M 590 470 M 340 470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 450px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue 中所有任务完成之后，返回的一个 promise</div></div></div></foreignObject><text x="465" y="454" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">queue 中所有任务完成之后，返回的一个 promise</text></switch></g><path d="M 220 470 M 590 470 M 590 510 M 220 510" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="470" width="120" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 220 470 M 340 470 M 340 510 M 220 510" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="470" width="250" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 470 M 590 470 M 590 510 M 340 510" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 220 510 M 590 510 M 590 550 M 220 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="510" width="120" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 220 510 M 340 510 M 340 550 M 220 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="510" width="250" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 340 510 M 590 510 M 590 550 M 340 550" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 910 380 Q 910 380 910 306.37" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 910 301.12 L 913.5 308.12 L 910 306.37 L 906.5 308.12 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 340px; margin-left: 910px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">在当前的 job resolved 之后去执行 nextTick() 的任务</div></div></div></foreignObject><text x="910" y="343" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">在当前的 job resolved 之后去执行 nextTick() 的任务</text></switch></g><rect x="775" y="380" width="270" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 410px; margin-left: 776px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">p = currentFlushPromise || resolvedPromise</div></div></div></foreignObject><text x="910" y="414" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">p = currentFlushPromise || resolvedPromise</text></switch></g><rect x="775" y="240" width="270" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 270px; margin-left: 776px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">fn? p.then(this ? fn.bind(this) : fn) : p</div></div></div></foreignObject><text x="910" y="274" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">fn? p.then(this ? fn.bind(this) : fn) : p</text></switch></g><path d="M 1490 800 Q 1490 800 1633.63 800" fill="none" stroke="#a50040" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1638.88 800 L 1631.88 803.5 L 1633.63 800 L 1631.88 796.5 Z" fill="#a50040" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 801px; margin-left: 1554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">加入条件</div></div></div></foreignObject><text x="1554" y="804" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">加入条件</text></switch></g><rect x="1370" y="770" width="120" height="60" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 1371px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">将 job 加入到队列 queue</div></div></div></foreignObject><text x="1430" y="804" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">将 job 加入到队列 queue</text></switch></g><path d="M 1610 940 Q 1120 940 1120 993.63" fill="none" stroke="#a50040" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1120 998.88 L 1116.5 991.88 L 1120 993.63 L 1123.5 991.88 Z" fill="#a50040" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 949px; margin-left: 1320px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">将job加入队列 queue，随后理解flush掉所有任务</div></div></div></foreignObject><text x="1320" y="952" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">将job加入队列 queue，随后理解flush掉所有任务</text></switch></g><rect x="1610" y="910" width="120" height="60" fill="#d80073" stroke="#a50040" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 940px; margin-left: 1611px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue.push(job)</div></div></div></foreignObject><text x="1670" y="944" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queue.push(job)</text></switch></g><path d="M 1980 820 Q 1980 865 1825 865 Q 1670 865 1670 903.63" fill="none" stroke="#a50040" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1670 908.88 L 1666.5 901.88 L 1670 903.63 L 1673.5 901.88 Z" fill="#a50040" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><rect x="1640" y="780" width="680" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1830 780 L 1830 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1870 780 L 1870 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1980 780 L 1980 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2000 780 L 2000 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1640 780 M 2320 780 M 2320 820 M 1640 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1640" y="780" width="190" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1640 780 M 1830 780 M 1830 820 M 1640 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 800px; margin-left: 1641px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">job !== currentPreFlushParentJob</div></div></div></foreignObject><text x="1735" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">job !== currentPreFlushParentJob</text></switch></g><rect x="1830" y="780" width="40" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1830 780 M 1870 780 M 1870 820 M 1830 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 800px; margin-left: 1831px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">&amp;&amp;</div></div></div></foreignObject><text x="1850" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">&amp;&amp;</text></switch></g><rect x="1870" y="780" width="110" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1870 780 M 1980 780 M 1980 820 M 1870 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 800px; margin-left: 1871px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#ff3333">(</font> !queue.length</div></div></div></foreignObject><text x="1925" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">( !queue.length</text></switch></g><rect x="1980" y="780" width="20" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1980 780 M 2000 780 M 2000 820 M 1980 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 18px; height: 1px; padding-top: 800px; margin-left: 1981px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">||</div></div></div></foreignObject><text x="1990" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">||</text></switch></g><rect x="2000" y="780" width="320" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2000 780 M 2320 780 M 2320 820 M 2000 820" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 800px; margin-left: 2001px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!queue.includes(job, isFlushing &amp;&amp; job.allowRecurse ? flushIndex + 1 : flushIndex) <font color="#ff3333">)</font></div></div></div></foreignObject><text x="2160" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">!queue.includes(job, isFlushing &amp;&amp; job.allowRecurse ?...</text></switch></g><rect x="1640" y="730" width="160" height="20" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 740px; margin-left: 1641px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">job 非当前处理的父级 任务</div></div></div></foreignObject><text x="1720" y="744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">job 非当前处理的父级 任务</text></switch></g><rect x="1980" y="730" width="260" height="20" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 740px; margin-left: 1981px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">队列为空情况或者队列中不包含当前的 Job</div></div></div></foreignObject><text x="2110" y="744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">队列为空情况或者队列中不包含当前的 Job</text></switch></g><path d="M 1690.32 780 Q 1690.3 765 1705.15 765 Q 1720 765 1720 756.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1720 751.12 L 1723.5 758.12 L 1720 756.37 L 1716.5 758.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1922.88 779 Q 1922.9 740 1973.63 740" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1978.88 740 L 1971.88 743.5 L 1973.63 740 L 1971.88 736.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><path d="M 2280 780 Q 2280 740 2246.37 740" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2241.12 740 L 2248.12 736.5 L 2246.37 740 L 2248.12 743.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1360 1040 Q 1360 1040 1433.63 1040" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1438.88 1040 L 1431.88 1043.5 L 1433.63 1040 L 1431.88 1036.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1320 1000 L 1360 1040 L 1320 1080 L 1280 1040 Z" fill="#6a00ff" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1040px; margin-left: 1281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!isFlushing</div></div></div></foreignObject><text x="1320" y="1044" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">!isFlushing</text></switch></g><path d="M 1540 1040 Q 1540 1040 1603.63 1040" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1608.88 1040 L 1601.88 1043.5 L 1603.63 1040 L 1601.88 1036.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1490 1000 L 1540 1040 L 1490 1080 L 1440 1040 Z" fill="#6a00ff" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1040px; margin-left: 1441px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!isFlushPending</div></div></div></foreignObject><text x="1490" y="1044" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">!isFlushPending</text></switch></g><path d="M 1670 1070 Q 1670 1190 1626.37 1190" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1621.12 1190 L 1628.12 1186.5 L 1626.37 1190 L 1628.12 1193.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><rect x="1610" y="1010" width="120" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 1611px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isFlushPending = true</div></div></div></foreignObject><text x="1670" y="1044" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isFlushPending = true</text></switch></g><path d="M 1300 1190 Q 1040 1190 1040 1213.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1040 1218.88 L 1036.5 1211.88 L 1040 1213.63 L 1043.5 1211.88 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1193px; margin-left: 1129px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">刷掉queue[] 中所有任务</div></div></div></foreignObject><text x="1129" y="1196" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">刷掉queue[] 中所有任务</text></switch></g><rect x="1300" y="1160" width="320" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 1190px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentFlushPromise = resolvedPromise.then(flushJobs)</div></div></div></foreignObject><text x="1460" y="1194" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">currentFlushPromise = resolvedPromise.then(flushJobs)</text></switch></g><path d="M 1670 465 Q 1670 465 1788.63 465" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1793.88 465 L 1786.88 468.5 L 1788.63 465 L 1786.88 461.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 464px; margin-left: 1734px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#3</div></div></div></foreignObject><text x="1734" y="467" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#3</text></switch></g><rect x="1460" y="350" width="210" height="230" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 465px; margin-left: 1462px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: nowrap; "><div style="font-size: 13px">  const calls = [];</div><div style="font-size: 13px">  <font color="#ff3333">const job1 = () =&gt; { // #1</font></div><div style="font-size: 13px">    log.newline("job1 running");</div><div style="font-size: 13px">    calls.push("job1");</div><div style="font-size: 13px">  };</div><div style="font-size: 13px"><font color="#ff3333">  const job2 = () =&gt; { // #2</font></div><div style="font-size: 13px">    log.newline("job2 running");</div><div style="font-size: 13px">    calls.push("job2");</div><div style="font-size: 13px">  };</div><div style="font-size: 13px"><font color="#ff3333">  queueJob(job1); // #3</font></div><div style="font-size: 13px"><font color="#ff3333">  queueJob(job2); // #4</font></div><div style="font-size: 13px"><font color="#ff3333">  log("before await  " + calls); // #5</font></div><div style="font-size: 13px"><font color="#ff3333">  await nextTick(); // #6</font></div><div style="font-size: 13px"><font color="#ff3333">  log("after await  " + calls); // #7</font></div></div></div></div></foreignObject><text x="1462" y="469" fill="#333333" font-family="Helvetica" font-size="13px">const calls = [];...</text></switch></g><path d="M 1915 465 Q 1915 465 2013.63 465" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2018.88 465 L 2011.88 468.5 L 2013.63 465 L 2011.88 461.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 469px; margin-left: 1956px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#4</div></div></div></foreignObject><text x="1956" y="472" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#4</text></switch></g><path d="M 1855 435 Q 1855 435 1855 396.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1855 391.12 L 1858.5 398.12 L 1855 396.37 L 1851.5 398.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><rect x="1795" y="435" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 465px; margin-left: 1796px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue.push job1</div></div></div></foreignObject><text x="1855" y="469" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">queue.push job1</text></switch></g><path d="M 2140 465 Q 2140 465 2213.63 465" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2218.88 465 L 2211.88 468.5 L 2213.63 465 L 2211.88 461.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 465px; margin-left: 2171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#5</div></div></div></foreignObject><text x="2171" y="468" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#5</text></switch></g><path d="M 2080 435 Q 2080 435 2080 396.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2080 391.12 L 2083.5 398.12 L 2080 396.37 L 2076.5 398.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><rect x="2020" y="435" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 465px; margin-left: 2021px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue.push job2</div></div></div></foreignObject><text x="2080" y="469" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">queue.push job2</text></switch></g><path d="M 1892.5 370 Q 1892.5 370 2036.13 370" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2041.38 370 L 2034.38 373.5 L 2036.13 370 L 2034.38 366.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 373px; margin-left: 1953px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">queue[]</div></div></div></foreignObject><text x="1953" y="376" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">queue[]</text></switch></g><path d="M 1817.5 358 C 1817.5 347.33 1892.5 347.33 1892.5 358 L 1892.5 382 C 1892.5 392.67 1817.5 392.67 1817.5 382 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 1817.5 358 C 1817.5 366 1892.5 366 1892.5 358" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 73px; height: 1px; padding-top: 376px; margin-left: 1819px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[job1]</div></div></div></foreignObject><text x="1855" y="380" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">[job1]</text></switch></g><path d="M 2042.5 358 C 2042.5 347.33 2117.5 347.33 2117.5 358 L 2117.5 382 C 2117.5 392.67 2042.5 392.67 2042.5 382 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><path d="M 2042.5 358 C 2042.5 366 2117.5 366 2117.5 358" fill="none" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 73px; height: 1px; padding-top: 376px; margin-left: 2044px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">[job1,job2]</div></div></div></foreignObject><text x="2080" y="380" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">[job1,job2]</text></switch></g><path d="M 2400 465 Q 2400 465 2503.63 465" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2508.88 465 L 2501.88 468.5 L 2503.63 465 L 2501.88 461.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 468px; margin-left: 2453px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#6</div></div></div></foreignObject><text x="2453" y="471" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#6</text></switch></g><rect x="2220" y="435" width="180" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 465px; margin-left: 2221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">log before await -&gt; null</div></div></div></foreignObject><text x="2310" y="469" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">log before await -&gt; null</text></switch></g><path d="M 2570 425 Q 2570 425 2570 341.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2570 336.12 L 2573.5 343.12 L 2570 341.37 L 2566.5 343.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 373px; margin-left: 2573px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">currentFlushPromise 应该为 null，<br />异步任务还没得到执行，<br />因此这里 await 的是个空的 promise.then</div></div></div></foreignObject><text x="2573" y="376" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">currentFlushPromise 应该为 null，...</text></switch></g><path d="M 2630 465 Q 2630 465 2703.63 465" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2708.88 465 L 2701.88 468.5 L 2703.63 465 L 2701.88 461.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 466px; margin-left: 2663px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#7</div></div></div></foreignObject><text x="2663" y="469" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#7</text></switch></g><path d="M 2510 425 L 2630 425 L 2630 493 Q 2600 471.4 2570 493 Q 2540 514.6 2510 493 L 2510 437 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 453px; margin-left: 2511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">await nextTick()，同步任务执行完成，#6 后面的代码等待</div></div></div></foreignObject><text x="2570" y="457" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">await nextTick()，同步任务执行完成，#6...</text></switch></g><path d="M 2570 275 Q 2570 275 2570 201.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2570 196.12 L 2573.5 203.12 L 2570 201.37 L 2566.5 203.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 242px; margin-left: 2570px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">开始 flush queue-&gt;queueFlush -&gt; flushJobs</div></div></div></foreignObject><text x="2570" y="245" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">开始 flush queue-&gt;queueFlush -&gt; flushJobs</text></switch></g><rect x="2510" y="275" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 305px; margin-left: 2511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">await resolvedPromise</div></div></div></foreignObject><text x="2570" y="309" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">await resolvedProm...</text></switch></g><path d="M 2570 135 Q 2570 135 2570 66.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2570 61.12 L 2573.5 68.12 L 2570 66.37 L 2566.5 68.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><rect x="2510" y="135" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 165px; margin-left: 2511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue 中所有的 jobs 按顺序执行完成</div></div></div></foreignObject><text x="2570" y="169" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">queue 中所有的 jobs 按顺序执行完成</text></switch></g><path d="M 2280 290 Q 2395 290 2395 367.5 Q 2395 445 2503.63 445" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2508.88 445 L 2501.88 448.5 L 2503.63 445 L 2501.88 441.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 371px; margin-left: 2361px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">回头执行 nextTick 后面的代码</div></div></div></foreignObject><text x="2361" y="374" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">回头执行 nextTick 后面的代码</text></switch></g><rect x="2070" y="260" width="210" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 290px; margin-left: 2071px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentFlushPromise 有值了，即所有任务完成之后返回的 promise</div></div></div></foreignObject><text x="2175" y="294" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">currentFlushPromise 有值了，即所有任务完成之后返回的 promise</text></switch></g><path d="M 2520 30 Q 2520 30 2406.37 30" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2401.12 30 L 2408.12 26.5 L 2406.37 30 L 2408.12 33.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 29px; margin-left: 2461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#1</div></div></div></foreignObject><text x="2461" y="32" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#1</text></switch></g><path d="M 2510 60 L 2530 0 L 2630 0 L 2610 60 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 2511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">for queue jobs</div></div></div></foreignObject><text x="2570" y="34" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">for queue jobs</text></switch></g><path d="M 2340 60 Q 2340 60 2340 113.63" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2340 118.88 L 2336.5 111.88 L 2340 113.63 L 2343.5 111.88 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 90px; margin-left: 2339px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">#2</div></div></div></foreignObject><text x="2339" y="93" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">#2</text></switch></g><rect x="2280" y="0" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 2281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">run job1</div></div></div></foreignObject><text x="2340" y="34" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">run job1</text></switch></g><path d="M 2280 150 Q 2175 150 2175 253.63" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 258.88 L 2171.5 251.88 L 2175 253.63 L 2178.5 251.88 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 196px; margin-left: 2189px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">currentFlushPromise = <br />resolvedPromise.then(flushJobs)</div></div></div></foreignObject><text x="2189" y="199" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">currentFlushPromise =...</text></switch></g><rect x="2280" y="120" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 150px; margin-left: 2281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">run job2</div></div></div></foreignObject><text x="2340" y="154" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">run job2</text></switch></g><rect x="2710" y="435" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 465px; margin-left: 2711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行 log after</div></div></div></foreignObject><text x="2770" y="469" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">执行 log after</text></switch></g><path d="M 1555 1390 Q 1555 1440 1430 1440 Q 1305 1440 1305 1463.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1305 1468.88 L 1301.5 1461.88 L 1305 1463.63 L 1308.5 1461.88 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><rect x="1220" y="1330" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1360px; margin-left: 1221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isFlushPending = false<br />isFlushing = true</div></div></div></foreignObject><text x="1305" y="1364" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isFlushPending = false...</text></switch></g><path d="M 1390 1500 Q 1390 1500 1463.63 1500" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 1500 L 1461.88 1503.5 L 1463.63 1500 L 1461.88 1496.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><rect x="1220" y="1470" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1500px; margin-left: 1221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue.sort 根据 job.id 排序</div></div></div></foreignObject><text x="1305" y="1504" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queue.sort 根据 job.id 排序</text></switch></g><path d="M 1555 1530 Q 1555 1530 1555 1603.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1555 1608.88 L 1551.5 1601.88 L 1555 1603.63 L 1558.5 1601.88 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1574px; margin-left: 1554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置 queue 队列</div></div></div></foreignObject><text x="1554" y="1577" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">重置 queue 队列</text></switch></g><path d="M 1640 1500 Q 1640 1500 1748.63 1500" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1753.88 1500 L 1746.88 1503.5 L 1748.63 1500 L 1746.88 1496.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1503px; margin-left: 1689px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushIndex</div></div></div></foreignObject><text x="1689" y="1506" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">flushIndex</text></switch></g><rect x="1470" y="1470" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1500px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">try { ... }</div></div></div></foreignObject><text x="1555" y="1504" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">try { ... }</text></switch></g><path d="M 1640 1640 Q 1640 1640 1713.63 1640" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1718.88 1640 L 1711.88 1643.5 L 1713.63 1640 L 1711.88 1636.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><rect x="1470" y="1610" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1640px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">finally { ... }</div></div></div></foreignObject><text x="1555" y="1644" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">finally { ... }</text></switch></g><path d="M 1855 1500 Q 1855 1500 2003.63 1500" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2008.88 1500 L 2001.88 1503.5 L 2003.63 1500 L 2001.88 1496.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1504px; margin-left: 1918px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">同步执行每个任务</div></div></div></foreignObject><text x="1918" y="1507" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">同步执行每个任务</text></switch></g><path d="M 1745 1530 L 1765 1470 L 1865 1470 L 1845 1530 Z" fill="#6a00ff" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1500px; margin-left: 1746px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">for queue[]</div></div></div></foreignObject><text x="1805" y="1504" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">for queue[]</text></switch></g><rect x="2010" y="1470" width="215" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 213px; height: 1px; padding-top: 1500px; margin-left: 2011px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callWithErrorHandling(job, null, ErrorCodes.SCHEDULER)</div></div></div></foreignObject><text x="2118" y="1504" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">callWithErrorHandling(job, null, Err...</text></switch></g><path d="M 1670 1360 L 1821.13 1360" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1826.38 1360 L 1819.38 1363.5 L 1821.13 1360 L 1819.38 1356.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1351px; margin-left: 1750px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">检查队列是否为空</div></div></div></foreignObject><text x="1750" y="1354" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">检查队列是否为空</text></switch></g><rect x="1470" y="1330" width="200" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1360px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushPreFlushCbs(seen, parentJob)<br />flush pre(default)类型的Jobs</div></div></div></foreignObject><text x="1570" y="1364" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">flushPreFlushCbs(seen, parentJob)...</text></switch></g><path d="M 1390 1360 Q 1390 1360 1463.63 1360" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 1360 L 1461.88 1363.5 L 1463.63 1360 L 1461.88 1356.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1805 1670 Q 1805 1670 1805 1713.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1805 1718.88 L 1801.5 1711.88 L 1805 1713.63 L 1808.5 1711.88 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><rect x="1720" y="1610" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1640px; margin-left: 1721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushIndex = 0<br />queue.length = 0</div></div></div></foreignObject><text x="1805" y="1644" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">flushIndex = 0...</text></switch></g><path d="M 1705 1750 Q 1705 1750 1626.37 1750" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1621.12 1750 L 1628.12 1746.5 L 1626.37 1750 L 1628.12 1753.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1905 1750 Q 1905 1750 2079.88 1750" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2085.13 1750 L 2078.13 1753.5 L 2079.88 1750 L 2078.13 1746.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1750px; margin-left: 1990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">pendingPostFlushCbs</div></div></div></foreignObject><text x="1990" y="1754" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">pendingPostFlushCbs</text></switch></g><rect x="1705" y="1720" width="200" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1750px; margin-left: 1706px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushPostFlushCbs(seen)<br />flush post 类型的 Jobs</div></div></div></foreignObject><text x="1805" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">flushPostFlushCbs(seen)...</text></switch></g><path d="M 1540 1750 Q 1540 1750 1426.37 1750" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1421.12 1750 L 1428.12 1746.5 L 1426.37 1750 L 1428.12 1753.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1752px; margin-left: 1479px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">or</div></div></div></foreignObject><text x="1479" y="1755" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">or</text></switch></g><path d="M 1580 1790 Q 1580 1810 1310 1810 Q 1040 1810 1040 1306.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1040 1301.12 L 1043.5 1308.12 L 1040 1306.37 L 1036.5 1308.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1580 1710 L 1620 1750 L 1580 1790 L 1540 1750 Z" fill="#6a00ff" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1750px; margin-left: 1541px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queue.length?</div></div></div></foreignObject><text x="1580" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queue.length?</text></switch></g><path d="M 1260 1750 Q 1040 1750 1040 1306.37" fill="none" stroke="#001dbc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1040 1301.12 L 1043.5 1308.12 L 1040 1306.37 L 1036.5 1308.12 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1300 1730 Q 1300 1690 1292.5 1690 Q 1285 1690 1285 1676.37" fill="none" stroke="#3700cc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1285 1671.12 L 1288.5 1678.12 L 1285 1676.37 L 1281.5 1678.12 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><path d="M 1340 1710 L 1420 1750 L 1340 1790 L 1260 1750 Z" fill="#6a00ff" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1750px; margin-left: 1261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pendingPostFlushCbs.<br />length?</div></div></div></foreignObject><text x="1340" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">pendingPostFlushCbs....</text></switch></g><rect x="1130" y="1580" width="310" height="90" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1625px; margin-left: 1132px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: nowrap; ">这里有三种类型的 job(pre, post, queue)，<br />这三个的flush行为都是发生在 flushJobs中的，<br />那么会不会存在 post flush 的时候， <br />突然又来了新的 pre/queue 呢(先执行flush操作的)？<br />所以这里的递归调用就是为了应对这种情况</div></div></div></foreignObject><text x="1132" y="1629" fill="#ffffff" font-family="Helvetica" font-size="13px">这里有三种类型的 job(pre, post, queue)，...</text></switch></g><path d="M 575 1390 Q 502.5 1390 502.5 1372 Q 502.5 1354 436.37 1354" fill="none" stroke="#6f0000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 431.12 1354 L 438.12 1350.5 L 436.37 1354 L 438.12 1357.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><path d="M 635 1420 Q 635 1420 635 1493.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 635 1498.88 L 631.5 1491.88 L 635 1493.63 L 638.5 1491.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><rect x="575" y="1360" width="120" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1390px; margin-left: 576px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">queueCb(...args)</div></div></div></foreignObject><text x="635" y="1394" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">queueCb(...args)</text></switch></g><rect x="0" y="1260" width="430" height="150" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 0 1298 L 430 1298" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 1335 L 430 1335" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 1373 L 430 1373" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 130 1260 L 130 1410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 260 1260 L 260 1410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 0 1260 M 430 1260 M 430 1298 M 0 1298" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="1260" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 0 1260 M 130 1260 M 130 1298 M 0 1298" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1279px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cb:fn|Array&lt;fn&gt;</div></div></div></foreignObject><text x="65" y="1283" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cb:fn|Array&lt;fn&gt;</text></switch></g><rect x="130" y="1260" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 130 1260 M 260 1260 M 260 1298 M 130 1298" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1279px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cb: fn|Array&lt;fn&gt;</div></div></div></foreignObject><text x="195" y="1283" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cb: fn|Array&lt;fn&gt;</text></switch></g><rect x="260" y="1260" width="170" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 260 1260 M 430 1260 M 430 1298 M 260 1298" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1279px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">任务函数</div></div></div></foreignObject><text x="345" y="1283" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">任务函数</text></switch></g><path d="M 0 1298 M 430 1298 M 430 1335 M 0 1335" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="1298" width="130" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 0 1298 M 130 1298 M 130 1335 M 0 1335" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1317px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activePostFlushCbs</div></div></div></foreignObject><text x="65" y="1320" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">activePostFlushCbs</text></switch></g><rect x="130" y="1298" width="130" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 130 1298 M 260 1298 M 260 1335 M 130 1335" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1317px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activePreFlushCbs</div></div></div></foreignObject><text x="195" y="1320" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">activePreFlushCbs</text></switch></g><rect x="260" y="1298" width="170" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 260 1298 M 430 1298 M 430 1335 M 260 1335" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1317px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">正在 flushing 的任务 Set</div></div></div></foreignObject><text x="345" y="1320" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">正在 flushing 的任务 Set</text></switch></g><path d="M 0 1335 M 430 1335 M 430 1373 M 0 1373" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="1335" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 0 1335 M 130 1335 M 130 1373 M 0 1373" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1354px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pendingPostFlushCBs</div></div></div></foreignObject><text x="65" y="1358" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">pendingPostFlushCBs</text></switch></g><rect x="130" y="1335" width="130" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 130 1335 M 260 1335 M 260 1373 M 130 1373" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1354px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pendingPreFlushCbs</div></div></div></foreignObject><text x="195" y="1358" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">pendingPreFlushCbs</text></switch></g><rect x="260" y="1335" width="170" height="38" fill="none" stroke="none" pointer-events="all"/><path d="M 260 1335 M 430 1335 M 430 1373 M 260 1373" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1354px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 34px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">所有 pre/post 类型任务 Array</div></div></div></foreignObject><text x="345" y="1358" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">所有 pre/post 类型任务 Array</text></switch></g><path d="M 0 1373 M 430 1373 M 430 1410 M 0 1410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="1373" width="130" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 0 1373 M 130 1373 M 130 1410 M 0 1410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1392px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">postFlushIndex</div></div></div></foreignObject><text x="65" y="1395" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">postFlushIndex</text></switch></g><rect x="130" y="1373" width="130" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 130 1373 M 260 1373 M 260 1410 M 130 1410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1392px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">preFlushIndex</div></div></div></foreignObject><text x="195" y="1395" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">preFlushIndex</text></switch></g><rect x="260" y="1373" width="170" height="37" fill="none" stroke="none" pointer-events="all"/><path d="M 260 1373 M 430 1373 M 430 1410 M 260 1410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1392px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 33px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">当前正在 flushing 的任务索引</div></div></div></foreignObject><text x="345" y="1395" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">当前正在 flushing 的任务索引</text></switch></g><path d="M 595 1540 Q 595 1540 511.37 1540" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 506.12 1540 L 513.12 1536.5 L 511.37 1540 L 513.12 1543.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1545px; margin-left: 554px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="554" y="1548" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">true</text></switch></g><path d="M 635 1580 Q 635 1580 635 1663.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 635 1668.88 L 631.5 1661.88 L 635 1663.63 L 638.5 1661.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><path d="M 635 1500 L 675 1540 L 635 1580 L 595 1540 Z" fill="#a20025" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1540px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cb is array?</div></div></div></foreignObject><text x="635" y="1544" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">cb is array?</text></switch></g><rect x="305" y="1510" width="200" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1540px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pendingQueue.push(...cb)</div></div></div></foreignObject><text x="405" y="1544" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">pendingQueue.push(...cb)</text></switch></g><path d="M 635 1730 Q 635 1730 635 1793.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 635 1798.88 L 631.5 1791.88 L 635 1793.63 L 638.5 1791.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1760px; margin-left: 635px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1. active[Pre|Post]FlushCbs 队列为空<br />2. active[Pre|Post]FlushCbs 中不包含当前入列的 cb job</div></div></div></foreignObject><text x="635" y="1763" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">1. active[Pre|Post]FlushCbs 队列为空...</text></switch></g><path d="M 575 1700 Q 510 1700 510 1685 Q 510 1670 451.37 1670" fill="none" stroke="#6f0000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 446.12 1670 L 453.12 1666.5 L 451.37 1670 L 453.12 1673.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><rect x="575" y="1670" width="120" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1700px; margin-left: 576px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push 满足条件的 job</div></div></div></foreignObject><text x="635" y="1704" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">push 满足条件的 job</text></switch></g><path d="M 870 1630 L 870 1040 L 952.78 1040 C 952.78 1036.1 958.78 1036.1 958.78 1040 L 958.78 1040 L 1053.63 1040" fill="none" stroke="#6f0000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1058.88 1040 L 1051.88 1043.5 L 1053.63 1040 L 1051.88 1036.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1341px; margin-left: 872px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flush pengding[Pre|Post]FlushCbs</div></div></div></foreignObject><text x="872" y="1344" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">flush pengding[Pre|Post]FlushCbs</text></switch></g><rect x="830" y="1630" width="180" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1660px; margin-left: 831px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pendingQueue.push(cb)</div></div></div></foreignObject><text x="920" y="1664" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">pendingQueue.push(cb)</text></switch></g><path d="M 790 1825 Q 920 1825 920 1696.37" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 920 1691.12 L 923.5 1698.12 L 920 1696.37 L 916.5 1698.12 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1751px; margin-left: 911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">push cb -&gt; pending[Pre|Post]FlushCbs</div></div></div></foreignObject><text x="911" y="1754" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">push cb -&gt; pending[Pre|Post]FlushCbs</text></switch></g><rect x="480" y="1800" width="310" height="50" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 565 1800 L 565 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 585 1800 L 585 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 480 1800 M 790 1800 M 790 1850 M 480 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="480" y="1800" width="85" height="50" fill="none" stroke="none" pointer-events="all"/><path d="M 480 1800 M 565 1800 M 565 1850 M 480 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 83px; height: 1px; padding-top: 1825px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 46px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!activeQueue</div></div></div></foreignObject><text x="523" y="1829" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">!activeQueue</text></switch></g><rect x="565" y="1800" width="20" height="50" fill="none" stroke="none" pointer-events="all"/><path d="M 565 1800 M 585 1800 M 585 1850 M 565 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 18px; height: 1px; padding-top: 1825px; margin-left: 566px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 46px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">||</div></div></div></foreignObject><text x="575" y="1829" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">||</text></switch></g><rect x="585" y="1800" width="205" height="50" fill="none" stroke="none" pointer-events="all"/><path d="M 585 1800 M 790 1800 M 790 1850 M 585 1850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 203px; height: 1px; padding-top: 1825px; margin-left: 586px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 46px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!activeQueue.includes(cb,  cb.allowRecurse ? index + 1 : index</div></div></div></foreignObject><text x="688" y="1829" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">!activeQueue.includes(cb,  cb.allo...</text></switch></g><path d="M 355 1650 C 331 1650 325 1670 344.2 1674 C 325 1682.8 346.6 1702 362.2 1694 C 373 1710 409 1710 421 1694 C 445 1694 445 1678 430 1670 C 445 1654 421 1638 400 1646 C 385 1634 361 1634 355 1650 Z" fill="#a20025" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1670px; margin-left: 326px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">allowRecurse ? <br />具体是什么意思？</div></div></div></foreignObject><text x="385" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">allowRecurse ?...</text></switch></g><path d="M 1907.5 1360 Q 1907.5 1360 2006.13 1360" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2011.38 1360 L 2004.38 1363.5 L 2006.13 1360 L 2004.38 1356.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1365px; margin-left: 1947px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">len &gt; 0</div></div></div></foreignObject><text x="1947" y="1368" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">len &gt; 0</text></switch></g><path d="M 1867.5 1320 L 1907.5 1360 L 1867.5 1400 L 1827.5 1360 Z" fill="#a20025" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1360px; margin-left: 1829px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pendingPre<br />FlushCbs?</div></div></div></foreignObject><text x="1868" y="1364" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">pendingPre...</text></switch></g><path d="M 2126.3 1330 Q 2126.3 1295 2126.26 1266.37" fill="none" stroke="#6f0000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2126.25 1261.12 L 2129.76 1268.11 L 2126.26 1266.37 L 2122.76 1268.12 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2240 1360 Q 2240 1360 2313.63 1360" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2318.88 1360 L 2311.88 1363.5 L 2313.63 1360 L 2311.88 1356.5 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><rect x="2012.5" y="1330" width="227.5" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 226px; height: 1px; padding-top: 1360px; margin-left: 2014px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentPreFlushParentJob = parentJob</div></div></div></foreignObject><text x="2126" y="1364" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">currentPreFlushParentJob = parentJob</text></switch></g><path d="M 2096.25 1200 C 2072.25 1200 2066.25 1220 2085.45 1224 C 2066.25 1232.8 2087.85 1252 2103.45 1244 C 2114.25 1260 2150.25 1260 2162.25 1244 C 2186.25 1244 2186.25 1228 2171.25 1220 C 2186.25 1204 2162.25 1188 2141.25 1196 C 2126.25 1184 2102.25 1184 2096.25 1200 Z" fill="#a20025" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1220px; margin-left: 2067px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">parent job?</div></div></div></foreignObject><text x="2126" y="1224" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">parent job?</text></switch></g><path d="M 2433.8 1390 Q 2433.8 1410 2433.8 1423.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2433.8 1428.88 L 2430.3 1421.88 L 2433.8 1423.63 L 2437.3 1421.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2433.8 1240 Q 2433.8 1215 2433.8 1196.37" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2433.8 1191.12 L 2437.3 1198.12 L 2433.8 1196.37 L 2430.3 1198.12 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1186px; margin-left: 2434px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushIndex</div></div></div></foreignObject><text x="2434" y="1189" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">flushIndex</text></switch></g><rect x="2320" y="1330" width="227.5" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 226px; height: 1px; padding-top: 1360px; margin-left: 2321px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activePreFlushCbs = [...new Set(<br />pendingPreFlushCbs)]</div></div></div></foreignObject><text x="2434" y="1364" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">activePreFlushCbs = [...new Set(...</text></switch></g><rect x="2283.75" y="1430" width="300" height="70" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1465px; margin-left: 2434px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: nowrap; ">拷贝出不重复的 pending pre jobs，<br />即将被flush掉的任务列表，因为在flushing<br />过程中可能有新的任务入列，为了不影响<br />pengdingPreFlushCbs且能让它接受新的任务入列</div></div></div></foreignObject><text x="2434" y="1469" fill="#ffffff" font-family="Helvetica" font-size="13px" text-anchor="middle">拷贝出不重复的 pending pre jobs，...</text></switch></g><path d="M 2513.75 1160 Q 2708.2 1160 2708.2 1243.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2708.2 1248.88 L 2704.7 1241.88 L 2708.2 1243.63 L 2711.7 1241.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1211px; margin-left: 2681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">TODO 检测递归更新问题</div></div></div></foreignObject><text x="2681" y="1214" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">TODO 检测递归更新问题</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1166px; margin-left: 2609px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushIndex</div></div></div></foreignObject><text x="2609" y="1169" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">flushIndex</text></switch></g><path d="M 2433.8 1130 Q 2433.8 1100 2433.8 1076.37" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2433.8 1071.12 L 2437.3 1078.12 L 2433.8 1076.37 L 2430.3 1078.12 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1097px; margin-left: 2434px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">任务全部执行完毕</div></div></div></foreignObject><text x="2434" y="1100" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">任务全部执行完毕</text></switch></g><path d="M 2343.75 1190 L 2363.75 1130 L 2523.75 1130 L 2503.75 1190 Z" fill="#a20025" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1160px; margin-left: 2345px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">for activePreFlushCbs</div></div></div></foreignObject><text x="2434" y="1164" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">for activePreFlushCbs</text></switch></g><path d="M 2816.41 1280 Q 2840 1280 2840 1185 Q 2840 1090 2681.9 1090 Q 2523.8 1090 2523.76 1123.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2523.75 1128.88 L 2520.26 1121.88 L 2523.76 1123.63 L 2527.26 1121.89 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1158px; margin-left: 2829px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushIndex++</div></div></div></foreignObject><text x="2829" y="1162" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">flushIndex++</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1089px; margin-left: 2702px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">循环执行，直到任务都刷掉</div></div></div></foreignObject><text x="2702" y="1092" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">循环执行，直到任务都刷掉</text></switch></g><rect x="2600" y="1250" width="216.41" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 1280px; margin-left: 2601px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">直接执行任务<br />activePreFlushCbs[preFlushIndex]()</div></div></div></foreignObject><text x="2708" y="1284" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">直接执行任务&#xa;activePreFlushCbs[preFlushIndex]()</text></switch></g><path d="M 2365.63 1040 Q 2187.8 1040 2187.8 1083.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2187.8 1088.88 L 2184.3 1081.88 L 2187.8 1083.63 L 2191.3 1081.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><rect x="2365.63" y="1010" width="136.25" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 134px; height: 1px; padding-top: 1040px; margin-left: 2367px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">退出循环，重置任务队列</div></div></div></foreignObject><text x="2434" y="1044" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">退出循环，重置任务队列</text></switch></g><rect x="2090" y="1090" width="195.63" height="60" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 194px; height: 1px; padding-top: 1120px; margin-left: 2091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. activePreFlushCbs = null<br />2. preFlushIndex = 0<br />3. currentPreFlushParentJob = null</div></div></div></foreignObject><text x="2188" y="1124" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">1. activePreFlushCbs = null...</text></switch></g><rect x="2326.57" y="1240" width="214.37" height="40" fill="#a20025" stroke="#6f0000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 212px; height: 1px; padding-top: 1260px; margin-left: 2328px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">pengdingPreFlushCbs.length = 0</div></div></div></foreignObject><text x="2434" y="1264" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">pengdingPreFlushCbs.length = 0</text></switch></g><path d="M 2433.8 1330 Q 2433.8 1305 2433.8 1286.37" fill="none" stroke="#6f0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2433.8 1281.12 L 2437.3 1288.12 L 2433.8 1286.37 L 2430.3 1288.12 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1221px; margin-left: 2434px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushIndex，开始刷任务</div></div></div></foreignObject><text x="2434" y="1224" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">flushIndex，开始刷任务</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1305px; margin-left: 2435px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">清空pending 队列，待接受新任务入列</div></div></div></foreignObject><text x="2435" y="1308" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">清空pending 队列，待接受新任务入列</text></switch></g><path d="M 2166.25 1750 Q 2166.25 1750 2219.88 1750" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2225.13 1750 L 2218.13 1753.5 L 2219.88 1750 L 2218.13 1746.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><path d="M 2126.25 1710 L 2166.25 1750 L 2126.25 1790 L 2086.25 1750 Z" fill="#fa6800" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1750px; margin-left: 2087px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">len&gt;0</div></div></div></foreignObject><text x="2126" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">len&gt;0</text></switch></g><path d="M 2470 1750 Q 2470 1750 2583.63 1750" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2588.88 1750 L 2581.88 1753.5 L 2583.63 1750 L 2581.88 1746.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><rect x="2226.25" y="1720" width="243.75" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 242px; height: 1px; padding-top: 1750px; margin-left: 2227px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">去重 deduped = [...new Set(pendingPostFlushCbs)]</div></div></div></foreignObject><text x="2348" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">去重 deduped = [...new Set(pendingPostFlushC...</text></switch></g><path d="M 2664.1 1710.02 Q 2664.1 1680 2664.1 1656.37" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2664.1 1651.12 L 2667.6 1658.12 L 2664.1 1656.37 L 2660.6 1658.12 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1685px; margin-left: 2665px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true，如果有 active queue 说明正在执行中，这个时候<br />只要将新的 pending queue 加入到正在执行的队列中执行</div></div></div></foreignObject><text x="2665" y="1689" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">true，如果有 active queue 说明正在执行中，这个时候...</text></switch></g><path d="M 2738.13 1750 Q 2738.13 1750 2825.83 1750" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2831.08 1750 L 2824.08 1753.5 L 2825.83 1750 L 2824.08 1746.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1753px; margin-left: 2782px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="2782" y="1756" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">false</text></switch></g><path d="M 2664.07 1710 L 2738.13 1750 L 2664.07 1790 L 2590 1750 Z" fill="#fa6800" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 146px; height: 1px; padding-top: 1750px; margin-left: 2591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activePostFlushCbs?</div></div></div></foreignObject><text x="2664" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">activePostFlushCbs?</text></switch></g><rect x="2561.1" y="1590" width="205.93" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1620px; margin-left: 2562px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activePostFlushCbs.push(...deduped)</div></div></div></foreignObject><text x="2664" y="1624" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">activePostFlushCbs.push(...deduped)</text></switch></g><path d="M 2931.1 1780 Q 2931.1 1820 2931.18 1853.63" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2931.2 1858.88 L 2927.68 1851.89 L 2931.18 1853.63 L 2934.68 1851.87 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><rect x="2832.2" y="1720" width="197.8" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 196px; height: 1px; padding-top: 1750px; margin-left: 2833px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sort activePostFlushCbs<br />=&gt; getId(a) - getId(b)</div></div></div></foreignObject><text x="2931" y="1754" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">sort activePostFlushCbs...</text></switch></g><path d="M 2931.2 1920 Q 2931.2 1950 2931.12 1973.63" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2931.1 1978.88 L 2927.63 1971.87 L 2931.12 1973.63 L 2934.63 1971.89 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><path d="M 2835.55 1890 Q 2835.55 1890 2736.37 1890" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2731.12 1890 L 2738.12 1886.5 L 2736.37 1890 L 2738.12 1893.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><path d="M 2825.55 1920 L 2845.55 1860 L 3036.65 1860 L 3016.65 1920 Z" fill="#fa6800" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 209px; height: 1px; padding-top: 1890px; margin-left: 2827px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">for activePostFlushCbs</div></div></div></foreignObject><text x="2931" y="1894" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">for activePostFlushCbs</text></switch></g><path d="M 3049.61 2010 Q 3070 2010 3070 1970 Q 3070 1930 3060 1930 Q 3050 1930 3050 1910 Q 3050 1890 3033.02 1890" fill="none" stroke="#3700cc" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3027.77 1890 L 3034.77 1886.5 L 3033.02 1890 L 3034.77 1893.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1940px; margin-left: 3067px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">postFlushIndex++， <br />执行下一个post 任务</div></div></div></foreignObject><text x="3067" y="1944" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">postFlushIndex++，...</text></switch></g><rect x="2812.58" y="1980" width="237.03" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 235px; height: 1px; padding-top: 2010px; margin-left: 2814px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">开始执行任务<br />activePostFlushCbs[postFlushIndex]()</div></div></div></foreignObject><text x="2931" y="2014" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">开始执行任务&#xa;activePostFlushCbs[postFlushIndex]()</text></switch></g><path d="M 2590 1890 Q 2590 1890 2508.25 1890" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2503 1890 L 2510 1886.5 L 2508.25 1890 L 2510 1893.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><rect x="2590" y="1860" width="140" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1890px; margin-left: 2591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">所有 post 任务执行结束，重置post队列</div></div></div></foreignObject><text x="2660" y="1894" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">所有 post 任务执行结束，重置post队列</text></switch></g><path d="M 2311.88 1890 Q 2268.5 1890 2268.5 1882.5 Q 2268.5 1875 2231.37 1875" fill="none" stroke="#c73500" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2226.12 1875 L 2233.12 1871.5 L 2231.37 1875 L 2233.12 1878.5 Z" fill="#c73500" stroke="#c73500" stroke-miterlimit="10" pointer-events="all"/><rect x="2311.88" y="1860" width="190" height="60" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1890px; margin-left: 2313px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">activePostFlushCbs = null<br />postFlushIndex = 0</div></div></div></foreignObject><text x="2407" y="1894" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">activePostFlushCbs = null...</text></switch></g><rect x="1935" y="1850" width="290" height="50" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1875px; margin-left: 2080px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: nowrap; ">这里没有像 flushPreFlushCbs 那样递归去调用，<br />而是跟queue一样动态修改 activePostFlushCbs <br />来处理接受到的执行期间收到的新任务</div></div></div></foreignObject><text x="2080" y="1879" fill="#ffffff" font-family="Helvetica" font-size="13px" text-anchor="middle">这里没有像 flushPreFlushCbs 那样递归去调用，...</text></switch></g><path d="M 2090 1120 Q 1670 1120 1670 1323.63" fill="none" stroke="#6f0000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1670 1328.88 L 1666.5 1321.88 L 1670 1323.63 L 1673.5 1321.88 Z" fill="#6f0000" stroke="#6f0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1147px; margin-left: 1845px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">递归调用，直到所有 <br />pendingPreFlushCbs 任务都被执行</div></div></div></foreignObject><text x="1845" y="1150" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">递归调用，直到所有...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>