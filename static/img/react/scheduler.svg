<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="5056px" height="2461px" viewBox="-0.5 -0.5 5056 2461" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-09-27T06:31:55.669Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 11_5_2) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.1.8 Chrome/87.0.4280.88 Electron/11.1.1 Safari/537.36&quot; etag=&quot;mKRHvHmiQzzITxZJplv8&quot; version=&quot;14.1.8&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;u91ATE22Z8h-7fBZmPHe&quot; name=&quot;Page-1&quot;&gt;7X1ZkyJHsu5vmQfMqq9ZYbkvjyRUzbTd7lGP1DLduS8yGrKqUFOAgOrl/PoTe8biuQC5sejoaKgkN8IjPvfw5fOBO3798c/tdPPycT1PlwPHmv8YuJOBg/7xXfQ/+MhPdsRybHrkebuY02PSgd8W/5OygxY7+raYpzvlxP16vdwvNurB2Xq1Smd75dh0u11/V097Wi/Vp26mz6lx4LfZdGke/WMx37/Qo5ETZsf/lS6eX/iT7SCm33yZzr4+b9dvK/a8geM+kX/o169Tfi/2Q3cv0/n6u3TIfRi44+16vaefXn+M0yUeXD5s9LrHnG/Fe2/T1b7KBfO/3v759Pj/Xz57Y9/59ObPv/01u/dc9mu+TZdvbEQGD9EgeRzE8eAhGMT+IPEGD94giQajEfsqCgcP4WAUDaJk8PA4SMaDaIxPHrmDyMIfEh9/hSQ53X39z1uK7uyQ4zG6ySO7WzSRjgTkiE9uGw+SETlnNIgC5f6JMxjZ5Cp0JMYnx+gcD78VukmMboje1hokNrl8jG+OjqDbRhG+Cl0yCsnJNrkhv7MTLNEIJl+26NMz/oSvGqHzHfKsB/y4Sm8Y40vQIOCvYvLQGI9VRF4sTvCtHGub/v2W7vb/Wu/2nxev6fptTwYH3XZCfhS97UM2OGgu7fj4hYMkwHfFHzxyV4uc6+MXwc+J8ABELhkbD4vIsV6mq/ky5c8q+tURFh/+SlyTvvL3o4NukSHmH9Bo4hlAx3oEDDFaovNv09WMPH1L7iPmlhBVgEUYPZJfYw8S+u4T8gj0KxPyFZ92YizoCCfKEIj7senh40tH5Go0IsnE/Ml7/FrZBKWzfCJNLA+/QEIeE43I5EOPCfFEzN6NTK8ElI85RcRYoQehuZIQwYf8EeQ+8rJRVtdkMPKkp2hznd4zxBOX/nI0mKCM2fiTd4v5KmUy1uVHgGv/k4MlgbsUA4qNbvb9ZbFPf9tMZ/jb70g/oGMv+9cl+3o+3b2Ic5fTL+kyEZA5Xi/XW/TVar1CFye7/Xb9NeUHEZJa5B/0zdN6tWdKw8b3mS4Xzyv0xwyhHppRbvK8nc4X6A/p4jH5B1+8WC6l44k7fnwM0fFv6Xa/QCpgxG72Zb3fr1/Z06QLHh/ZWzCMRJelP3Lh1xagjrRlun5N99uf6BSuKmOmB5iidCP29/dM63ghO/YiaRzPZQenTNM9i3tnaI8+MMA/APxdxzcknM6RdmR/rrf7l/XzejVdPmRHk2wO4JH56+11w8+fbmf8CJVYhP7MbvJhvd6w2fBXut//ZCdN3/ZrdeKgEd3+/H/4AUOf//lf9jzyx+SH8tdP9pc+VzRpijlFfzT+pcWyRAOzftvO0sIh9JjNMt0+p/vCM3PmxzZdTveLb+q71C9ry+65rBVJZ4I/UdYaBAReGEQhhDiu7bm+p8NW+mOxpzMx9NmfYiaiz9nL4T/4u9U4v5wgqDq/LOvE+UUuHW2305/SCZv1YrXfSXf+hA9IsOZZgYJrUayZofoFfmgVXYA+0HfI5rr4MadMf8ewc5+Wb7uXP9bbr3fD4fAduDo+YK2lTlhDAenK5HUxn9PFk+4W/zP9Qu6HpwUbSnRzPxn4k4MBC1A/bFPEHpLtNeSpVgQHudrKGjqeKlf2xMNmUyZ9fsr66WmH5rEOZ7WIOLyJ+AAR3yNMi5xYEfK903cpO3ZkSFnaUY2nyyXemN8Jyb9TbGixcWR7OGqpO5DtLl2lbxzp/pUYzKMx25KiI+w+yLx22T5h5JOTJ+i54oU6NKrTyIoiUyl+sVI3DYrs4hrs39hXYT/0TfvXtwH71479hmwidGvT+XGd0rEtTTxubIonsgDxOH5T2xM7MHV2jeIxBPDFC3zLMwXwNJ2H01lN42xb6jjfO8A+UByTB9oPGtsHlg/zoVuFI3YCg/qsZu5HLrOZHVhW7ezI0JK71nG3La/TkTfG/bcZwoW3JXZR6gJYLhebXVqOLTpoWFPXmkIwk0zCzLUlX0GDB/U4m7Q9lh2aIGM7AMhEjYG5ZQ7tWc1tp+Lcjjud2ac7eY7x4XAniewhGXJ/CewjEX4f4QSq5vfpQKJBlxIFTCAcnUgGIxrymOAIHY1F4F0HCVdF3t1uO0OPM3e8JSDWAPQ4FZGnMevG7od504MJX9WVaJ9qFx3lSfQ0w5hbynmORON8z9fmSgN+RPv0iMn1AGzl+datNRjeRFq/SLtVmu5NpLWLtNv4JY+z3kRap0g7dYAEhl0mtuEfF6t/pdPN8K8dlMISYuMXe91DkvsTkASfEUnXCvF/E5L7M5rw/C8H50FhXz06ObojLv4Iu+lpxk0cdmEmh7r14gJ2ctCmncy3/pfjjoorLoOw0z171M12RCQ2VM9ryMvLsdtDtqoijTpVVmZY6Wm9/brDN+1gQ+7rEQera6hxgjNHFruq76hjo8mMlW/edi/oyD3SptNXPNmoTkW/efG0/31z94LU7sDBmbur+TqlnxZo3H+8o59NfUy+xd/g+1vs/kqCbhST1GSRVBuTrHKif5MRzleFJkPDeRm5C+vofAsnZ8uTpVvYQRBqWp/+2d90Cz7RtRkkT5P1PO3CgLq3dVwTGFaGa80l1Hbifq8R10QFTnm2Yae4ZkbwTPhC85LB18HT00gACCISsTNieePQ9ZuO5ZkT3QFSZ1qe6J04WOqc6FUVuNvpFpm/pjbRJ+vvq6uY6nbXE932TP2Xpl/J4DOLiMjBTyxsV/RCDfIYRWeDVkNZScfm/Xk40Bwz4ZmXfqEfYD0ttru9OUfdyXJKjht7AN2y16GGXWd1kkidu1aON9j94pVlDR0VjAZ9N9ZNjyoX6m4zXXGxbtYbhl9ZjjOfNdi3Osb/ZjnOrPRXgTl6U/SS8n17gX5QolO7phHkRqXj9WLLKyuzVpn+xspbDGx2Lj84X3zTD9HRl4Y8+PttTepa0x/7e7b6RniN0AUovs986QGWcZIopdhov56I7BJX2sHTWmpSoJt4g5F1N3vbYlG9k86Jce3uyFG3+wnx0tNS3Ugtr6UFt1JFs/YIBBH09jYpcSVX4Mx9kQRD/fohn7GVXpyXwSZSUn9AashJMTn69fhkaXVo1eBoROkvFxBK5IHelfg+aFxB1NjylJ2ERCHwBzrMdJxIfQD1j6AP+BcZzyUyJJOFACKaGmME/WNkhI9jsh7H8qY8wIZJ3tnoa3JFqQcIYcnY0yAi4qQAtIqCliT7WHqjEalNfmSVyHkAYcRyshOB6d3EjLeHA1HpTCc5L7oOuOhy5jH6Fhp6/Sc59AFRFqNCH+IQmut0MjqspB6XOTDoe09casSfdsfda0helv2OeuBUrV3wF656oyX79B2yX2szdx6eY48sYobnqietTp9gAz4tLJFoe/Jzufy0xUrecUxlqGbDxewHGAPHJA4hgb5GgQFUF1ggLbAQnBcefvEFE6wqZltZZZQnQmYVUFeZI86+s+/xjKg6HRxiWylsFRYjckDwiTGV/MwRAVeEo1gZyEM5wTHTvswDn88DwUpBaSCqCqbiD9AsGvx2+ftnXtmDLJ7F6hkd8LO/PpNdzD12k4OZ5GtkBz0tCT/MCzKK05WxJcrnSKjDkAoczZByAUvKhfgJ7MZyxl3T+wGbUvIm5WBjipvD7Np3mmJEX6sbKHPbRP9afdltjBlOH2Fuv7Sb5PwI652JI0x3Mcs8wciABE1ekizgmFQxQgw7MSEMYbwlnqbY0KsN8UioGn9EDSGJYCShsMtgSv5h2XUhvmsSZIuSacOYbCDZXoMy8iCLQnWggNQuAK8MHzHISmNWSAYEaIKO0dQZ2wwI0G8e+wQYpPdmv94wagwJEBOCng2ZURZ4FBA6258DJ2dv7oJvnmt3iFEB7zpdPqG7uuaXy/QJL+Y7rp7QT0jsd/8Hx6cIyk3wK2zZkieWg2CYoaoisVxd1yh/2uasdcmvAnStVq1bgO2OhO35A+PKilf5EaCc2FDY8hC46P9jaQg8erUrGxUMa6yYLb7Yc9XvvANVb+44kEFQ6I74CjcMBZ3QqPr4nargT7DxsYMZtA3wF/c74v/DpoHtbX4AW1r+AoWAKS0UYKIpO1W6yxRGcYYWqouNOseAGSWdA+472IUcsxNGdMb4zRK+K6bGYOE2m5JcZbaxwG8yVyLZePsCSIeO+80eYvaQr9lDgDkElekK/2P9iWJmLKILP7uUBebFKj/TMA7iQXEuGPnrU7pdoDHBLuG6E8TCqhlicY7391j3Ls+2sjU72tPnA30zdlk2JQ4m3tEf5JYQ79heVHhBMwUzsZmCxJ14dMsdYM8e04OTzEy9iAhDlFPYkkUYrCBWgwz9TwniKwzK2yYJ261HAUTutJjZngnW7WY42lY3JShShq6j1B/YQ8spq0BoGpuj6vwAnaYX8feEZvgnTNs63X3tZqa7Qe9melSBxWL3Mt3gjwxC5UGBxmyHJggnzcJTEOHvfrpYkSlpk7+Xy+lmt8jAfPayWM4/TH9islr2GP5XLdagDjABMOwuNOwi17r+cYeCvTnjjn7pfjFd/oqV2Oq5igjMIZ5v15vPfOEKBZpuH76lVI9asPW/J9BlZV4G/JFTF5E/+K7a1MrEcYOLDUiMi+1a2d9EZW8QRo7XK7QVmC6IKFO0mfqe7irLvWBKm7OhTNh+Y4BkJnrsGCBxwjNz33232S7W28X+54f0GyZtH8/EqeP1Zr9Aw2YmcpwyY2QjycrZwp08QU6Qak5+toyckH+7OalCprHg7+a58dgXEZMCNhLExv4dymvtAlazEq0NCJc2cQLEo0z4MhF7iBmoWZL+hJxukt1Rn28kXSUiZuKN9Io6cp8HEvkWXwmCcxJWjOPb3MsMWChrJW51LlZgwrtpk1q1yU9VpGXKxYsbEj2fZyBt6st0h6n7f01f0ZBgJx4rCFrgGYC/uS4VklMoWqZCmpOduVMhsuP+ZK13gQHTN9kdDMHNydK5QXA3EGwDBbHtGvixyVH1HcEv9vvcXRXC0kXQIyM9BoIu2BKmdBM0LXXMUxmCHLJoFYZv4uyP3Rsf4L26gW6toNu94Wt60Ga4V9US+1Qwb/eVQW+516tl47aovAknSRDQvW58LS5h6oFRe4Bf4VyjA67O5eQB3PnwsDcXfqxA5nTTa8etuQpOgJaFbXoBtm8rHKW8Lg2WGzaWRMMNvpYkA+zpb1uEakL7oQqsOxkCZogunzMrb7eqNi20rU55XMWL1pRrpJFdWJZvpU8DMJXUniSkg2hzZBee3qMBaATTLlN61qq6EypC/vkgklXxR/W2kQ23BLWtquwRrMFRd6vL3ADraQVGEgE6XcojQH/lphKc01oMgwprEcr2bi6B0DaNurNXO1HVhWF3mv9nuzlJy1o4TaYx0JrNk6KeEcwsf3ZpzGwuFuYx83KJ/uYt20FP6idAdRcW67s6lyFvq1dBP7nd6idzGdp57Ao5nB8sXYrmJEnEBgkv+EJrlJZcae0/jXS6Ddo1rbev2EE8XK2/31EqhiTTgMM5GpWfZ60GbVtrqmJX9WQ12L2n014Oh9ikSnfJOhcsr/Sp0LinU7ph2zURdr94Tanf9UJ0oZuDiVnjbIdH88+mqbLtVkgmPzNjs/qicU+tBDxx0UBhLrMdtSgBlorIWdmyXEX3wMi8dBejIHu4jEVYnE+L7FG9erf3S9A2IzYylVTykBGEyVtwq3D3Mda275dkm0AkyO2aJgA5ujHEnQY3AYvkNBn4evfq0PTOe2CX8MbqoOwq/R1voc7jYjN5nSDLxN1cNAYgZH7/+prOF9N9+omBXa3i73v4zM6xR2VYdNsVkZlT9/7jx4fJ+9Hnhz8//fr+l1/ff/7vn5/ff3z45ffP6Pt7SsYD9vkqrU7Ks2uuUeR6Obw0BRwwc6u5KVAhZnrD5Hox+acq1A4h2nTb/b5Lt8lyPfu6WD1fJ0qHvUNpMzPv998efv0z+fDL+P++//c/IaQmNjcI1aSyiAZHEDBj/tLqMZFrlHt/oBropXOD6nagGggytwzVXNayqTZfXqchnbf37Q6iHXNn+37yAbShP073L8PN+vudgzkdrXfYpjZQGknHCt3QsyN8Z5VZcuQRu5qZ067MS0/JBTyJm4vY3aOYEFdSB6VzA/ziWdQjwL+VPHUF+CKdr0PENyM9H9bfrxPwKxQ8tQz45rb5wy9/QHhvk7zFLBZEwfpmdpeItkcofCNc6QyFgT6xLaMw0CTq3zi5aHmdQFyhoqpdIHbNTfG/f/n14+gDhMU+hmJqTmMCdsrdFZFuTzc0LpJvf9DYM9ejIaEzy39xmZlfIf8lRzwt5b94gAOKMdbjBk0acV00Zsz4EcndzNoUMp47EhoKefsq2rCM3swmX7n4Qt55xOxyKPXDinB3BaAW7zwzZrziKjtraIVaygyLqfU4ZcY1d7KsPZjUPCseE8YrPaEq/bFZbKc4cRezmKGLSeYF+ewkPGlRF/1Z58vcd5/L63eCqsfWivUqB9iNq8K5123JpmtubHDrO7VJ1ir9jsvT8ddAXY0BwSaCX9bKdAALqOWl6ZmRgFwb9UJy2YwGGkBGocgyVJLZGjREb8lsjbkFvBy3QJm4G5S2mcyGOwhf0dbQK89ea5dLxTNtyj3SVO/nY2SGkE6kCfkX6JDOS87Idh9N6siSSs5ExZoIolk3USs8H4AKBOngmhP9raNC69ibn7TWNhSboZfM83BNq7S8S0LLgFytFr+0gdg1Cq0/0HqLdnUFrUCSWcvQyp8mCb+4LO2il2p5rKtdfPVN97vucs8pubhFtwol2hvw9W8+ha7AF0r4aht9TR+DFOq4onXq983V4JuuBgV5SQewmPoOHjmTTR6ljUlgcxNtjyD45lroDIKBbK+2Idj0LWjh56tarH3zMPimh6EEhwts4uvG4b77IfybH6IrHHaAJlst43BgOiJ2aCzer+box17VOu2bEyIwnRD318WCnyeS3kBnAPjhdQGdWYpswBwjFYhQc8q4W8qpCgAPDs6SCkgTOlL7E/usihMbISHObSXZszzRCtkx7qMhr7PKmvK5J7s/3KShqVC6WBM8UTFLTvyv9E0LhMJh5XXUbap5aKqZn6nZReI8M7zD4gzve2vocAZsnvHGntnjFO/QdJys1l2sMQ0Lg6llPYFY6IaWNR4Pjksf7mZVht0SoAame0TyULPEYcJgMHvb4oGgGfumOtu+rF+/vO1ybEBZmDlqqkCx5ajCGhSbY7maYoOaT0DGXtSYYosqcAS0v+gqGCBCFXaz6By78qKjnHUnLDoNjPlsijWKTlc3f+iPYJdlE2W03WL2enEa01m5D7JjX32Qz/Yej1Uv8FzlAvSBvkO9GiQCXO+iiygW1O7rf95S9BV2nGCXiYVPov8i+/kNP+7RJFORDevsdFw4tFVuB8DUeZoXee18RQGZF/CGuj+VR544oXlhgmazNG97OJwUvWXMa6FDVVC1mMjJ4y9ryzQA/LUQH3bmxlMK+Q7c7vbLKtDQ0gX8p+22h7MjuBi2d5Z3nUslrFxGHXa7VCIH1nNqwsCF6KLSflSOpovOoAdHCNjcZVhXEkauC/DEyspbi3UAnqP590IO/mUN6Jvrh2mbhaZt1iuLP/rT2zKsur9xrW57h4WmU2Hztnu5kyx0Z8yM+MN7V9ZmKTxvp/MFEsNksUVQiNYxfh4NxfKv5PUWKBruRAPDU72B4HprteelA9CG34SmCs3RNt02YBW226g0urzAIO8nUMGL07HRZ+6P9ts30xA4UzMvKjXzfE9jrem/nReZCdmZM+lpscU4cim+bTvU8MoFgrYQXDXn2o4rVEOcG1xVdjrHTrdwBbe6ww1bOVcTJfciyZTYNYvzKCMX7X1Ic1U04LTYnmZjJo+E3ouV3/NFxL6IyA1JymbGc02yM0ex1DKPsIWhz8wlbOd3lDmrdReEvbMT4n70mGxjlxQ7lRdkt6HXGFqQPDiCVktCiPJwBjTleA9x0TX6FqcaTVjpH1pao0haNlYee1oLRkixcGs1TuLiXGdknNjKCjzRMOH2TaRe0aCdElfIlb6+9ZpjkrazXkUOtSSTp+ly14nB3+ZaK06OxWstDCNlufU/tYlPOmV90TDzbjNdKfIM/n5b0/R86ROJQy92/1rvSLgLQe5vs5d0/rZEy43dCL0ZvRfrAHL0ruJwK2aJZ18ynX19JhCg5VVrk+eR/FOT7ePpiQlQ5QHE993YpsOx+rHpaAVLqwbMHCtHji1hqWPuw/skk2OjAMckAzfGWlp9MjjdhgtiqBZ7NUuXErrenepyFijXzZ5QlHAU7Qk9b8gDke34/C1IDfZnGda6GqLzgEbxormmSbHtQVLi0M8knuhqhshZLSQvUA0Mr3PnigO0derTKmpKwbCFUknBdOppES9asqS26d9v6W4va52X6QptyT5zp8qYCJWluN1LGfHvLnKt2Xb5WnN4WXdLUep+a6w8w9EpsxxrXZfVM0xP9ajAacO2F6mRwZD7s/g96KsZefC1pQ9bpv+MKswxI5fINKY7kXVllmQuoQG/6O5p+bZ7+WO9bTABoo10L9t3NfkA6SeO3aYS9WpI9/rr7XXDz59uZ/wIXcPRcQtdUZ7paj7abknd+mw53e0WM3rwcbGU5cxuZrdk2jpO1VLqjvWwZ5uGEo4zMvX6fgL3N2dH8EgSRyYfzMwbh5YTGVbDQScFKmPMURuNpUgnCbXgCGVEo5ycVHwEsYtLcc3E4Y0yHtgNaT+jzAKgr5pjAbTkHa4+Cev0FrNlXOgtdl1XAZ9Tmx39AC9osDYFaA09W6bTLTcalTl9sKYwNALuGx2npkb4Ys/nT5WZL4o1QmT5Q1Ul+J1X+Ht2A8ltTeiIvqqFqv4/r9tCIwdoiq2qBXeCljJfXXfvKPpLpcl6hyNTiSj7OOxLHL/uzmNlhpw3oT97MLcfezDFNMtbUHmSyZdlrUuw8k7M7TgeY+6XdnyHJO+AMMTldWbo4+qxRcphUaJ93KrT3e2msOWI0NSxzfvOYGW6lX2XbqfBMQfohrzYfUx3uynaRiDh//q2Wi1WzyelLXeyNGMtIhb6wMoMnSGwNpvLFXD7UU9Rcc0E8ygMPNCLNPI9t25/v1vZz+CealCSSw9mxfC03o5RGMtTovwC22qDFkMMJBCPmC++ZRE+YJnnxPeky4A7mfaxBRziCv9Tun1ab1+xm/P31X6xnKTT+XKxSu/e5T3wRENATNa86d1wP1Bt5xt5gDPUsVsOzfOX6MhKGMgUPk4xh8+xZkKlgGXHkFe1usPJ67DXkpnAuzvfFNdJUvRzePzaMvYOoMjuvhGwIbxx6PoWsLIFYAMkv3VguB94Q1vd50Uh4CaBeNxEjLsBCK/AUHojPD+KspmtFHNKlImbm14NSNvcqP17PU+Hf+0GtJFB7OBwkWOtl3P03/cPtc6FnlNss7VQKC8bSgtvUF6AxqR0zskjqajycGkVElC6f//6ms4X0/1V9QrJFdkPTVxlTJkNivDWXK11gP2pCrUUb73GhG+WELD98vhlitbWVbW2zN1+lOJrc/KBKLVIsXk8Ih/sQexKyRekm3BsehOuUWoHQ2xzUrw1T+sKYjk1dxnEes3pV4AcXATir2uhlvdNA+G1QdlArdl1Wg6IhsMn/UkepLZpBJRxRlwwiBLC0PGImwvj3DYfI/KIJ8IlI/RA75VuaEiPtdED/jBySGqcuEqwipBW8ZgCE+pWzA3sa9baxTwGlfG/uWkWdOJGzILVYfVodZ7vcfa2/SZ8Vs0Vw1RO9QhOTfXICWYFsaNHMnhaRwn9vElk7/rWMIqzfzRyccvSnGZN5/ODTZgCzIMykvs+ZjwoPJilJK+whpLWAGl4gYyOJbL6wal+MUwObC3noo01dKxQa1LDhv1E4pT2UnODCnXlmBNhc9Lwlrijo8AfRmpyQwy5o3NiinFjDmkfckhD0WKjNA5KpAd8Zaoqv9cayNCjQ2xNO+i/uz07/Q43esivoMsrCDirKHTRdM13slSfNM0FooG2rZ9++fWzua7kwWU22+uPZzTwL8PF6mlNPi1mw6fl9BlPODxWLtny4V/rAFFCkoX0YMiKGWmlIEysuPxQlJSRzaXLrRr2E+bEULToUpgtVs+fifni62ZEMdtKA9ND4QxwzMngNzYZggq9iZrG16zRZr/AtVJSjwyCNjFIArwZY20CHrEhI+++cIXSSGJMFMVLgh6OHKdVTAiLETTjcybshszUobuvEdA7G417TrbPJaFsTk1Sn1AWaMKLUdY2BvyGsrWjbM706A5lQ6ccZct34cq+90IzewK2MS3fdYfdFliE0AaWlplOeKeRUbYRpWSfOD6C0PwBg77ZcviyN6th6WY1cOulHxet8pS7trh3hUIthgHxMt19XG9T6q5gycCQs+MOnYg99b+mr9MFTR3G6l7lLLFAk0BMw7vhcHiJSb+GBYmzgHtgBEBdiG64n4/mlXD/1Fafp4k0BlwunFZdsev1VdgNuHfDGuDkNUEWYG+HvprfeSLWtwDnQL/zpwVaecufgzBBwDoIJ4aUpVgXOjFdYnP+FQsr3SLAJhJWv/uUfVHam2LxI51z+Rbg6+FIXQMi23EUD21HVeggKrfbdtEJO+lDmlVUDD1kOSpVFXEkDuSxkOK/pJlRGB07pmlzx9hftUHQ6WVoJ84dM32Clm2NJep+n1jzLnH2xGQzQJpkJCMWYU8cKb5Fj3jk5ABH0mVfEdseiA0Dp6wxHegKB45P7kzZbFwWskf/0nyskS0pKZ/kbI2kh5JdClZb9MOEJQygF6BNL3FmjUX8/VAJmmj7Abyhh1+e0uygcxL+CMwjZjHfmX7Dy94OFWcKoO1QxJuQcrdW/zXk1TQ5OACzwm6bHESmvcqaHIzZkj0JrgzSLLzQR/jbBxKMZ35wCjMiQcnApAtf66UdF6woUr0UZ2AOm5F52ZXRSte1VizZMNB9C0CAQRxrh9YgMvciPJA/kdsbLzFmUq/QyCLBJOqZtCSdT46MSKcw/MGGcrlNu8CMcnEDAVD14lnoK4Qhj0DWDoWLBKf65NXJA1YFz1TIYmT0vcTrBNDPEmyAaFTG2ZvSwBz7xebvMzkEC36oj/OYMNSFJDszAB5alqfU2pZk0ECRtxYmqlX1ViZ+z+NgynDXcx0Vd+/5Om6W2SJ2NUxxVZ6K0gs4AS/Ia9GuHjDzlguJLpj1oa9lmJ2KX4QTioxFcl5axAm1ZE6kMiBGxlYd1HyLAYQoXmwuGu7lyuIG2XdQuhmUSIbfNkxkzLt7h31mSMAhmRX8GRa5KiGJ6MJeFEoixh8SkSrqQParueH1seZLiAEaUeXnE5yml0f4X3ZnolLQbaOJklcvdF5CbFl8ToRT6zney2/vY+0TJby9X6S0x8yUi+odZtqBvvQDew/2432shmhBFdMpjyz9oypdjD1k42pu7nUtZfxoNDuJgtLXq0PvadgcgLo9zvYwx5Go25gO35jJISYOD1GGVi20hZbxviiaxdtqmYUELKNhQNMZlPyGe5KLAWESVKSgqu8D8iKgBIyDtjGH9Ee3tDZwYGoNZypRSBgahKxu2PaObCBVVVzHsPl167WNKpOHBTmurrY8IPlh+NzWgFhM9zsiN1wiZdubHyYZORS55/5geM8lN1M+wV9bsTVJyyHGo9DoeKdKVBpitDmvLbft7WNMe8MUdwPtrlpNToO2NtDyW5pw7iTbUALul8uOOJdMB7TXCz1fnQ8nToc25B11qut4tR5Xd+LLCsquLUd8dTV0siP+qJ0+emwxJWWFKzhFeC7tZaSVeelXNER7GZnxnpLYgmi2IRSgGYyUowQjsgMIsGKM/LvvtFHPOGfnYejbK0PAnPmdIWAQ87ZNJ6rArHc2D1dYfntK0My8zaE2v5QQhOOH6nDHUC8PqEdigxGI/jT8rWKAdrtX8isrqehU1tHjlJQ+wVriTY7NMNYqTee7T1P6egPZY3yY97fYi3Jc9nIBsNeazexrPddtsY47y5tzrdNN0WZa9QhbVTFVM+P0NFO1KXoJ4fsvhQTX6gYSAg0SgqCEez2KCi9oBkJcoDEkZBtqRDqewqhT5J62SXg5xJckIzi4wBL/QKc+TYWRC0B9HlWOSFRZjnGEzBOEfdkxFO4WQQoW/iD7ff4uEa8kGkMVp+IrHw9M7JOxGZGgihRp0N8uwOY7C6qQy42XwrEFNXEvvy9nTuiPhBIWO0ZTv1g9Uw8GbeMpkxDpcqKj4JbJ4KRUI0oYdJ5bAgbaRVsCtExVH389vfvuY9XVwgm7m98eiGaEvVVUxwcQimZPPimS1M3uy3KN90VSLzst9oDkVLmXEPrDyElXjafUtz3ycoa5lTj1u4IOUKlOp3nk4kVlv4kIi8NlfugjJktjZX7NmsK25/oeYAp7YRCFbZvCmlERBVDORKsVJBzaumFQs6UFKrGp1d/IowrolAJljcv7gE103G1peAyVhtMcFOICjX1mvei2CphMHbO0EJaXIZdqUNM2Y3KEN8qX7fWkq7EgDOgFPGpWUxiwBRdn3ANWHqgJR8YT2GlZtWuGQSvSnpW1xMprPJvDYVaaeSUFOqCdI8uBRh8eSGowlAVFK6rMXONzrOIvmu3mROx0jsUV/NscMQm6flrvkIm2xsjJmWVVNhxhlFsQ+kpCgRl5qKj+YGMC0QW9IuP+bTN8Xexmw+V6OkfG45+zxXa2TP+0BybxdoVcMzMBDj1pvkizKQBkpR2lAI6fJXzfCmWmDTn0y3PGaW7OVGg22TiZms0fmmF2bAwNT9pWOIedpsbF70+sqJ7YEF95T8v0B9tbVzF1i2dNBQu46gaX2cqdWcA+pKA1ga/f9ljjjumMlzYe0oCj/3vEz82FHVVyuLe6HRiSYycr+FsK3TAIF8G2jIEO/5v9XgL5uw39oYS4IQeQdUyfft95w8V6/+cUzfSf6I12f24Wm5TYKg1SqMU5jsOuIMS1Ts/6bdSrd0JacEuZUiyOVAU9rJx61Ya7/YaBWiATOiURJ+OCoqKo+iJO5vb+H3kxD76doP81/9QiIf8woiD6pK8/gcWy7EkyNsHUsnwrfQKwF6vIwLLGY+m7yWKLsI1C6CF9VMqKpvSQYmSaMiIVqZW8F9cys8mlMk5RHTopDDnSXV3EA5WPEqNrhMuPRkmRfwek/5iQzSHdZAY2TVvPdp9KrWm1yFmFxzj0MTgt74NUaFx6Z21Om+U4dfqmMGjvVJak2nYqB07fMKw4fb3Gpi9PVu+ZHj0qHQOumRFOcNAjXqdCtatygNh5TspmFaprhar7LrBK8oj1xCPtgoYUqmOGw0Ayg/3iNd3+5y3FBQ+WkjlxQALHYwa0CJsptwG6SRKwHIeRpWYgm7U4FJ5puvJYqkTNz/+A6ZAmJDVElLaKp5sIStRFxD+wk2kfJjFM6D4BqzFC7zAKVNeh9iuum52QgWBhWkTsa6WPg57HDFyngvPpnKD+GB67OtGdn9n7bALXTKLl972eJe2UZjpZrl7NfNqS/gFe0GRiE1zQ0vV6PqpyuQP3xwHr+VT3x4nr2TF3mJxfghcWY7IIP6NtuK617hb3MUdL3eJj2Gd9DcM2IUmRd9ThREhfk3IFD1CVNK3DE8ByZVp9b+zqFWQxUOLgWICPubkSB6dCa+TGw3exvgWDxsUDfAZNDkyF+F2maOxy5+SBGYkCTE6MPms53SpjmTrXR/HYe0hOCqKw+VSc19CyJG1Tt1DXNesBLXmuT3E8dwg7h4mCo5HGzBWYfjqbE4e342a2zSWXJ6hiXrXZdDVLl9KVdwfnD5+jRB0VRSHeIgsQaIMrr5ZWIP3Zng/KTfNiLVvBv8pGqNxitzvtCeLaputF5gGijrhA6vFntnU3fXQyZyp1DAr2IJkzIeCczROSZcg/XNeOwC7jAjL4lU/tLdXCBsGG+k9eNmI0UOpjnxp6OREazEwowsaoxTJE0LiAIt0MIvg4DxizYVKKxEdWJjB6lEpCI55SLNWXIuRh1aJSeWp8ZYxRbH0VugwjW+tI1/8wgHsmdoZUlThbTne7xWwg1yUeAiyadRkGgRVNIXvUc52JH9YMRU5YFYrcWgiozEr9ONYc24Iagt+Evhu7rglfloly23T/tl1JvqwGCht77eFyolgFD9jD1eomhJOdS3Li/SOnO51t29hJ0jM/bRfr7WL/80P6LV2KSzbb9Nti/bbTvtXvAVT5H8Xu0mvJu3bs6FzfFsDYJFr6tCN8D0izuGmGBjWDW7VRget2HHGCUgdKGHJndPBw/t/2+cud4/sUz+UP78iA6rS5QiFozWgLuWzbbKR4ABt3/kTKm3pVkcswsmtRSdouGG6Ta7cadeE1A1cES7WCTFwVZLxOq+LFi0pyns6/Ye80tv22uzu1k7W52yXur4iQEuHkN0/q6yA2wtI5MdnSKuRGrH/hHtk6bOt9mNWR2+LmIBOkFCLqWOmxpVVugxRyrRJnuF4DZYBXtNK9ygksXqfVf+JFS3YZmzT9eifWIrjkQ9IqS7RHsdQSCr72KVfZFa1lz+l+LVfIlbit5ZIVWmkt54Q2Gi4dELtFMef84toB8wonbqN4wDNdT7t9ujmY5+/MndleWTvhIOae4R47rzlRQN9ABOTeaoZ66+wB62Tqgc4Ay2ul2sk3AzQYsGD1ebmA5eekbGSAFfIcKNGa8zT84nE9OwRv2wK8xXCm9lnD24HEB2cPb3k0RP2Ht6AVeyw23TwY3mBS3suFt7jMHgsFUXG93cnudcq+ttDNs2Cb+6zR7cqMN2YBnSO6hW2gm2eZwQqMbvC25WLRjS31InQL+UNq7r3YGpoB2ZffXxZLTj2QJKy1cTy5usy5MvHfW0O0PEE11GPfg5cj8DvJd21mKPG49Ev6Y/qM6Y+UiDQ7KmLR6HedFIzutZ/adfQCa9BPzbP6W/JTA+1hemml9NRy8CtaDq53anLjaXLmVZOSnNMfm8V2iknJcEj5uiCazftCiHZUBV2Pd8VWIUDsRtoAcCDzGZPpuCRwGGA1jRlzBCE31ItUzx6gRPwBdFU4GMUkABmTxHpHyrCnR0yj8GJCkki9a1DvQH052u1QF5i2+Q3qq0N95fYabtBtIpEP1EXJ6zzxcccMmuYznPFmsIwNUXBtRZw1K+L1Mmp7jgteu7a2dXbDztduFeb029rNH77KZlrcKVeVB5S1kxS9hDCdilw9WrQWs0U8UNp9S0R3CV2pILseTRcifTTwVVJrHby+PelhZtMNiiFUx0cETK7Kdswj/xbeHduLtNBcPd4dzSLlXKVtROZM21Ha9v8DH3EntCzmYvWCHegBo85tOs8y8/r6oQaOiw/k9WU8VZd0zJXoVS/HrqcG8uBmxlFJuKDCFXbYSoABMIQY8QPJYUeaMsZcuFfY6o2BQZFPww5d3f9wmmJqI2wKsR/7hPyDcIeMQtIAUKf1lQkExuQX/v2W7iWen4x9JImJVyJ/FnFWQbO/ckzTrwOSh13N6fFANlSsi7RNqJZlUoMR+TXBIHIZg2FJJOVy9Kvl6hgE6FfR46edfZd/85mc5B6vXOHpd+wzAbpWXJ8GYdPdlML5kAL5PTWIjyABPv813W2ZlZ/POsYaBYwkqrCCUirBKyZiG2YgRPQfjkkPGEdx1kQO86EiuyEesa7FNHxCb3hlKFNsp1pDNwqC05CG2xR6Z2PNUGgy2pa7UZHnjdbwCrAf87inKvONnpEFGDh61Mw3LcAIMACb4xn1zVpN4gi12O6DFFmyxCdNQp1RMvRbyGHQw9DorfL6FJMgqFx5HXRrEgSmG/sazfyguLYIM/vpwYb+W/5BhZ66tzVcxxrOKd1oaw3nmfXXtYRLfb1ITmH/Fy1kXhm5JtdlBOtuUBewj9o1gjnd/+UiqTI/aoXV6kQW3ZpGoRlm2aw3Cv+MxtZOHSUJ4DEBuGt4UQhuqkg/TK4Nscszjm2e0XE20TkxvxUAL08fRFOLTxcRzXMzTn+Q6kibPYXz77YjP0Tj6AmPvt35jjy8Bd5OUjtBVbUTdht4C8zAm5RYlqUns+yyrOuHmQEA9heOyVc+/oqmOUaEDw1/9Yg99fjyCXHuS3cWTUO0DvPCPavPxMuxPsNQtz6h5Od2udTCm3fuFCwIK+/sw45NULhAKU5I2ozIa/bxsoxdaVWbOTakLilxlVWNk6itbDEjW06tfdDRQzQTj7Btgo0XYmXEYfZAJ8dUYQ3TRVDQqL4wk43w4yz8skVVGFLgsGpdxmUb1WGpJ9MWNEk9tqJDyA0C6jNNafEgMxrDAecN5dP68EZ256OnPEtPP+2Dnrp5oE/SU5VdJWG3Hujw5oEWs70IetUI0on10y2gcHSzM1tav6e288jJ9tF7Q9u+p4F9042eotwAM80Sn2BDEFuwEf43S/Mme05kGjI9/kBMucTODD3TzOSpQ6svO/w/Emk/2C+vIL9N2Mj0BT3JoObpcQ712AXYmsVV/gWOOsPQNgx2UrMINudDz6bviu3mQMqX4q34rgtiozIOUGT2qMk09ZBUqMB977bIAArzIF4Q4jYWaaoOvx0n4cSmmlXA5brWeFzcZdMaBnagLcfeG1KhGRSaDRSCiasO8XuW1vnQ9q2uQ/yRGf69dCQ+riaDFzZntcziqoLC5lqBvnpsp9u2eRzL81LgaZeqskZ6WHz3T9PXxfInbacnLF/crhK3qnxJl99SDP3GN2ZzPaWv9L24gJnUcuuran33Lls5RTl0t5kBGvtaQfGJzlb+5lrhRtCaBRpWDEgKb6sxJS5IT4WanhK5aR0yIfWURbtGvXSkjmluZ1G9hWItvU2AMi5Lc+wEbTt2YgfQZRVS4TLnCo34JSwHAdf/m1cJHgFkEz+Qy0O8KRpdGYEyW+SFBQqeuity+r8pMq2hw/p7ShRdmHTTkuZNxDNVRMRZJLGIKeURNxtmtVBsIMVXiKOKCa9vi7MmglfRE9SNHN19DDQlt4M2O9KjrWJP1d2N4MmkDewzwZOe1xWUEjzpV7RD8GQDjggjW+b6wq0MCArDrbbXfy0YAzkSRj01Rtz19itBIzjFiuis2ANJm8DJcUv9hhve657IHnAa8gYIiiuSToEXW2t3DmfQ+STLjnxAdjZO2DPT5IR7R7onOzhffFOsrgATeDAH9ehphaQ4WdGp+bRCgzu5e0feUnYl4bPw127e1470BvLzzFcwPA537/hHzXmFH2esFaiz9CDEp2c3xoU9w+FwEE6A68VV5PaAz4zVWhRd6Bx7oX3chdj8eVqs0CLUu9FwvjaNuA2NhjpO2D3pYnZbbG17JDxNJ1zMOmozhl16hJLvjqWYNw2lO5KNHvJE1pinkwoSGiksgt+LPDQmuZ5sixmpLwh6oSxlr4kBdQz8LPHKUqNw9OSEsvvbfKfwQNIMSRrAKJSyENDCce0BzVDIgvU0wyAmPDdu0a1z5ryG1QjP9irCquC4Wq9SDRfZoR3C6MXqGR3ws78+E5v2Hg8ViORrBKFPS2KGviBTIF0ZFrQC6EtsYiRo8J/JSfpLVbQQuFWyTJ+yMTjNW+cYZTwQfx6E5Y7VGJg7EJj3ckPTx5wqz666r/DyZkdbxOWmXfcyXSG7mrFtat6Nw3wIh9tGeVZWDevM15aZBxXLRU6bFpNzS1w8ZZHxMysssk4zZzzHzC5c7DCl7ZjZA7/NkJ56W2IhXpnLmK2BQpdx5KtRxXpI+XmRNrtppF7fIDEyf9VSh/L7HIeyEYoXEQnNR1wYJ78gKAfrnluG8uvrxwfn4Qh3bePk/K5XGf477eHnuWZqwhU6Qp1iRyjCedWl1ft0Sc8F6l4vfM3Xar5V7t7t5tgIbZlvcGM2rXGiolwtpWqEOIeelm+7F8i+q5wp2ysXtO+r9lPgADrYApwWjeXCejzJqXfLD84LyqKscMz1glS1U5V73Mlrwd1smFWkUXPd4xUHWW3HK7ygoRirC7PuiTAK2grQRiWJRWiZQuyNHkUD1kVlp7ZRsSAnN/WRh5mz3Eg7Ccg1vsR5LZznEYnWFPNBibYtIhRoeOzzM11ILkxCc7FGrHEL82KbVfcEoWkdG/4pgeSvh3jg8Q0tKctLGgCB60U/zAwqkLycKOZVcA85FBFEUZiZYzS6Gju8Ds9hWUIj8bYRbyhoS5V/Pn4H/JWP75MAHXbU6TA2yDQU5gqzh+EBJYQKUYccNRmzLCUaNcl7H3P7ioNdYGBJRJ3l2UJIykYQw9B1Wd5ucTY4ZrDrva3tQI1U5QoEOgcpf6FAj3eDiuUA52R5uU4FR3a7oX+3p91b+rnxqey4cPKSh9q1hkKnxBoKvMILmrKGTEhQQlcDx4L0lxm9N5WxfDI1hziL1QEeVq4p89N2s+5xqlVjUFzFY2al4VTgSOlso2Ug6LtQ6WmsWp/bPo5FdqR/INWp/QpFmwolalqV16VES2lTfC/SkrJO06qC5lNdXPetdQ8WQCU7LrPpLdv/hOThYnwbrkbl3aRvA/25XeNSx0xyaHBePq7neCE9/C8=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-b3cff7-1-cccccc-1-s-0"><stop offset="0%" style="stop-color:#B3CFF7"/><stop offset="100%" style="stop-color:#CCCCCC"/></linearGradient><linearGradient x1="100%" y1="0%" x2="0%" y2="0%" id="mx-gradient-6600cc-1-0050ef-1-e-0"><stop offset="0%" style="stop-color:#0050ef"/><stop offset="100%" style="stop-color:#6600CC"/></linearGradient></defs><g><rect x="915" y="1020" width="470" height="430" rx="64.5" ry="64.5" fill="url(#mx-gradient-b3cff7-1-cccccc-1-s-0)" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 468px; height: 1px; padding-top: 1447px; margin-left: 916px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #FF0000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">这整个过程，检测 taskQueue 是不是清空了，没有的话就优先执行，<br />如果清空了，那么重回 requestHostTimeout 等于是 ms 时间后再调用 handleTimeout，<br />而 handleTiemout 最开始会执行 advanceTimer 这就意味着经过 ms 之后就有可能<br />timerQueue 中的任务已经到时间了，会被移到 taskQueue，此时就会触发<br />这些 task 执行</div></div></div></foreignObject><text x="1150" y="1447" fill="#FF0000" font-family="Helvetica" font-size="11px" text-anchor="middle">这整个过程，检测 taskQueue 是不是清空了，没有的话就优先执行，...</text></switch></g><path d="M 3815 1450 L 3929 1450 L 3929 1613.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3929 1618.88 L 3925.5 1611.88 L 3929 1613.63 L 3932.5 1611.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3031.31 1780 L 3031.3 1530 L 3198.63 1530" fill="none" stroke="#314354" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3203.88 1530 L 3196.88 1533.5 L 3198.63 1530 L 3196.88 1526.5 Z" fill="#314354" stroke="#314354" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1530px; margin-left: 3046px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushWork(...)</div></div></div></foreignObject><text x="3046" y="1533" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork(...)</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1734px; margin-left: 3034px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushWork(...)</div></div></div></foreignObject><text x="3034" y="1738" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork(...)</text></switch></g><rect x="1575" y="1390" width="510" height="195" rx="29.25" ry="29.25" fill="#b0e3e6" stroke="#0e8088" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 508px; height: 1px; padding-top: 1582px; margin-left: 1576px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">requestHostCallback(flushWork)，有空闲时间，执行一次渲染工作flushWork</div></div></div></foreignObject><text x="1830" y="1582" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">requestHostCallback(flushWork)，有空闲时间，执行一次渲染工作flushWork</text></switch></g><rect x="1675" y="1030" width="800" height="250" rx="37.5" ry="37.5" fill="#b0e3e6" stroke="#0e8088" stroke-dasharray="3 3" pointer-events="all"/><rect x="1725" y="360" width="280" height="560" rx="42" ry="42" fill="#fad7ac" stroke="#b46504" stroke-dasharray="3 3" pointer-events="all"/><path d="M 955 810 L 955 726.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 955 721.12 L 958.5 728.12 L 955 726.37 L 951.5 728.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1015 850 L 1088.63 850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1093.88 850 L 1086.88 853.5 L 1088.63 850 L 1086.88 846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="955" cy="850" rx="60" ry="40" fill="#f0a30a" stroke="#bd7000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 850px; margin-left: 896px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scheduler</div></div></div></foreignObject><text x="955" y="854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">Scheduler</text></switch></g><path d="M 955 660 L 955 506.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 955 501.12 L 958.5 508.12 L 955 506.37 L 951.5 508.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 895 690 L 875 690 L 875 540 L 861.37 540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 856.12 540 L 863.12 536.5 L 861.37 540 L 863.12 543.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="895" y="660" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 690px; margin-left: 896px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">目录结构(src/)</div></div></div></foreignObject><text x="955" y="694" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">目录结构(src/)</text></switch></g><path d="M 695 540 L 665 540 L 665 495 L 641.37 495" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 495 L 643.12 491.5 L 641.37 495 L 643.12 498.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 641.37 540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 540 L 643.12 536.5 L 641.37 540 L 643.12 543.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 665 540 L 665 585 L 641.37 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 585 L 643.12 581.5 L 641.37 585 L 643.12 588.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 665 540 L 665 405 L 641.37 405" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 405 L 643.12 401.5 L 641.37 405 L 643.12 408.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 665 540 L 665 665 L 641.37 665" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 665 L 643.12 661.5 L 641.37 665 L 643.12 668.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="695" y="510" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 540px; margin-left: 696px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SchedulerMinHeap.js<br />管理节点存储栈(队列)</div></div></div></foreignObject><text x="775" y="544" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SchedulerMinHeap.js...</text></switch></g><path d="M 955 440 L 955 400 L 835 400 L 835 366.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 835 361.12 L 838.5 368.12 L 835 366.37 L 831.5 368.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 955 440 L 955 400 L 1065 400 L 1065 366.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1065 361.12 L 1068.5 368.12 L 1065 366.37 L 1061.5 368.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="875" y="440" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 470px; margin-left: 876px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">forks/</div></div></div></foreignObject><text x="955" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">forks/</text></switch></g><path d="M 555 480 L 555 426.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 555 421.12 L 558.5 428.12 L 555 426.37 L 551.5 428.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 456px; margin-left: 557px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">push -&gt; siftUp(heap, ndoe, index), <br />index = push 之前的长度</div></div></div></foreignObject><text x="557" y="459" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">push -&gt; siftUp(heap, ndoe, index),...</text></switch></g><rect x="475" y="480" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 495px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push(heap, node)</div></div></div></foreignObject><text x="555" y="499" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">push(heap, node)</text></switch></g><path d="M 475 405 L 425 405 L 425 360 L 381.37 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 376.12 360 L 383.12 356.5 L 381.37 360 L 383.12 363.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="475" y="390" width="160" height="30" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 405px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">siftUp(heap, node, i)</div></div></div></foreignObject><text x="555" y="409" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">siftUp(heap, node, i)</text></switch></g><path d="M 475 665 L 427.5 665 L 427.5 720 L 386.37 720" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 381.12 720 L 388.12 716.5 L 386.37 720 L 388.12 723.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="475" y="650" width="160" height="30" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 665px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">siftDown(heap, node, i)</div></div></div></foreignObject><text x="555" y="669" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">siftDown(heap, node, i)</text></switch></g><rect x="475" y="525" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 540px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">peek(heap), heap[0]</div></div></div></foreignObject><text x="555" y="544" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">peek(heap), heap[0]</text></switch></g><path d="M 555 600 L 555 643.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 555 648.88 L 551.5 641.88 L 555 643.63 L 558.5 641.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 621px; margin-left: 557px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取 first, heap[0]=last,-&gt;<br />siftDown(heap,last,0)</div></div></div></foreignObject><text x="557" y="624" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取 first, heap[0]=last,-&gt;...</text></switch></g><rect x="475" y="570" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 585px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>pop(heap)，取第一个heap[0]</span></div></div></div></foreignObject><text x="555" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">pop(heap)，取第一个heap[0]</text></switch></g><rect x="5" y="270" width="370" height="180" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 1px; padding-top: 260px; margin-left: 10px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 190px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>siftUp(heap,node,i)</h1><div><span style="text-align: center">总是找当前元素(current)前面的集合的中间元素(mid)做为目标与当前元素进行比较，如果 current&lt;mid 则互相替换位置，如: heap=[1,7,3,9],push(heap,6),heap=[1,7,3,9,6] -&gt; siftUp(heap,6,4)，则有步骤：</span><br /></div><div><span style="text-align: center">1. 找到 6 前面的 [1,7,3,9]<br />2. 计算中间索引 parentIndex= (index - 1) &gt;&gt;&gt; 2 得到 1, 对应的值 7</span></div><div><span style="text-align: center">3. 比较 7,6 结果 7 &gt; 6 进行替换得到 heap=[1,6,3,9,7]<br />4. index=parentIndex=1，回到步骤2，(1-1)&gt;&gt;&gt;2=0，退出循环结束</span></div><div><span style="text-align: center">5. 最后 heap=[1,6,3,9,7]</span></div></div></div></div></foreignObject><text x="10" y="272" fill="#000000" font-family="Helvetica" font-size="12px">siftUp(heap,node,i)...</text></switch></g><rect x="0" y="610" width="380" height="220" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 372px; height: 1px; padding-top: 600px; margin-left: 5px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 230px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>siftDown(heap,node,i)</h1><div>pop(heap,node)-&gt;pop heap[0]-&gt; <span>heap[0]=last-&gt;siftDown(heap,node,0)<br />所以 pop 并不是数组的 [].pop()，它会返回heap[0]，然后让last变成heap[0] 之后执行 siftDown，如：heap=[0,2,1,9,4,5,3]，pop()步骤<br />1. pop() -&gt; 0 -&gt; last-&gt;first -&gt; heap=[3,2,1,9,4,5]<br />2. siftDown -&gt; half=3 -&gt;left=(index=0+1)*2-1=1=2,right=1,发现3&gt;2&gt;1所以3,1替换，最后 heap=[1,2,3,9,4,5]<br />3. index=right=1, -&gt; left=(1+1)*2-1=3=9,right=4, 3 &lt; 9且3&lt;4，退出循环，最后heap就是步骤2中的heap=[1,2,3,9,4,5]</span></div><div><br /></div><div><font style="font-size: 14px"><b>所以 siftDown 最后合目的，pop first, last -&gt; first, 找到 last 下沉直到前面的都比它小</b></font></div></div></div></div></foreignObject><text x="5" y="612" fill="#000000" font-family="Helvetica" font-size="12px">siftDown(heap,node,i)...</text></switch></g><path d="M 835 300 L 835 250 L 773.2 250 L 773.2 204.85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 773.2 199.6 L 776.7 206.6 L 773.2 204.85 L 769.7 206.6 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 810px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">主要函数</div></div></div></foreignObject><text x="810" y="253" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">主要函数</text></switch></g><rect x="755" y="300" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 330px; margin-left: 756px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scheduler.js</div></div></div></foreignObject><text x="835" y="334" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Scheduler.js</text></switch></g><path d="M 1065 300 L 1065 245 L 1094 245 L 1093.99 197.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1093.99 192.12 L 1097.49 199.12 L 1093.99 197.37 L 1090.49 199.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="985" y="300" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 330px; margin-left: 986px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SchedulerPostTask.js</div></div></div></foreignObject><text x="1065" y="334" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SchedulerPostTask.js</text></switch></g><rect x="595" y="0" width="360" height="200" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 595 51 L 955 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 595 100 L 955 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 595 151 L 955 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 765 0 L 765 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 595 0 M 955 0 M 955 51 M 595 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="0" width="170" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 595 0 M 765 0 M 765 51 M 595 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 26px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduleCallback<br />(priorityLevel,callback,options)</div></div></div></foreignObject><text x="680" y="29" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduleCallback...</text></switch></g><rect x="765" y="0" width="190" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 765 0 M 955 0 M 955 51 M 765 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 26px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调度器入口函数，决定callback 是立即执行还是进入队列排队等候</div></div></div></foreignObject><text x="860" y="29" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">调度器入口函数，决定callback 是立即执行还是进入队列排队等候</text></switch></g><path d="M 595 51 M 955 51 M 955 100 M 595 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="51" width="170" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 595 51 M 765 51 M 765 100 M 595 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 76px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushWork(hasTimeRemaining, initialTime)</div></div></div></foreignObject><text x="680" y="79" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">flushWork(hasTimeRemaining,...</text></switch></g><rect x="765" y="51" width="190" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 765 51 M 955 51 M 955 100 M 765 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 76px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flush 任务队列</div></div></div></foreignObject><text x="860" y="79" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">flush 任务队列</text></switch></g><path d="M 595 100 M 955 100 M 955 151 M 595 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="100" width="170" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 595 100 M 765 100 M 765 151 M 595 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 126px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">workLoop()</div></div></div></foreignObject><text x="680" y="129" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">workLoop()</text></switch></g><rect x="765" y="100" width="190" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 765 100 M 955 100 M 955 151 M 765 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 126px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">暂停或执行任务</div></div></div></foreignObject><text x="860" y="129" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">暂停或执行任务</text></switch></g><path d="M 595 151 M 955 151 M 955 200 M 595 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="151" width="170" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 595 151 M 765 151 M 765 200 M 595 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 176px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cancelCallBack()</div></div></div></foreignObject><text x="680" y="179" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cancelCallBack()</text></switch></g><rect x="765" y="151" width="190" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 765 151 M 955 151 M 955 200 M 765 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 176px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取消任务</div></div></div></foreignObject><text x="860" y="179" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取消任务</text></switch></g><rect x="995" y="150" width="190" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1090 150 L 1090 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 995 150 M 1185 150 M 1185 190 M 995 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="995" y="150" width="95" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 995 150 M 1090 150 M 1090 190 M 995 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 93px; height: 1px; padding-top: 170px; margin-left: 996px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runTask()</div></div></div></foreignObject><text x="1043" y="174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runTask()</text></switch></g><rect x="1090" y="150" width="95" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1090 150 M 1185 150 M 1185 190 M 1090 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 93px; height: 1px; padding-top: 170px; margin-left: 1091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行任务</div></div></div></foreignObject><text x="1138" y="174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">执行任务</text></switch></g><path d="M 1215 850 L 1378.63 850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1383.88 850 L 1376.88 853.5 L 1378.63 850 L 1376.88 846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1095" y="820" width="120" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 850px; margin-left: 1096px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scheduler.js</div></div></div></foreignObject><text x="1155" y="854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">Scheduler.js</text></switch></g><path d="M 1565 850 L 1645 850 L 1645 640 L 1718.63 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1723.88 640 L 1716.88 643.5 L 1718.63 640 L 1716.88 636.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1385" y="820" width="180" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 850px; margin-left: 1386px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduleCallback(priorityLevel, callback, options)</div></div></div></foreignObject><text x="1475" y="854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduleCallback(priorityLevel...</text></switch></g><path d="M 1860 830 L 1860 756.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1860 751.12 L 1863.5 758.12 L 1860 756.37 L 1856.5 758.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 792px; margin-left: 1861px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">任务的优先级</div></div></div></foreignObject><text x="1861" y="795" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">任务的优先级</text></switch></g><path d="M 2005 780 L 2105 780 L 2105 860 L 2198.63 860" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2203.88 860 L 2196.88 863.5 L 2198.63 860 L 2196.88 856.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1765" y="830" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 860px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. 计算当前入列的开始时间<br />performance.now() + options.delay</div></div></div></foreignObject><text x="1860" y="864" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">1. 计算当前入列的开始时间...</text></switch></g><path d="M 1955 720 L 2040 720 L 2040 665 L 2118.63 665" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2123.88 665 L 2116.88 668.5 L 2118.63 665 L 2116.88 661.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 668px; margin-left: 2043px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">timeout=</div></div></div></foreignObject><text x="2043" y="671" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">timeout=</text></switch></g><path d="M 1860 690 L 1860 616.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1860 611.12 L 1863.5 618.12 L 1860 616.37 L 1856.5 618.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 649px; margin-left: 1864px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">时间到，需要去执行的</div></div></div></foreignObject><text x="1864" y="652" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">时间到，需要去执行的</text></switch></g><rect x="1765" y="690" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 720px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2. 设置 callback 优先级,priorityLevel</div></div></div></foreignObject><text x="1860" y="724" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">2. 设置 callback 优先级,priorityLevel</text></switch></g><rect x="2125" y="565" width="400" height="200" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 605 L 2525 605" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 645 L 2525 645" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 685 L 2525 685" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 725 L 2525 725" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2255 565 L 2255 765" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 565 M 2525 565 M 2525 605 M 2125 605" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="565" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 565 M 2255 565 M 2255 605 M 2125 605" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 585px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ImmediatePriority</div></div></div></foreignObject><text x="2190" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ImmediatePriority</text></switch></g><rect x="2255" y="565" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 565 M 2525 565 M 2525 605 M 2255 605" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 585px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IMMEDIATE_PRIORITY_TIMEOUT=-1,<br />立即执行的</div></div></div></foreignObject><text x="2390" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IMMEDIATE_PRIORITY_TIMEOUT=-1,...</text></switch></g><path d="M 2125 605 M 2525 605 M 2525 645 M 2125 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="605" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 605 M 2255 605 M 2255 645 M 2125 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 625px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">UserBlockingPriority</div></div></div></foreignObject><text x="2190" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">UserBlockingPriority</text></switch></g><rect x="2255" y="605" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 605 M 2525 605 M 2525 645 M 2255 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 625px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">USER_BLOCKING_PRIORITY_TIMEOUT=250,<br />阻塞优先级</div></div></div></foreignObject><text x="2390" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">USER_BLOCKING_PRIORITY_TIMEOUT=250,...</text></switch></g><path d="M 2125 645 M 2525 645 M 2525 685 M 2125 685" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="645" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 645 M 2255 645 M 2255 685 M 2125 685" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 665px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IdlePriority</div></div></div></foreignObject><text x="2190" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IdlePriority</text></switch></g><rect x="2255" y="645" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 645 M 2525 645 M 2525 685 M 2255 685" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 665px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IDLE_PRIORITY_TIMEOUT=Math.pow(2,30)-1<br />=1073741823,最大的32位整数,空闲优先级</div></div></div></foreignObject><text x="2390" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IDLE_PRIORITY_TIMEOUT=Math.pow(2,30)-1...</text></switch></g><path d="M 2125 685 M 2525 685 M 2525 725 M 2125 725" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="685" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 685 M 2255 685 M 2255 725 M 2125 725" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 705px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">LowPriority</div></div></div></foreignObject><text x="2190" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">LowPriority</text></switch></g><rect x="2255" y="685" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 685 M 2525 685 M 2525 725 M 2255 725" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 705px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">LOW_PRIORITY_TIMEOUT=10000，低优先级</div></div></div></foreignObject><text x="2390" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">LOW_PRIORITY_TIMEOUT=10000，低优先级</text></switch></g><path d="M 2125 725 M 2525 725 M 2525 765 M 2125 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="725" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 725 M 2255 725 M 2255 765 M 2125 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 745px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NormalPriority</div></div></div></foreignObject><text x="2190" y="749" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">NormalPriority</text></switch></g><rect x="2255" y="725" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 725 M 2525 725 M 2525 765 M 2255 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 745px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NORMAL_PRIORITY_TIMEOUT=5000,正常优先级</div></div></div></foreignObject><text x="2390" y="749" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">NORMAL_PRIORITY_TIMEOUT=5000,正常优先级</text></switch></g><path d="M 1860 550 L 1860 476.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1860 471.12 L 1863.5 478.12 L 1860 476.37 L 1856.5 478.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 508px; margin-left: 1865px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">将 callback 按照一定规则封装成一个对象</div></div></div></foreignObject><text x="1865" y="511" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">将 callback 按照一定规则封装成一个对象</text></switch></g><rect x="1765" y="550" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 580px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">3. 到期时间expirationTime=startTime+timeout</div></div></div></foreignObject><text x="1860" y="584" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">3. 到期时间expirationTime=startTime+tim...</text></switch></g><path d="M 1955 440 L 2045 440 L 2045 350 L 2128.63 350" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2133.88 350 L 2126.88 353.5 L 2128.63 350 L 2126.88 346.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1765" y="410" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 440px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4. newTask=任务对象封装</div></div></div></foreignObject><text x="1860" y="444" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">4. newTask=任务对象封装</text></switch></g><rect x="2135" y="290" width="250" height="240" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 330 L 2385 330" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 370 L 2385 370" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 410 L 2385 410" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 450 L 2385 450" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 490 L 2385 490" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2225 290 L 2225 530" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 290 M 2385 290 M 2385 330 M 2135 330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="290" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 290 M 2225 290 M 2225 330 M 2135 330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 310px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">id</div></div></div></foreignObject><text x="2180" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">id</text></switch></g><rect x="2225" y="290" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 290 M 2385 290 M 2385 330 M 2225 330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 310px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">taskIdCounter++,一个全局的计数 id</div></div></div></foreignObject><text x="2305" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">taskIdCounter++,一个全局的计数 id</text></switch></g><path d="M 2135 330 M 2385 330 M 2385 370 M 2135 370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="330" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 330 M 2225 330 M 2225 370 M 2135 370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 350px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback</div></div></div></foreignObject><text x="2180" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback</text></switch></g><rect x="2225" y="330" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 330 M 2385 330 M 2385 370 M 2225 370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 350px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">任务函数</div></div></div></foreignObject><text x="2305" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">任务函数</text></switch></g><path d="M 2135 370 M 2385 370 M 2385 410 M 2135 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="370" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 370 M 2225 370 M 2225 410 M 2135 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 390px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">priorityLevel</div></div></div></foreignObject><text x="2180" y="394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">priorityLevel</text></switch></g><rect x="2225" y="370" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 370 M 2385 370 M 2385 410 M 2225 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 390px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback 执行的优先级</div></div></div></foreignObject><text x="2305" y="394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback 执行的优先级</text></switch></g><path d="M 2135 410 M 2385 410 M 2385 450 M 2135 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="410" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 410 M 2225 410 M 2225 450 M 2135 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 430px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">startTime</div></div></div></foreignObject><text x="2180" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">startTime</text></switch></g><rect x="2225" y="410" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 410 M 2385 410 M 2385 450 M 2225 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 430px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback 应该入列的时间</div></div></div></foreignObject><text x="2305" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback 应该入列的时间</text></switch></g><path d="M 2135 450 M 2385 450 M 2385 490 M 2135 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="450" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 450 M 2225 450 M 2225 490 M 2135 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 470px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">expirationTime</div></div></div></foreignObject><text x="2180" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">expirationTime</text></switch></g><rect x="2225" y="450" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 450 M 2385 450 M 2385 490 M 2225 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 470px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback 应该执行的时间</div></div></div></foreignObject><text x="2305" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback 应该执行的时间</text></switch></g><path d="M 2135 490 M 2385 490 M 2385 530 M 2135 530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="490" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 490 M 2225 490 M 2225 530 M 2135 530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 510px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sortIndex</div></div></div></foreignObject><text x="2180" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sortIndex</text></switch></g><rect x="2225" y="490" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 490 M 2385 490 M 2385 530 M 2225 530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 510px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">-1</div></div></div></foreignObject><text x="2305" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">-1</text></switch></g><path d="M 2395 860 L 2648.63 860" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2653.88 860 L 2646.88 863.5 L 2648.63 860 L 2646.88 856.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2205" y="830" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 860px; margin-left: 2206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如何处理 newTask ?</div></div></div></foreignObject><text x="2300" y="864" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">如何处理 newTask ?</text></switch></g><path d="M 2735 900 L 2735 933.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2735 938.88 L 2731.5 931.88 L 2735 933.63 L 2738.5 931.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 916px; margin-left: 2735px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">yes</div></div></div></foreignObject><text x="2735" y="919" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">yes</text></switch></g><path d="M 2815 860 L 2990 860 L 2990 1402.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2990 1407.88 L 2986.5 1400.88 L 2990 1402.63 L 2993.5 1400.88 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1047px; margin-left: 2990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">no</div></div></div></foreignObject><text x="2990" y="1050" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">no</text></switch></g><path d="M 2735 820 L 2815 860 L 2735 900 L 2655 860 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 860px; margin-left: 2656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">startTime&gt;currentTime?</div></div></div></foreignObject><text x="2735" y="864" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">startTime&gt;currentTime?</text></switch></g><path d="M 2645 1180 L 2575 1180 L 2575 1070 L 2431.37 1070" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2426.12 1070 L 2433.12 1066.5 L 2431.37 1070 L 2433.12 1073.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1071px; margin-left: 2556px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取 taskQueue[0] === null?<br />newTask === timerQueue[0]?</div></div></div></foreignObject><text x="2556" y="1074" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取 taskQueue[0] === null?...</text></switch></g><path d="M 2735 1000 L 2735 1143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2735 1148.88 L 2731.5 1141.88 L 2735 1143.63 L 2738.5 1141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2675" y="940" width="120" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 970px; margin-left: 2676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">设置 sortIndex=startTime</div></div></div></foreignObject><text x="2735" y="974" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">设置 sortIndex=startTime</text></switch></g><path d="M 2905 1439 L 2855.37 1439" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2850.12 1439 L 2857.12 1435.5 L 2855.37 1439 L 2857.12 1442.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1438px; margin-left: 2886px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">入列</div></div></div></foreignObject><text x="2886" y="1441" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">入列</text></switch></g><rect x="2905" y="1409" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1439px; margin-left: 2906px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">设置 sortIndex=expirationTime</div></div></div></foreignObject><text x="2990" y="1443" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">设置 sortIndex=expirationTime</text></switch></g><path d="M 2669 1439 L 2637 1439 L 2637 1369 L 2611.37 1369" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2606.12 1369 L 2613.12 1365.5 L 2611.37 1369 L 2613.12 1372.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2669" y="1409" width="180" height="60" fill="url(#mx-gradient-6600cc-1-0050ef-1-e-0)" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1439px; margin-left: 2670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push(timerQueue,newTask)</div></div></div></foreignObject><text x="2759" y="1443" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">push(timerQueue,newTask)</text></switch></g><rect x="2645" y="1150" width="180" height="60" fill="url(#mx-gradient-6600cc-1-0050ef-1-e-0)" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1180px; margin-left: 2646px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push(timerQueue,newTask)</div></div></div></foreignObject><text x="2735" y="1184" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">push(timerQueue,newTask)</text></switch></g><path d="M 2385 1110 L 2385 1143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2385 1148.88 L 2381.5 1141.88 L 2385 1143.63 L 2388.5 1141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1126px; margin-left: 2384px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="2384" y="1129" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 2385 1030 L 2425 1070 L 2385 1110 L 2345 1070 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1070px; margin-left: 2346px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">newTask first?</div></div></div></foreignObject><text x="2385" y="1074" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">newTask first?</text></switch></g><path d="M 2295 1180 L 2275 1180 L 2295 1180 L 2281.37 1180" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2276.12 1180 L 2283.12 1176.5 L 2281.37 1180 L 2283.12 1183.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2295" y="1150" width="180" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1180px; margin-left: 2296px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">所有的task都delayed且这个newTask还是最早要触发的</div></div></div></foreignObject><text x="2385" y="1184" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">所有的task都delayed且这个newTask还是最早要触发的</text></switch></g><path d="M 2075 1180 L 1944.12 1180" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1938.87 1180 L 1945.87 1176.5 L 1944.12 1180 L 1945.87 1183.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1175px; margin-left: 2014px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取消已经存在的 timeout</div></div></div></foreignObject><text x="2014" y="1178" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取消已经存在的 timeout</text></switch></g><path d="M 2175 1140 L 2175 1120 L 2175 1130 L 2175 1116.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 1111.12 L 2178.5 1118.12 L 2175 1116.37 L 2171.5 1118.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1122px; margin-left: 2177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="2177" y="1125" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 2175 1140 L 2275 1180 L 2175 1220 L 2075 1180 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1180px; margin-left: 2076px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>isHostTimeoutScheduled</span></div></div></div></foreignObject><text x="2175" y="1184" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">isHostTimeoutScheduled</text></switch></g><path d="M 1865.4 1150 L 1865.4 1130 L 1864.79 1116.36" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1864.55 1111.12 L 1868.36 1117.95 L 1864.79 1116.36 L 1861.37 1118.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1865.38 1210 L 1865.4 1260 L 1626.87 1260" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1621.62 1260 L 1628.62 1256.5 L 1626.87 1260 L 1628.62 1263.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1793" y="1150" width="144.75" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1180px; margin-left: 1794px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cancelHostTimeout()</div></div></div></foreignObject><text x="1865" y="1184" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">cancelHostTimeout()</text></switch></g><path d="M 2085 1080 L 2000.37 1080" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1995.12 1080 L 2002.12 1076.5 L 2000.37 1080 L 2002.12 1083.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2085" y="1050" width="180" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1080px; margin-left: 2086px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>isHostTimeoutScheduled = true</span></div></div></div></foreignObject><text x="2175" y="1084" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">isHostTimeoutScheduled = true</text></switch></g><path d="M 1735 1080 L 1661.37 1080" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1656.12 1080 L 1663.12 1076.5 L 1661.37 1080 L 1663.12 1083.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1735" y="1050" width="259" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 257px; height: 1px; padding-top: 1080px; margin-left: 1736px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>requestHostTimeout(handleTimeout, startTime-currentTime)</span></div></div></div></foreignObject><text x="1865" y="1084" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">requestHostTimeout(handleTimeout, startTime...</text></switch></g><path d="M 2160 1439 L 2122.5 1439 L 2091.37 1438.79" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2086.12 1438.76 L 2093.14 1435.3 L 2091.37 1438.79 L 2093.09 1442.3 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2160" y="1409" width="210" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1439px; margin-left: 2161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isHostCallbackScheduled=true<br />requestHostCallback(flushWork)</div></div></div></foreignObject><text x="2265" y="1443" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isHostCallbackScheduled=true...</text></switch></g><path d="M 1525.5 1230 L 1525.5 1116.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1525.5 1111.12 L 1529 1118.12 L 1525.5 1116.37 L 1522 1118.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1179px; margin-left: 1531px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">taskTimeoutID,<br /><font color="#ff0000">这里有可能上一个还没完成</font></div></div></div></foreignObject><text x="1531" y="1182" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">taskTimeoutID,...</text></switch></g><rect x="1430.5" y="1230" width="190" height="60" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1260px; margin-left: 1432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">clearTimeout(taskTimeoutID)</div></div></div></foreignObject><text x="1526" y="1264" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">clearTimeout(taskTimeoutID)</text></switch></g><path d="M 1396 1080 L 1323.37 1080" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1318.12 1080 L 1325.12 1076.5 L 1323.37 1080 L 1325.12 1083.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1396" y="1050" width="259" height="60" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 257px; height: 1px; padding-top: 1080px; margin-left: 1397px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">taskTimeoutID=setTimeout(()=&gt; <br />handleTimeout(),ms)</div></div></div></foreignObject><text x="1526" y="1084" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">taskTimeoutID=setTimeout(()=&gt;...</text></switch></g><path d="M 1818 1439 L 1771.87 1439" fill="none" stroke="#10739e" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1766.62 1439 L 1773.62 1435.5 L 1771.87 1439 L 1773.62 1442.5 Z" fill="#10739e" stroke="#10739e" stroke-miterlimit="10" pointer-events="all"/><rect x="1818" y="1409" width="195" height="60" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1439px; margin-left: 1819px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduledHostCallback=callback</div></div></div></foreignObject><text x="1916" y="1443" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduledHostCallback=callback</text></switch></g><path d="M 1679.25 1479 L 1679.3 1519 L 1759.13 1519" fill="none" stroke="#10739e" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1764.38 1519 L 1757.38 1522.5 L 1759.13 1519 L 1757.38 1515.5 Z" fill="#10739e" stroke="#10739e" stroke-miterlimit="10" pointer-events="all"/><path d="M 1679.25 1399 L 1765.5 1439 L 1679.25 1479 L 1593 1439 Z" fill="#b1ddf0" stroke="#10739e" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 1439px; margin-left: 1594px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isMessageLoopRunning?</div></div></div></foreignObject><text x="1679" y="1443" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">isMessageLoopRunning?</text></switch></g><path d="M 1987.25 1519 L 2065 1519 L 2065 1670 L 2182.76 1670" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2188.01 1670 L 2181.01 1673.5 L 2182.76 1670 L 2181.01 1666.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="1765.5" y="1489" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1519px; margin-left: 1767px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>isMessageLoopRunning = true</div><div>    schedulePerformWorkUntilDeadline()</div></div></div></div></foreignObject><text x="1876" y="1523" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isMessageLoopRunning = true...</text></switch></g><path d="M 2189.13 1655 L 2169.1 1655 L 2169.1 1560 L 2182.76 1560" fill="none" stroke="#3a5431" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2188.01 1560 L 2181.01 1563.5 L 2182.76 1560 L 2181.01 1556.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><path d="M 2410.88 1670 L 2484.51 1670" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2489.76 1670 L 2482.76 1673.5 L 2484.51 1670 L 2482.76 1666.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1510" width="260" height="110" fill="none" stroke="#c73500" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2189.13 1543 L 2449.13 1543" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2189.13 1577 L 2449.13 1577" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2289.13 1510 L 2289.13 1620" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2189.13 1510 M 2449.13 1510 M 2449.13 1543 M 2189.13 1543" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1510" width="100" height="33" fill="none" stroke="none" pointer-events="all"/><path d="M 2189.13 1510 M 2289.13 1510 M 2289.13 1543 M 2189.13 1543" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1527px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 29px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Node.js 和 old IE</div></div></div></foreignObject><text x="2239" y="1530" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Node.js 和 old IE</text></switch></g><rect x="2289.13" y="1510" width="160" height="33" fill="none" stroke="none" pointer-events="all"/><path d="M 2289.13 1510 M 2449.13 1510 M 2449.13 1543 M 2289.13 1543" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1527px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 29px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">使用 setImmediate</div></div></div></foreignObject><text x="2369" y="1530" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">使用 setImmediate</text></switch></g><path d="M 2189.13 1543 M 2449.13 1543 M 2449.13 1577 M 2189.13 1577" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1543" width="100" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 2189.13 1543 M 2289.13 1543 M 2289.13 1577 M 2189.13 1577" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1560px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 30px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MessageChannel</div></div></div></foreignObject><text x="2239" y="1564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">MessageChannel</text></switch></g><rect x="2289.13" y="1543" width="160" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 2289.13 1543 M 2449.13 1543 M 2449.13 1577 M 2289.13 1577" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1560px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 30px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">通道能力</div></div></div></foreignObject><text x="2369" y="1564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">通道能力</text></switch></g><path d="M 2189.13 1577 M 2449.13 1577 M 2449.13 1620 M 2189.13 1620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1577" width="100" height="43" fill="none" stroke="none" pointer-events="all"/><path d="M 2189.13 1577 M 2289.13 1577 M 2289.13 1620 M 2189.13 1620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1599px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 39px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">setTimeout</div></div></div></foreignObject><text x="2239" y="1602" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">setTimeout</text></switch></g><rect x="2289.13" y="1577" width="160" height="43" fill="none" stroke="none" pointer-events="all"/><path d="M 2289.13 1577 M 2449.13 1577 M 2449.13 1620 M 2289.13 1620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1599px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 39px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">这个是最后的选择，因为 4ms 问题，所以优先用 MessageChannel</div></div></div></foreignObject><text x="2369" y="1602" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">这个是最后的选择，因为 4ms 问题，所以优先用 MessageChannel</text></switch></g><path d="M 2317.5 1469 Q 2317.5 1539.5 2626.75 1539.5 Q 2936 1539.5 2936 1603.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2936 1608.88 L 2932.5 1601.88 L 2936 1603.63 L 2939.5 1601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1544px; margin-left: 2707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">此时的 scheduleHostCallback 就是 flushWork</div></div></div></foreignObject><text x="2707" y="1547" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">此时的 scheduleHostCallback 就是 flushWork</text></switch></g><rect x="2490.88" y="1640" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1670px; margin-left: 2492px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div><span>这里使用 MessageChannel-&gt;channel.port2.postMessage(null)</span><br /></div></div></div></div></foreignObject><text x="2602" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">这里使用 MessageChannel-&gt;channel.port2.postMe...</text></switch></g><path d="M 2490.88 1610 L 2632.88 1610 L 2632.88 1640 L 2520.88 1640 L 2505.88 1660 L 2490.88 1640 Z" fill="#10739e" stroke="none" pointer-events="all"/><path d="M 2490.88 1610 L 2520.88 1610 L 2520.88 1640 L 2505.88 1660 L 2490.88 1640 Z" fill-opacity="0.2" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1622px; margin-left: 2562px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">PORT2</div></div></div></foreignObject><text x="2562" y="1636" fill="#ffffff" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">PORT2</text></switch></g><rect x="2865" y="1640" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1670px; margin-left: 2866px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>channel.port1 接受，只要有消息过来就会执行 performWorkUntilDeadline</div></div></div></div></foreignObject><text x="2976" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">channel.port1 接受，只要有消息过来就会执行 performWorkUntilDeadli...</text></switch></g><path d="M 2865 1610 L 3007 1610 L 3007 1640 L 2895 1640 L 2880 1660 L 2865 1640 Z" fill="#10739e" stroke="none" pointer-events="all"/><path d="M 2865 1610 L 2895 1610 L 2895 1640 L 2880 1660 L 2865 1640 Z" fill-opacity="0.2" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1622px; margin-left: 2936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">PORT1</div></div></div></foreignObject><text x="2936" y="1636" fill="#ffffff" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">PORT1</text></switch></g><path d="M 2865 1810 Q 2865 1810 2730.49 1810" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2725.24 1810 L 2732.24 1806.5 L 2730.49 1810 L 2732.24 1813.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1810px; margin-left: 2796px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">不论flushWork结果如何</div></div></div></foreignObject><text x="2796" y="1813" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">不论flushWork结果如何</text></switch></g><rect x="2865" y="1780" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1810px; margin-left: 2866px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>hasMoreWork = scheduleHostCallback(hasTimeRemaining, currentTime) 执行 flushWork(...)</div></div></div></div></foreignObject><text x="2976" y="1814" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">hasMoreWork = scheduleHostCallback(ha...</text></switch></g><path d="M 2624.13 1810 Q 2624.13 1810 2521.37 1810" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2516.12 1810 L 2523.12 1806.5 L 2521.37 1810 L 2523.12 1813.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1813px; margin-left: 2561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">都要执行</div></div></div></foreignObject><text x="2561" y="1816" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">都要执行</text></switch></g><path d="M 2614.13 1840 L 2634.13 1780 L 2734.13 1780 L 2714.13 1840 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1810px; margin-left: 2615px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">finally{...}</div></div></div></foreignObject><text x="2674" y="1814" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">finally{...}</text></switch></g><path d="M 2385 1810 L 2294 1810 L 2294.02 1705.35" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2294.02 1700.1 L 2297.52 1707.1 L 2294.02 1705.35 L 2290.52 1707.1 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1771px; margin-left: 2292px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true,在当前空闲时间内，如果还<br />有其它任务要做，继续回到 port2  发<br />信号给 port1 </div></div></div></foreignObject><text x="2292" y="1775" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true,在当前空闲时间内，如果还...</text></switch></g><path d="M 2450 1850 L 2450 1933.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2450 1938.88 L 2446.5 1931.88 L 2450 1933.63 L 2453.5 1931.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1892px; margin-left: 2453px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false, 当前空闲时间内完成了该做的任务</div></div></div></foreignObject><text x="2453" y="1895" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false, 当前空闲时间内完成了该做的任务</text></switch></g><path d="M 2450 1770 L 2515 1810 L 2450 1850 L 2385 1810 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1810px; margin-left: 2386px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">hasMoreWork?</div></div></div></foreignObject><text x="2450" y="1814" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">hasMoreWork?</text></switch></g><path d="M 2352.5 1970 L 1555 1970 L 1555 1439 L 1586.63 1439" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1591.88 1439 L 1584.88 1442.5 L 1586.63 1439 L 1584.88 1435.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1940px; margin-left: 1966px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置 loop 标记，让管道能继续接受到信号，也就是说 isMessageLoopRunning <br />用来控制管道一次只能接受一个信号，处理一次 flushWork</div></div></div></foreignObject><text x="1966" y="1944" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">重置 loop 标记，让管道能继续接受到信号，也就是说 isMessageLoopRunning...</text></switch></g><rect x="2352.5" y="1940" width="195" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1970px; margin-left: 2354px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isMessageLoopRunning = false<br />scheduledHostCallback = null</div></div></div></foreignObject><text x="2450" y="1974" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isMessageLoopRunning = false...</text></switch></g><rect x="2633" y="1870" width="252" height="160" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 244px; height: 1px; padding-top: 1860px; margin-left: 2638px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 170px; overflow: hidden; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>finally</h1><div>使用 try{ flushWork()... } finally 目的是防止当前任务出现异常阻碍后续流程，finally 始终要能执行下去的好处：</div><div>1. 继续处理后续 work<br />2. 重置管道标记，让管道始终保持畅通</div></div></div></div></foreignObject><text x="2638" y="1874" fill="#000000" font-family="Helvetica" font-size="14px">finally...</text></switch></g><path d="M 3285 1710 L 3285 1810 L 3093.12 1810" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3087.87 1810 L 3094.87 1806.5 L 3093.12 1810 L 3094.87 1813.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1791px; margin-left: 3256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="font-size: 11px">hasMoreWork = true, 标记还有其它任务要做</span></div></div></div></foreignObject><text x="3256" y="1795" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">hasMoreWork = true, 标记还有其它任务要做</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1749px; margin-left: 3287px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true, =flushWork?</div></div></div></foreignObject><text x="3287" y="1752" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true, =flushWork?</text></switch></g><path d="M 3375 1670 L 3405 1670 L 3405 2050 L 2498.8 2050 L 2498.76 2006.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2498.75 2001.12 L 2502.26 2008.11 L 2498.76 2006.37 L 2495.26 2008.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2051px; margin-left: 3206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false, 当前没有要做的事情(work), 重置标记</div></div></div></foreignObject><text x="3206" y="2054" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false, 当前没有要做的事情(work), 重置标记</text></switch></g><path d="M 3285 1630 L 3375 1670 L 3285 1710 L 3195 1670 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1670px; margin-left: 3196px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduledHostCallback?</div></div></div></foreignObject><text x="3285" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduledHostCallback?</text></switch></g><path d="M 3086.75 1670 L 3188.63 1670" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3193.88 1670 L 3186.88 1673.5 L 3188.63 1670 L 3186.88 1666.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="3175" y="1920" width="120" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1950px; margin-left: 3176px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">needsPaint = false</div></div></div></foreignObject><text x="3235" y="1953" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">needsPaint = false</text></switch></g><path d="M 3295 1500 L 3295 1309 L 2994 1309 C 2994 1303.8 2986 1303.8 2986 1309 L 2986 1309 L 2505 1309 L 2505 1322.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2505 1327.88 L 2501.5 1320.88 L 2505 1322.63 L 2508.5 1320.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1351px; margin-left: 3009px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置这两个标记，表示任务在执行了，入列的时候<br />阻止flush动作，只作单纯的入列操作<br />1. isHostCallbackScheduled=false<br />2. isPerformingWork=true，标记正在执行任务</div></div></div></foreignObject><text x="3009" y="1354" fill="#000000" font-family="Helvetica" font-size="11px">重置这两个标记，表示任务在执行了，入列的时候阻止flush动作，只作单纯的入列操作...</text></switch></g><path d="M 3307.03 1560 Q 3307 1650 3511.88 1650" fill="none" stroke="#b20000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3518.88 1650 L 3511.88 1653.5 L 3511.88 1646.5 Z" fill="none" stroke="#b20000" stroke-miterlimit="10" pointer-events="all"/><rect x="3205" y="1500" width="190" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1530px; margin-left: 3206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushWork(hasTimeRemaining, initialTime)</div></div></div></foreignObject><text x="3300" y="1533" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork(hasTimeRemaining, initia...</text></switch></g><path d="M 3086.75 1685 L 3130.9 1685 L 3130.9 1806 C 3136.1 1806 3136.1 1814 3130.9 1814 L 3130.9 1814 L 3130.9 1950 L 3168.63 1950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3173.88 1950 L 3166.88 1953.5 L 3168.63 1950 L 3166.88 1946.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 3130px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">函数执行完成之后，置为 false</div></div></div></foreignObject><text x="3130" y="1904" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">函数执行完成之后，置为 false</text></switch></g><rect x="2189.13" y="1640" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1670px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div><span>schedulePerformWorkUntilDeadline </span></div><div>有任务就往管道发信号</div></div></div></div></foreignObject><text x="2300" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">schedulePerformWorkUntilDeadline...</text></switch></g><rect x="2189.13" y="1680" width="25.87" height="20" fill="none" stroke="none" pointer-events="all"/><ellipse cx="2195.3" cy="1683.57" rx="3.5277272727272733" ry="2.8571428571428568" fill="#888888" stroke="none" pointer-events="all"/><ellipse cx="2192.36" cy="1689.52" rx="3.23375" ry="2.619047619047619" fill="#999999" stroke="none" pointer-events="all"/><ellipse cx="2195.3" cy="1695.48" rx="2.9397727272727274" ry="2.380952380952381" fill="#aaaaaa" stroke="none" pointer-events="all"/><ellipse cx="2202.65" cy="1697.86" rx="2.6457954545454547" ry="2.142857142857143" fill="#bbbbbb" stroke="none" pointer-events="all"/><ellipse cx="2210" cy="1695.48" rx="2.351818181818182" ry="1.9047619047619047" fill="#cccccc" stroke="none" pointer-events="all"/><ellipse cx="2212.94" cy="1689.52" rx="2.0578409090909093" ry="1.6666666666666665" fill="#dddddd" stroke="none" pointer-events="all"/><ellipse cx="2210" cy="1683.57" rx="1.7638636363636366" ry="1.4285714285714284" fill="#eeeeee" stroke="none" pointer-events="all"/><ellipse cx="2202.65" cy="1681.19" rx="1.4698863636363637" ry="1.1904761904761905" fill="#f3f3f3" stroke="none" pointer-events="all"/><path d="M 2713.13 1675 L 2713.13 1665 L 2845.5 1665 L 2845.5 1654.5 L 2864.5 1670 L 2845.5 1685.5 L 2845.5 1675 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="2747" y="1649" width="78" height="42" fill="none" stroke="none" pointer-events="all"/><path d="M 2749.8 1649 C 2748.37 1649 2747.21 1650.16 2747.21 1651.59 L 2747.21 1688.41 C 2747.21 1689.84 2748.37 1691 2749.8 1691 L 2762.77 1691 C 2764.2 1691 2765.36 1689.84 2765.36 1688.41 L 2765.36 1684.73 L 2806.64 1684.73 L 2806.64 1688.41 C 2806.64 1689.84 2807.8 1691 2809.23 1691 L 2822.2 1691 C 2822.89 1691 2823.55 1690.73 2824.04 1690.24 C 2824.52 1689.75 2824.79 1689.09 2824.79 1688.41 L 2824.79 1651.59 C 2824.79 1650.9 2824.52 1650.25 2824.04 1649.76 C 2823.55 1649.27 2822.89 1649 2822.2 1649 L 2809.23 1649 C 2807.8 1649 2806.64 1650.16 2806.64 1651.59 L 2806.64 1655.27 L 2765.36 1655.27 L 2765.36 1651.59 C 2765.36 1650.16 2764.2 1649 2762.77 1649 Z M 2750.51 1652.3 L 2762.06 1652.3 L 2762.06 1687.7 L 2750.51 1687.7 Z M 2809.94 1652.3 L 2821.49 1652.3 L 2821.49 1687.7 L 2809.94 1687.7 Z M 2765.36 1658.58 L 2806.64 1658.58 L 2806.64 1681.42 L 2765.36 1681.42 Z M 2784.15 1661.2 L 2784.15 1664.5 L 2795.58 1664.5 L 2795.58 1661.2 Z M 2798.07 1661.2 L 2798.07 1664.5 L 2803.47 1664.5 L 2803.47 1661.2 Z" fill="#277116" stroke="none" pointer-events="all"/><path d="M 2405 1369 L 2390 1369 L 2390 1439 L 2376.37 1439" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2371.12 1439 L 2378.12 1435.5 L 2376.37 1439 L 2378.12 1442.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2505 1329 L 2605 1369 L 2505 1409 L 2405 1369 Z" fill="url(#mx-gradient-6600cc-1-0050ef-1-e-0)" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1369px; margin-left: 2406px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!isHostCallbackScheduled&amp;&amp;<br />!isPerformingWork</div></div></div></foreignObject><text x="2505" y="1373" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">!isHostCallbackScheduled&amp;&amp;...</text></switch></g><rect x="2405" y="1419" width="200" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1439px; margin-left: 2505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">flushWork 中这两个变量会被置为 false<br />条件1: 有 flushWork 正在执行<br />条件2: workLoop 正在执行</div></div></div></foreignObject><text x="2505" y="1442" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork 中这两个变量会被置为 false...</text></switch></g><path d="M 3698 1350 L 3698 1240 L 2994 1240 C 2994 1234.8 2986 1234.8 2986 1240 L 2986 1240 L 2175 1240 L 2175 1226.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2175 1221.12 L 2178.5 1228.12 L 2175 1226.37 L 2171.5 1228.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1242px; margin-left: 3227px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置 timerQueue 的标记，表示：虽然你的任务被停止执行了<br />但是你正在又可以重新触发任务执行</div></div></div></foreignObject><text x="3227" y="1245" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">重置 timerQueue 的标记，表示：虽然你的任务被停止执行了...</text></switch></g><path d="M 3825 1650 L 3732.37 1650" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3727.12 1650 L 3734.12 1646.5 L 3732.37 1650 L 3734.12 1653.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1652px; margin-left: 3779px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">try</div></div></div></foreignObject><text x="3779" y="1655" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">try</text></switch></g><path d="M 3929 1680 L 3929 1723.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3929 1728.88 L 3925.5 1721.88 L 3929 1723.63 L 3932.5 1721.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1706px; margin-left: 3930px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">finally, 清理</div></div></div></foreignObject><text x="3930" y="1709" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">finally, 清理</text></switch></g><rect x="3825" y="1620" width="208" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 206px; height: 1px; padding-top: 1650px; margin-left: 3826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">try{ workLoop }finally</div></div></div></foreignObject><text x="3929" y="1653" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">try{ workLoop }finally</text></switch></g><rect x="3575" y="1320" width="240" height="260" rx="36" ry="36" fill="#a9c4eb" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><path d="M 3698 1489 L 3786 1529 L 3698 1569 L 3610 1529 Z" fill="#647687" stroke="#314354" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 174px; height: 1px; padding-top: 1529px; margin-left: 3611px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isHostTimeoutScheduled</div></div></div></foreignObject><text x="3698" y="1532" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">isHostTimeoutScheduled</text></switch></g><rect x="3595" y="1350" width="206" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1380px; margin-left: 3596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isHostTimeoutScheduled = false<br />cancelHostTimeout()</div></div></div></foreignObject><text x="3698" y="1383" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">isHostTimeoutScheduled = false...</text></switch></g><path d="M 3698 1489 L 3698 1416.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3698 1411.12 L 3701.5 1418.12 L 3698 1416.37 L 3694.5 1418.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1447px; margin-left: 3701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true, 取消这个任务，你还要再等等</div></div></div></foreignObject><text x="3701" y="1450" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true, 取消这个任务，你还要再等等</text></switch></g><path d="M 3395 1530 L 3603.63 1529" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3608.88 1529 L 3601.88 1532.5 L 3603.63 1529 L 3601.88 1525.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1532px; margin-left: 3495px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1. timerQueue 中的任务<br />已经启动计时器了？</div></div></div></foreignObject><text x="3495" y="1535" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1. timerQueue 中的任务...</text></switch></g><path d="M 3623 1680 L 3623 1773.63" fill="none" stroke="#432d57" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3623 1778.88 L 3619.5 1771.88 L 3623 1773.63 L 3626.5 1771.88 Z" fill="#432d57" stroke="#432d57" stroke-miterlimit="10" pointer-events="all"/><rect x="3520" y="1620" width="206" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1650px; margin-left: 3521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return workLoop(hasTimeRemaining, initialTime)</div></div></div></foreignObject><text x="3623" y="1653" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">return workLoop(hasTimeRemaining, ini...</text></switch></g><rect x="3817.5" y="1730" width="223" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 221px; height: 1px; padding-top: 1760px; margin-left: 3819px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask = null<br />currentPriorityLevel = previousPriorityLevel<br />isPerformingWork=false</div></div></div></foreignObject><text x="3929" y="1763" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask = null...</text></switch></g><path d="M 3623 1840 L 3623 1913.63" fill="none" stroke="#432d57" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3623 1918.88 L 3619.5 1911.88 L 3623 1913.63 L 3626.5 1911.88 Z" fill="#432d57" stroke="#432d57" stroke-miterlimit="10" pointer-events="all"/><path d="M 3514 1840 L 3534 1780 L 3732 1780 L 3712 1840 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 216px; height: 1px; padding-top: 1810px; margin-left: 3515px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(255 , 255 , 255)">workLoop(...)</span></div></div></div></foreignObject><text x="3623" y="1813" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">workLoop(...)</text></switch></g><path d="M 3623 1980 L 3623 2053.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3623 2058.88 L 3619.5 2051.88 L 3623 2053.63 L 3626.5 2051.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3528" y="1920" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1950px; margin-left: 3529px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">advanceTimers(currentTime)<br />过滤出已过期的到 taskQueue</div></div></div></foreignObject><text x="3623" y="1953" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">advanceTimers(currentTime)...</text></switch></g><path d="M 3718 2090 L 3826.63 2090" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3831.88 2090 L 3824.88 2093.5 L 3826.63 2090 L 3824.88 2086.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3528" y="2060" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2090px; margin-left: 3529px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask = peek(taskQueue)<br />第一个出列</div></div></div></foreignObject><text x="3623" y="2093" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask = peek(taskQueue)...</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 1930 L 4026.63 1930" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4031.88 1930 L 4024.88 1933.5 L 4026.63 1930 L 4024.88 1926.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1931px; margin-left: 3996px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step1</div></div></div></foreignObject><text x="3996" y="1934" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step1</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 2040 L 4028.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4033.88 2040 L 4026.88 2043.5 L 4028.63 2040 L 4026.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2041px; margin-left: 3996px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step2</div></div></div></foreignObject><text x="3996" y="2044" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step2</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 2330 L 3911.37 2330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3906.12 2330 L 3913.12 2326.5 L 3911.37 2330 L 3913.12 2333.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2331px; margin-left: 3936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step3</div></div></div></foreignObject><text x="3936" y="2334" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step3</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 2430 L 3661.37 2430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3656.12 2430 L 3663.12 2426.5 L 3661.37 2430 L 3663.12 2433.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2430px; margin-left: 3735px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step4</div></div></div></foreignObject><text x="3735" y="2433" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step4</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2292px; margin-left: 3967px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">while 结束</div></div></div></foreignObject><text x="3967" y="2295" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">while 结束</text></switch></g><path d="M 3853 2060 L 3925 2060 L 3945 2090 L 3925 2120 L 3853 2120 L 3833 2090 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 110px; height: 1px; padding-top: 2090px; margin-left: 3834px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">while(currentTask)</div></div></div></foreignObject><text x="3889" y="2093" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">while(currentTask)</text></switch></g><path d="M 4153 1930 L 4246.63 1930" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4251.88 1930 L 4244.88 1933.5 L 4246.63 1930 L 4244.88 1926.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1921px; margin-left: 4206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">expirationTime</div></div></div></foreignObject><text x="4206" y="1924" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">expirationTime</text></switch></g><rect x="4033" y="1900" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1930px; margin-left: 4034px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">检查有没有过期或有没空闲时间</div></div></div></foreignObject><text x="4093" y="1933" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">检查有没有过期或有没空闲时间</text></switch></g><path d="M 4155 2040 L 4248.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4253.88 2040 L 4246.88 2043.5 L 4248.63 2040 L 4246.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4035" y="2010" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2040px; margin-left: 4036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">检测 task.callback 是不是函数</div></div></div></foreignObject><text x="4095" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">检测 task.callback 是不是函数</text></switch></g><path d="M 3785 2330 L 3636.37 2330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3631.12 2330 L 3638.12 2326.5 L 3636.37 2330 L 3638.12 2333.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2311px; margin-left: 3699px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">目的让 task 重新走<br />一遍完整的管道流程</div></div></div></foreignObject><text x="3699" y="2314" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">目的让 task 重新走...</text></switch></g><rect x="3785" y="2300" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2330px; margin-left: 3786px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask!==null</div></div></div></foreignObject><text x="3845" y="2333" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask!==null</text></switch></g><path d="M 3655 2430 L 3465 2430 L 3465 1810 L 3517.63 1810" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3522.88 1810 L 3515.88 1813.5 L 3517.63 1810 L 3515.88 1806.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2262px; margin-left: 3467px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">返回 false</div></div></div></foreignObject><text x="3467" y="2265" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">返回 false</text></switch></g><rect x="3655" y="2400" width="250" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 2430px; margin-left: 3656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">开始触发timerQueue, requetHostTimeout, 并返回 false, 标记本次空闲时间该做的事情结束</div></div></div></foreignObject><text x="3780" y="2433" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">开始触发timerQueue, requetHostTimeout, 并返回 false, 标记本次空闲时间该做的事情结束</text></switch></g><path d="M 4333 1930 L 4396.63 1930" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4401.88 1930 L 4394.88 1933.5 L 4396.63 1930 L 4394.88 1926.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1933px; margin-left: 4369px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="4369" y="1936" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 4293 1970 L 4293 1990 L 4095 1990 L 4095 2003.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4095 2008.88 L 4091.5 2001.88 L 4095 2003.63 L 4098.5 2001.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1981px; margin-left: 4186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true,只要第一个还没过期后面的肯定也没</div></div></div></foreignObject><text x="4186" y="1984" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true,只要第一个还没过期后面的肯定也没</text></switch></g><path d="M 4293 1890 L 4333 1930 L 4293 1970 L 4253 1930 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1930px; margin-left: 4254px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">过期&amp;空闲？</div></div></div></foreignObject><text x="4293" y="1933" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">过期&amp;空闲？</text></switch></g><path d="M 4393 1960 L 4413 1900 L 4513 1900 L 4493 1960 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1930px; margin-left: 4394px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">退出while</div></div></div></foreignObject><text x="4453" y="1933" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">退出while</text></switch></g><path d="M 4295 2080 L 4295 2143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4295 2148.88 L 4291.5 2141.88 L 4295 2143.63 L 4298.5 2141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2115px; margin-left: 4298px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="4298" y="2118" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 4335 2040 L 4388.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4393.88 2040 L 4386.88 2043.5 L 4388.63 2040 L 4386.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2041px; margin-left: 4355px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="4355" y="2044" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 4295 2000 L 4335 2040 L 4295 2080 L 4255 2040 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 2040px; margin-left: 4256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">函数？</div></div></div></foreignObject><text x="4295" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">函数？</text></switch></g><path d="M 4245 2180 L 3969 2180 C 3969 2174.8 3961 2174.8 3961 2180 L 3961 2180 L 3889 2180 L 3889 2126.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3889 2121.12 L 3892.5 2128.12 L 3889 2126.37 L 3885.5 2128.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2180px; margin-left: 4103px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">pop(taskQueue), 取下一个 peek(taskQueue) 继续</div></div></div></foreignObject><text x="4103" y="2183" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">pop(taskQueue), 取下一个 peek(taskQueue) 继续</text></switch></g><path d="M 4235 2210 L 4255 2150 L 4355 2150 L 4335 2210 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2180px; margin-left: 4236px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">不是函数pop丢弃，<br />继续下一个 while</div></div></div></foreignObject><text x="4295" y="2183" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">不是函数pop丢弃，...</text></switch></g><path d="M 4585 2040 L 4658.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4663.88 2040 L 4656.88 2043.5 L 4658.63 2040 L 4656.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4395" y="2010" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2040px; margin-left: 4396px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask.callback=null，开始执行之前先保存，再置为空</div></div></div></foreignObject><text x="4490" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask.callback=null，开始执行之前先保存，再置为空</text></switch></g><path d="M 4760 2070 L 4760 2133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4760 2138.88 L 4756.5 2131.88 L 4760 2133.63 L 4763.5 2131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2100px; margin-left: 4761px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新当前时间戳，因为 callback 执行可能耗时,<br />然后检测返回值是不是也是函数</div></div></div></foreignObject><text x="4761" y="2103" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新当前时间戳，因为 callback 执行可能耗时,...</text></switch></g><rect x="4665" y="2010" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2040px; margin-left: 4666px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行保存的 c = callback()</div></div></div></foreignObject><text x="4760" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">执行保存的 c = callback()</text></switch></g><path d="M 4760 2220 L 4760 2263.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4760 2268.88 L 4756.5 2261.88 L 4760 2263.63 L 4763.5 2261.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2241px; margin-left: 4764px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="4764" y="2244" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 4720 2180 L 4528 2180 L 4528 2223.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4528 2228.88 L 4524.5 2221.88 L 4528 2223.63 L 4531.5 2221.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2151px; margin-left: 4576px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false,正常情况 c 就是<br /> taskQueue 中的第一个，此时要 pop掉，<br />因为当前task已经处理过了</div></div></div></foreignObject><text x="4576" y="2154" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false,正常情况 c 就是...</text></switch></g><path d="M 4720 2180 L 4351.37 2180" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4346.12 2180 L 4353.12 2176.5 L 4351.37 2180 L 4353.12 2183.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2178px; margin-left: 4418px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">pop掉</div></div></div></foreignObject><text x="4418" y="2181" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">pop掉</text></switch></g><path d="M 4760 2140 L 4800 2180 L 4760 2220 L 4720 2180 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 2180px; margin-left: 4721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">c 是函数？</div></div></div></foreignObject><text x="4760" y="2183" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">c 是函数？</text></switch></g><path d="M 4760 2330 L 4760 2350 L 4528 2350 L 4528 2296.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4528 2291.12 L 4531.5 2298.12 L 4528 2296.37 L 4524.5 2298.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2341px; margin-left: 4596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">过滤<span style="font-family: &quot;helvetica&quot;">timerQueue -&gt; taskQueue</span></div></div></div></foreignObject><text x="4596" y="2344" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">过滤timerQueue -&gt; taskQueue</text></switch></g><rect x="4700" y="2270" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2300px; margin-left: 4701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask.callback = c</div></div></div></foreignObject><text x="4760" y="2303" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask.callback =...</text></switch></g><path d="M 4445 2260 L 3969 2260 C 3969 2254.8 3961 2254.8 3961 2260 L 3961 2260 L 3889 2260 L 3889 2126.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3889 2121.12 L 3892.5 2128.12 L 3889 2126.37 L 3885.5 2128.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2263px; margin-left: 4114px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取下一个，进入下一次循环</div></div></div></foreignObject><text x="4114" y="2266" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取下一个，进入下一次循环</text></switch></g><rect x="4445" y="2230" width="166" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 164px; height: 1px; padding-top: 2260px; margin-left: 4446px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">advanceTimers(currentTime)<br />完成一轮后再次从 timerQueue 中筛选出 taskQueue</div></div></div></foreignObject><text x="4528" y="2263" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">advanceTimers(currentTime)...</text></switch></g><path d="M 3530 2330 L 3495 2330 L 3495 1810 L 3517.63 1810" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3522.88 1810 L 3515.88 1813.5 L 3517.63 1810 L 3515.88 1806.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2137px; margin-left: 3496px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">返回true</div></div></div></foreignObject><text x="3496" y="2140" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">返回true</text></switch></g><path d="M 3520 2360 L 3540 2300 L 3640 2300 L 3620 2360 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2330px; margin-left: 3521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">退出 workLoop,<br />且返回 true</div></div></div></foreignObject><text x="3580" y="2333" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">退出 workLoop,...</text></switch></g><rect x="4835" y="2200" width="220" height="200" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 212px; height: 1px; padding-top: 2190px; margin-left: 4840px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 210px; overflow: hidden; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>返回值嵌套函数</h1><div>如：fn1=noop,fn2=()=&gt;fn1,fn3=()=&gt;fn2</div><div>callback = () =&gt; fn3<br />currentTask = { callback, ...}<br />c = fn3 -&gt; while<br />c = fn2 -&gt; while<br />c = fn1 -&gt; while<br />c = undefined 结本本次 currentTask 注意这到这里为止一直都只是在改变 currentTask.callback = c ，而 currentTask 这个对象依旧是 #1 处的那个对象</div></div></div></div></foreignObject><text x="4840" y="2201" fill="#000000" font-family="Helvetica" font-size="11px">返回值嵌套函数如：fn1=noop,fn2=()=&gt;fn1,fn3=()=&gt;fn2...</text></switch></g><path d="M 1226 1110 L 1226 1143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1226 1148.88 L 1222.5 1141.88 L 1226 1143.63 L 1229.5 1141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1135" y="1050" width="182" height="60" fill="#76608a" stroke="#432d57" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 180px; height: 1px; padding-top: 1080px; margin-left: 1136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">handleTimeout(currentTime)</div></div></div></foreignObject><text x="1226" y="1084" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">handleTimeout(currentTime)</text></switch></g><path d="M 1226 1210 L 1226 1253.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1226 1258.88 L 1222.5 1251.88 L 1226 1253.63 L 1229.5 1251.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1242px; margin-left: 1227px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">isHostCallbackScheduled?</div></div></div></foreignObject><text x="1227" y="1245" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">isHostCallbackScheduled?</text></switch></g><rect x="1135" y="1150" width="182" height="60" fill="#76608a" stroke="#432d57" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 180px; height: 1px; padding-top: 1180px; margin-left: 1136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">advanceTimers(currentTIme)<br />过滤下 timerQueue -&gt; taskQueue</div></div></div></foreignObject><text x="1226" y="1184" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">advanceTimers(currentTIme)...</text></switch></g><path d="M 1005 1260 L 1005 1116.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1005 1111.12 L 1008.5 1118.12 L 1005 1116.37 L 1001.5 1118.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1182px; margin-left: 1003px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="1003" y="1185" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 1176 1300 L 1061.37 1300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1056.12 1300 L 1063.12 1296.5 L 1061.37 1300 L 1063.12 1303.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1226 1260 L 1276 1300 L 1226 1340 L 1176 1300 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1300px; margin-left: 1177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">有没 taskQueue 正在flush?</div></div></div></foreignObject><text x="1226" y="1304" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">有没 taskQueue 正在flush?</text></switch></g><path d="M 1005 1050 L 1005 980 L 1864.5 980 L 1864.5 1043.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1864.5 1048.88 L 1861 1041.88 L 1864.5 1043.63 L 1868 1041.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 981px; margin-left: 1286px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">回头调用 requestHostTimeout 一直刷到 timerQueue 清空为至，<br />并且注意 timerQueue 中任务的执行机制是过期加入到 taskQueue，<br />这里等于是不断循环递归启动计时器去触发 requestHostCallback 才是目的，<br />因为callback 只有在 requestHostCallback -&gt; ... -&gt; workLoop 中被执行</div></div></div></foreignObject><text x="1286" y="984" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">回头调用 requestHostTimeout 一直刷到 timerQueue 清空为至，...</text></switch></g><rect x="945" y="1050" width="120" height="60" fill="#76608a" stroke="#432d57" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1080px; margin-left: 946px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>peek(timerQueue)</span></div></div></div></foreignObject><text x="1005" y="1084" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">peek(timerQueue)</text></switch></g><path d="M 1005 1340 L 1005 1360 L 2265 1360 L 2265 1402.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2265 1407.88 L 2261.5 1400.88 L 2265 1402.63 L 2268.5 1400.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1351px; margin-left: 1646px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">handleTimeout 目的只是不断的刷新 timerQueue -&gt; taskQueue，timerQueue 中的任务 callback 最终还是在 taskQueue 中经过 flushWork-&gt;workLoop 被调用</div></div></div></foreignObject><text x="1646" y="1354" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">handleTimeout 目的只是不断的刷新 timerQueue -&gt; taskQueue，timerQueue 中的任务 callback 最终还是在 taskQueue 中经过 flushWork-&gt;workLoop 被调用</text></switch></g><path d="M 1005 1260 L 1055 1300 L 1005 1340 L 955 1300 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1300px; margin-left: 956px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">taskQueue空了?</div></div></div></foreignObject><text x="1005" y="1304" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">taskQueue空了?</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>