<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="5056px" height="2461px" viewBox="-0.5 -0.5 5056 2461" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2021-09-24T01:59:46.158Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 11_5_2) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.1.8 Chrome/87.0.4280.88 Electron/11.1.1 Safari/537.36&quot; etag=&quot;_t4vkcwolemvBx13I4BM&quot; version=&quot;14.1.8&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;u91ATE22Z8h-7fBZmPHe&quot; name=&quot;Page-1&quot;&gt;7X1ZkxpJsu5vmQfMSsessNyXRxKoGdmRpnW61dZ37ksbKrKqaFFAA6Xl/PoTe8biuQC5sWg06iT3DA//3MPXgTt+/fHP7Wzz8nE9T5cDx5r/GLiTgYP++C76D97zk+2xHJvued4u5nSftOO3xf+mbKfF9r4t5ulOOXG/Xi/3i42683G9WqWPe2XfbLtdf1dPe1ov1aduZs+pseO3x9nS3PvHYr5/oXsjJ8z2/ytdPL/wJ9tBTI98mT1+fd6u31bseQPHfSJ/6OHXGb8X+9Ddy2y+/i7tcqcDd7xdr/d06/XHOF3iweXDRq97yDkq3nubrvZVLpj/9fbPp4f///LZG/vOpzd//u2vx3vX8dnb7X/yEUnnaIDYz/V2/7J+Xq9my2m2NyFfneL7WujXX2+vG37+bPvI91BKR+hndpMP6/UG7bTxOel+/5OdNHvbr9Gul/3rkh1F37T9+f/wA4Y+//kf9jzyY/JD+fWT/Xpar/bsprbNfo/Xy/WWfJprkT9oP/1o/KW5o8l27dZv28e0cAg9Nm1n2+d0X3imLeiOGCpdv6bo3dGV23Q52y++qe8yYxP7WZyXERdtMPoeQmvL7jmtFUpnhD+R1k+L5VLaH3hhEIVo/26/XX9NpSOu7bm+h47MZ7sX8snk9X4s9nQmhj77KWYi2s5eDv/g71bj/HKCoOr8sqwT5xe5dLTdzn5KJ2zWi9V+J935E96BTuBCwLPYGzIZEMUaEukX+KFVdAHaoO+QzXXxMadMf4c+9Nts+caG4mn5tnv5Y739ejccDt+B3PFh9gWJPGXCzpaL5xXafkS0TNHcSb6l2/0CiZQRO/C6mM8p86S7xf/OvpD74WnBhhLd3E8G/uRgwMIPSn9AcpE9JBM38lQrggNztrD7W0PHU+nKnnjYbMqoz09ZPz3t0DzW4awWEoc3Eh9A4nuEaZETK0S+d/pOZceODCpv07/f0t3+X+vdfjxbLrFudico/24wfRgk40E0HkyDQYw24sE0HIziQTIaTONBHA4ShxxCGwHf4ylXoUtG4WAaDUY22eMNkmgQWfjQaIx3og20h93nYRC7g6k/SNBTfHLyBD1XvJAxCzMhiyfI95fFPv1tMyNi4TvSu9W5qUinJZ67iVBF+bxarVcpJOKsNLKiyBSKX6zUTQNgnn9Z7/fr16LZaci03OkW+yrsh/z390zx9vm64EVWumO/IZ0I3dqYS1dKHdvSyOPGJnkiCyCPwy+snTx2YMrsGsljEOCLF/iWZxLgaTYPZ481jbNtqeN8j0bVGGixTx5oP2hqoN3yYT50qXDESmBQn9bMTQllOrMD06qdFRliuWsdd9vyOh15Y9x/e0S48LZEyp5BgOVysdml5diig4Y1c60ZBDPJJGRLU1UVZPajWmDG0dZYdmiCjO0AIBM1BuaWObRnNbedinM77nRmn27kOcaGw40ksoVkyO0lsI1E2H2EEaia3acDigZdUhRQgdDqJU4GoylZY6ClhY/3JAlZdaDlx3QQeXe77SN6nLniLQGxBqDHqYg8jWk3dj/Umx5M+KqmRPtUvegoS6KnKcZcU84zJBrne742VxqwI9qne0yuB2Arz7dutcHwRtL6Sdqt0HRvJK2dpN36L7mf9UbSOknaqQEkMPQysQz/uFj9K51thn8hfSFYok9IvqClefCMt4j1fkqs7kgRtgZRgC3z0WgQEdUY/ZvEWDUeIdU4whtozygitnp0cnRHTPwRNtPjY2gj7EJNDnXtxQX05KBNPZkv/S/HHBVXZIOw0zV71M1yRAQ2VI9ryIvLsdtDtqokjToVVqZb6Wm9/brDN+1gQe7rHgera6hxgjNHFruq7ahjpcn0lW/edi9ozz2SprNXPNmoTEXfvHja/765e0Fid+Cgx1mr+TqlWws07j/e0W1THpOj+Ai+v8XuT9ze8SBKiJBFGxMirZGQ9oj89QcJkb/JaDCCJ0PDcRm5jHV0vIWTs+TJwi3sIAg1qU9/9jfcgk90bQbJ02Q9T7tQoO5tHdcEhpXhmtuYI7UT83uNuCaCsMujDTvFNdODZ8IXmpcMvg6enkYAQBARj53hyxuHrt+0L8+c6A4QOtPyRO/EwFLnRK8qwN1Ol8j8NbWJPll/X13FVLe7nui2Z8q/NP1KBp9pRIQOfmJhvaIXYpD7KDobtBrSSjpW78/DgOaYAc9E3X4YxOgDrKfFdrc356g7Wc7IfmMNoGv2OtSw66xOAqlzeeV4hd0v5ixr6KhgNOi7sm5aVDlRd5vZipN1s94w/MpinPmswbbVMf6bxTiTjdFIgTl6U/SS8n17gX5QoFO7qhFkRqXj9WLLnJVpq0x+Y+EtBjY7l++cL77pu+joS0Me/P2GMwoTNKL7e8Z9I8wjlAHF8cyWHmAaJ2QjRmR+YOHuiYgucaUVPNpAf10Sb+INRtbd49sWk+qddA5a3E8GI0dd7ifESu8Tc30kHaJzayJF3RuPQBBBb2/ji+gVOHJfBMFQu37IZ2ylF8ceg+QB3yEL6g/w18ceOTQlJ0vcMQqIe4GE18QYUdmXCwgl9EDvSmwf1K8Qk1caDWIespMQLwTeoMNMx4nkB1D7CNrAX2Q8l9CQTBYCiGhqjBH0j5ESPo4JP47lRXmAFZO8s9FhckWpBQhhydjTIIJ+lMiiCDDpcIpDjPBhMOI5E4hMeQBh+HKyE4Hp3cSMt4eEQtIkR1+FUM3BaWxW0TxGR6Gh1z/JoQ+IMh8V2ohDaK7TyUhkNh42X0Dfe2JSI/a0O25eQ/Sy7HfUAqdK7YJfOOuNfFRC3yH7WpuZ8/Ace2AeMzxXPYk7fYIN+LSwhKLt0c/l9NOYlbzjmNJQjYaL2QcYA8coDiGBzqPAAKoMFkgMFoLzwsMvvmCEVclsK1yGnh1LE9PgMkecfWff4xlRdTo4RLfKHhVj8kZ0zocEU8lnjgi4IhzFwkAeygn2mfZlHvh8HmAssrhsmVYmTMUP0DQa/Hb562ee2YM0nsXqGe3ws1+fySrmHpvJwUjyNdKDnpakRMALUorTlbEkMhOGSnMHD1CkAkdTpFxAkxL7lPysxmLGXdP6AatS8iLlYGWKq8Ps2neaYESH1QWUuWyiv1ZfdhtjhtNHmMsv7SY5H2G9M3GEyS6mmScYGRChyUsSBo5JFiPVhSaKWoedLhwdI08TbOjVhngkVIk/ooqQx8Q6w0pPwJT8Ydl1Ib5rEmRMyaRhTBaQbK1BdCGsUagGFNVzxC43MjCpsoJHDNLSmBaSAQGaoGM0dcY2AwL0zWOfAIP03uzrDaXGoABRIejZkBplgXsBorP1OXBy9uYu+Oa5eocYFfCus+UTuqtrHlymT5iZ77h4Qp+Q2O/+C/unCMpN8CtsGcsTzYER0WaiIrFcXdYoP21z1rrkqwBZq2XrFmC7I2F7/sC4suBVPgKkExsKWx4CF/0/lobAo1e7slLBsMaKGfPFnqse8w4UvbnjQAZhSpiZDqzgcENREDon4/Xq43eqgD9Bx8cGZlA3wAfud8T+h1UD29v8AJa0/AUKAVNiFGCiKStVusoUSnGGFqqJjRrHgBklnQOuO9iFHLPJ+yL+oWnqmDk8SRksXGYjqE4mkm4s8JvMlUhW3r4A1KHjftOHmD7ka/oQoA5BabrC/lh/oJjpi+jCzi5FgXmxWp9pGAfxoDgWjPz6lG4XaEywSbjuALGwaoRYnGP9Pda8y6OtbE2P9vT5QN+MXZZNiYML7+gPcksK79heVHhBMwkzsRmCxI14dMkdYMsek4OTTE29CA9DlJPYknkYrCBWnQz9DwniHAbFbZOA7da9ACJ2WsxszwTrdiMcbaubFBQpQtdR8g/soeWUZSA0jc1R9foAnYYX8feEZvin9W7/ebb72s1Md4PezfSoQhWL3ctsgzcZhMqDAo3ZDk0QXjQLT0GEv/vZYkWmpE1+L5ezzW6Rgfnjy2I5/zD7uX7b88fwX7VogzrABMCwu9Cwi1jr+scdcvbmjDv60v1itvwVC7HVcxUSmEM83643nznjCgGabqffUipHLVj73xPosjIrA97kpYvID76qNqUyMdzgZAPi42KrVvabiOwNwsjxeoWWArMFIWWKFlPf011luhdMaXM2lBHbbwyQzECPHQMkXvDMXHffbbaL9Xax//kh/Ybr9o4fxanj9Wa/QMNmBnKcMmNkJcnKWcKdPEFOoGpOfLaMnJB9uzmqQqoxWeazNTuJjce2iJgksBEnNrbvENvbyAW0ZsVbGwwSlxkB4lFGfEsyGYWDUcKD9CfkdLPYHbX5RtJVwmMm3kjPqCP3mRLPtzgUYkNUFDO3Yhzf5l6mwEJRK3Grc7FCJbybNKlVmvxUSVomXLy4IdLzeQaWTX2Z7T6j5cCv6SsaEmzEYwlBCzwD8JHrEiE5iaJlIqQ52pkrFUI7bk9OiJXFx9nROBbFgOkb7Q6G4OZo6dwguBsItoGE2HYV/NisUfUdwS+2+9xdFcJSJuiRkh4DThesCdNyEzQsdcxDGYKcYtEqDN/I2R+9Nz7AenUD3VpBt3vF17SgPc5Wj+kS21Rw3e4rg95yq1fLym1RehMOkiCge934WpzC1AOl9gC7wrl6B1y9lpMH1M6Hh70592OFYk43uXYcz1UwArRMbNMKsH1bYS/ldUmwXLexRBqu8LVEGWBNf1siVCPaD5Vg3dEQUEN0+pxZertVtWmhbXVax1W8aE2xRlqxC8vyrfRpAIaS2pNkPGi02IWn92gAGsG0Wyk961baSSlCvn1QkVXxo3rbyIZbgtpW1eoRrMFRd9xlLoD1sAIjiACdLsURoF+5oQTnxIthUIEXoWjv5gIIbVOpO3uxE1VlDLvT+D/bzQla1txpchmDMS827LO8ERy9AVeWP7swZjYXC+OYebpEf+OW7aAn+ROguAuL5V2dbMjb6lWQT2638slkQzuvukJOzQ8WLkVjkqTCBglP+EI8SlOutPafRjjdBq2a1ttXbCAertbf72gphiSTgMM5GpWfZy0GbVtrqmJXtWQ12L2n014Oh+ikSnfJOhmWZ/pUaNzTablh2zURdr94Tand9UJkoZuDiVnjbId788+mqbLtVggmPzNlszrTuKdmAp7INJCby2xHLVKApSRylrYsZ9FNWTEv3cQoij1cBhMWx9MifVTP3u09C9qmx0YuJZVMswJh8hLcKlx9jLXl+yXpJlAR5HZVE6A4ujHEnTo3AY3kNBr4evfq0LTOe2CX8MbyoOwq/R1vrs7jfDN5nSDLyN2cNwYoyPz+9TWdL2b79BMDu1rJ33f3mZ2jj8qw6LZLIjOm7v3Hj9PJ+9Hn6Z+ffn3/y6/vP//nz8/vP05/+f0zOn5Pi/GAfb5Ks5Py9JprJLmeDi9NAQeM3GpuClTwmd4wuV5M/qkStUOINs12v+/SbbJcP35drJ6vE6XD3qG0GZn3+2/TX/9MPvwy/u/3//4nhNRE5wahmmQWUecIAmZcv7S6T+Qa6d4fqAZ66dyguh2oBpzMLUM1p7Wsqs2X16lI5619u4Nox1zZvp98AHXoj7P9y3Cz/n7n4JqO1jusUxsojahjhW7o2RG+s1pZcuQRvZqp065cl54WF/Ck2lxE7x7FpHAlNVA6N8AvnkU9AvxbylNXgC/C+TpEfNPT82H9/ToBv0LCU8uAby6bP/zyB4T3NolbzHxBFKxvancJaXuEwreCK52hMNAntmUUBppE/RsHFy2vE4grZFS1C8SuuSj+9y+/fhx9gLDYx1BM1WlcgJ3W7opIt6cbGhfRtz9o7Jn8aFDozOJfXKbmV4h/ySFPS/EvHmCAYhXrcYMmrXBdNGaV8SMSu5m1KWR17ohrKOTtq2jDMnozmxxy8YW884jZ5VDqhxXh7gpALt55Rsx4xVl21tAKtZAZ5lPrcciMa65kWXswqXlWPCYVr/SAqvTHZrGd4cBdXMUMXUwiL8i2k/CgRZ30Zx0vc999LK/fCaoemyvWqxhgN64K5163KZuuubDBre/UJlmr9DtOT8eHgbwaA4JNBL8sznQADahl1vRMT0CujnohsWxGAw0golBEGSrBbA0qordgtsbMAl6OWaCM3A1S2wxmwx2Er2hp6JVHr7VbS8Uzdco9klTv52OkhpBOpAn5C3RI5ylnZLmPJnVkSSlnImNNONGsG6mVOh+ACATLwTVH+ltHhdaxNz9orW0oNl0vmeXhmri0vEtCy4BcLRe/tIHYNRKtP9B683Z1Ba1AkFnL0MqfJhG/OC3tolm13NfVLr76pvldN7nnpFzcvFuFFO0N+Po3m0JX4AsFfLWNvqaNQXJ1XBGf+n0zNfimqUFBXtIBLKa2gwdeySavpI1ZwOZG2h5B8M200BkEA9FebUOwaVvQ3M9Xxax9szD4poWhBIcLdOLrxuG+2yH8mx2iKxx2gCZbLeNwYBoidmgs3q/m6GOvik/7ZoQITCPE/XVVwc8jSW+gMwDs8DqBzixENmCGkQqFUHPSuFuKqQoACw6OkgpIEzqS+xP7LIsTKyEhjm0l0bM80ArpMe6DQa+zipryuSW7P7VJQ1OgdMETPFAxC078j3SkhYLCYWU+6jbUPDTFzM/U7CJxnhHeYXGE9701dHgFbB7xxp7Z4xDv0DScrNZd8JiGhcHMsp5ALHRDyxqPB8eFD3fDlWG3BVAD0zwiWahZ4DCpYPD4tsUDQSP2TXG2fVm/fnnb5eiAMjFzxFSBYMsRhTUINsdyNcEGNZ+AlL2oMcEWVagR0D7TVVBAhCjshukcuzLT0Zp1JzCdBsZ8NsVaiU5XV3/oR7DLsoky2m5x9XpxGpNZuQ+yY199kM/WHg9VL/Bc5QK0Qd+hXgkSAaZ30UUUE2r39X/eUnQIG06wycTCJ9G/SH9+w497MIupyIp1djpOHNoqtwNg6jzVi7x2viKBzAt4Q92fyiNPnNA8MUHTWZrXPRxeFL1lzGuhQ1VQNZnIyatf1pZqANhroXrYmRlPSeQ7cLnbL61AQ0sXsJ+22x7OjuBk2N5p3nWySlg5jTrsllUiB5ZzasDAhcii0n5UjiaLzqAHRwjo3GVYV+JGrgvwBGfl8WIdgOdo9r2Qg39ZA/rm+mHaZqJpm/nK4kd/eluGVdc3rtVt77DQNCps3nYvd5KG7oyZEn9478raNIXn7Wy+QGSYLLYIChEf4+dRVyw/JPNboEi4ExUMT7UGgvzWas9LBygbfiOaSjRHW3TbgFbYbqPS6PIcg7yfQAUrTsdKn7k+2m/fTEXgTNW8qFTN8z2tak3/9bzIDMjOjElPiy3GkUuxbduhhlcu4LSF4Ko503ZcIRvi3OCqstE5drqFK7jVHW7Yyms10eJeJJgSm2ZxHGXkorUPaa6KBpwm29NozOSBlPdi6fecidiBiNyQhGxmda5JdOYollrmkWphaJuZhO38jjJnxXdB2Ds9Ie5Hj8k2VkmxU5khu3W9xhBDcucI4paEFMrDEdC0xnuIk67RURxqNGGpf4i1RpHENlZe9bQWlJBi4taqnMTFsc5IObEVDjxRMeH6TaRe0aCeEleIlb4+fs1RSdvhVxFDLdHkabbcdaLwt8lrxcGxmNfCMFLYrf+hTXzSKfxF3cy7zWyl0DP4+21Nw/OlLeKHXuz+td4RdxeC3N8eX9L52xKxG7sRejN6L9YB5OhVxeFazBLPvmT2+PWZQIAWV61Nngfypybdx9MDE6DMA6jed2OLDsfqx6KjFSyt6jBzrBw6toSljrkO7xNNjvUCHBMM3FjV0uqTwenWXRBDudirx3QpoevdqSZngXLdrAlFCkfRmtDzhtwR2Y7N34LEYH/YsFZuiM4DGsWL5qomxboHCYlDn0ks0dUUkbNiJC9QFQyvc+OKA7R16hMXNSVgGKNUEjCdWlrEi5aw1Db9+y3d7WWp8zJboSXZZ25UGROishC3eyki/t1F8pptl/Oaw9O6W/JS91ti5SmOTpnmWCtfVo8wPdWiAocN216kegZDbs/i96CvZsTB1xY+bJn2Myowx6y4RCYx3YksK7MgcwkN+EV3T8u33csf622DARBthHvZvqvRBwg/cex2haip9mAfFIPe9xO49zXbg0eXGLn4cGWWGjTUhDcN443kxIpx/dJoLHnBiBkee68i6gHjBadHUOVpyeeVOLyJwpTdkPa6yaQDfdUc6dDjhhy5iHdE0k9jGolTNak8VyMRGRWO6I0kkh8YjxwGjoem9oS++tjAKc7s0c/31EwgNbGnTRurA3RQflymsy3XrRT2PhhQDeDE7ZXj1ATOL/Z8/lS5QEQxcEaWP1SR0+88Ed4BegqryOlOEIn5qN+9owApZXbqDWJMnFXUYGyKGb/uzoNiYaixR/cqrNsPFVYB4Tx0z6NMPi1rhfPKiqzbsTnbVDd3XMGUFUh0KLewfR+5xxYRW0VxynGrNku3m7yAIyz7x6paZ8CZbmXTj9upb8EBmskudh/T3W72nGLi//q2Wi1WzydFfXbCmrHmUAh9gDNDZwjwZnOuVrcf4egVeSaYR2HggYvwke+5dS9O3MqLE/fUwPajVh62p7XGi8JYnhLlF9hWG1UFxEAC5tz54lvmIAHYPMc9Il0G3MnUjy1gFxf4n9Lt03r7iq1Ev6/2i+Uknc2Xi1V69y7vgScqAmKy5k3vhtspaiuiyANsSY7dsmeTv0RHWoJiDHGKrSF1W2RU9aFbyKsaHO/kNShrSU3gzXFvguskKvo5ZdDaUvYOqDDcfR9Vg3jj0PUtgLMFYAM1UuvAcD/whra6zotCwEwClcESLsIGILxCgcdbveijKt4yTjGnRBm5uerVALXNhdq/1/N0+NduQOvAxw72qDjWejlH/76f1joXel6hmPFCIb1sKKq2QXoBEpNWw00eSEKKhzNTEIHS/fvX13S+mO2vqtVCLsl+aOQqKzTYIAlvvalaB9ifKlFL8dZrjPhmBDZbL49fZoi3rqozYO7yoxRfm6MPVJGI5OrGI7JhD2JXik8gzVhj05pwjVQ7GGKbo+Kt91RXEMsrG5dBrNecfAVqKwtH/HUxannbKRBeG6QN1Nlar2oAVTHwSXuHqdR1ioAyDhoLBlFCChw84N6sOPzLx4g84rFiyQg90HulCxrSomo0xRsjh0SPiatEUQbSaRtXEISavXIF+5qldnEaeGX8b26aBZ2YETNndVjdW51ne3x8234TNqvmcgkqh3oEp4Z65DizgtjRPRk8rKOkerdZB9z1rWEUZ3+02syWpRnNmg6HBnvYBLiMxEhum5eVkeDOLCV4hfXjswZIwgtkdCwRFA1O9YtJhGe8XBQyaoVajw827CfWndAuaDBkM6iQlotTyjcnDW+JOToK/GGkBjfEkDk6x6cYN2aQ9iGDNOQtNjKLoFhzwFamivJ7rf8G3TvE2rSD/t3t2el3uE5+fgJSXsz8WXmhi6ZrvpGl+qRpzhENdL389Muvn02+kgeX6WyvP57RwL8MF6unNdlaPA6flrNnPOHwWLlkyYe/1gG8hCQKaWrQiilppSBMtLh8VxTaz/QPm1OXazXsE+ZEUbQoKzwuVs+fifri62pEcbGKBqaHknLtmJPBb2wyBBVauzSNr1mfwn6Ba6WgHhkEbaKQBHgxxqqsP5C27NLqCyfxjKSCcyK/R1TXIvtpog/CYgTN+JwJuyFTdejqawS0HkbjnhPtc0kom5Mq0yeUBXqYYpS1jQG/oWztKJszPbpD2dApR9nyVbiy7r3QyJ6ALUzLV91htwkWIbSApZmYE96oYZQtRGmtROwfQWg+xaBvdmy97MVqWLpYDdx6qzeLTmPKXVtcu0KuFkOBeJntPq63KTVXsGBgyNhxh07Elvpf09fZgoYOY3GvlnywQJVATMO74XB4iUG/hgaJo4B7oARATVxuuJ+P5pVw/9ROiaeRNAZMLrwqtaLX61zYDbhzXa28qFW9YF+WzG6HvhrfeSLWtwDnQLvopwXivOXPQZggYB2EE4PKkq8LnZgusTr/iomVbhFgEwqrxz5lB0pL+y9+pHNO3wJ8PRypa0BkO47ioe2oAh1E5Xa71jlhJ20cs4yKoYc0RyWrIo7EjrwijviXNDNqL3/RMfZX7a9yehraiXPHDJ+gaVtjqfK5T7R5lxh7YrIYID0GkhHzsCeO5N+iezxycoA96bKtiC0PxIKBV3UxDehKmRif3JkWfHGZyx79pfFYI1sSUj6J2RpJDyWrFCy26MaEBQygF6A9A3FkjUXs/VAKmuiaALyhh1+eVqJB5yT8EbgMk8VsZ/oNL3s5VBwpgJZDEe/hyM1a/ZeQV1Mj/gDMCrutER+Z+iqrET9mLHsSXBl1pTCjj/DRKXHGMzs4hRkRoGRg0oXzemnBeiuKVCvFGajDpmdeNmW00rSqFU02DHTbAuBgEPvaKWsQmWsR7sifyN1hlxgzqVVoZBFnErVMWpLMJ3tGpNES3rChWG5TLzC9XFxBAES9eBY6hDDkAYjaoXCR4FCfvDx5QKvgkQqZj4y+l3idAPosUTAPjco4e1PqmGNfbH6fWWav4EN9HMeEoS4k0ZkB8NCyOKUzK7tn1IiR3US1it7KdbPzajBluOu5joq795yPm61sEbsaprhqnYrSC3j90u6L6oVm3HJhoQumfei8DFen4hfhgCKDSc5LijihFsyJRAZUqa9VAzXUJp6R5sXmpOFWrsxvkB2Dws2gQDL8tmEiY97dO2wzQwQOyazgz7DIVQkJRBf6ohASMd5IRKioA+mv5oLXx5IvIQpoRIWfT3CaXh7hv+zORKSg20YTJa5eyLyE6LL4nAiH1nO8l9/ex9InSnh3tEjpLpgJF9U6zKQDfekpew/28T4WQzShismUBxb+UbVcjD1k42ou7nUpZXw0mp1EQOn86tB7GjoHIG6P0z3McSTiNqbDN2Z0iInBQ6ShVXNtITbeF3mzeFciM5GARTQMaDiDEt9wT2IxIEyCkhRU8X1AXAQUgHHQMuaQ9tKW1kULDK3hlUqUIgwNQlY31faO7L9TlVzHVPPr1mobVS4eFuSYutqygOS74XM7q2Ey3e8I3XCKlG1vfpj1uiHPPbcHw2suuRftCfbaip0dWnYxHoVGxxtVolIXo83r2op62ceo9oYq7gbaXbWcnAZ1baBjsjTh3Em2oATML5ftcS6ZDmitF3q+Oh9OnA5t0DvqVNbxbD0u7sTBCsKuLUN8dTF0siH+qJU+emxxScoKV/AS4bllLyMtzUu/oqGyl5Hp7ynxLYh+FEIAms5I2UswIiuAAAvGyL/7TvucjHNWHoa8vTIEzJnfGQIGMe96c6IIzFoPc3eF5bcnBM3I25zS5pfignD8UB3uGOrxALWYa9AD0Z9+qVUU0G7XSn5lIRWdWnX0OCGlT7CW6ibHphtrlabz3acZfb2BbDE+zPpbbEU5Lnq5ANhrjWb2tZbVtuDjzuLmXOt0VfSvt9cNP3+2feR76KBGJ+uqiqqaKaenqapNlZcQtv9SSHCtbiAh0CAhCEpqr0dR4QXNQIgL9NWDdEOtkI6nVNQpMk/bxL0c4kuSEexcYIF/oFGfhsLICaA+9ypHxKss+zhCZgnCtuwYcncLJwVzf5D1Pn+XiGcSjaGMU3HIxwMT+2RsRsSpInka9LcLsPrOnCrkcuOlsG9BDdzLb2uY4/ojroTFjpWpX6yeqQWDdkGUixDpdKKj4JbR4KRQI1ow6DyXBAy0i5YEiE1VG79XzwIhVk0tvGB388sDlxey7K2gOt6BUDR78osipas5Al7ifvqyXON1Ed71sMDjKpwKTIQiOlXuJYR+GDHpqvKU+rZHXs5QtxKnflPQASLV6TSOXLyobDcRbnE4zQ9t4mJpLM2vWVXY9lzfA1RhLwyisG1VWFMqogCKmWg1g4RDWzcV1GyJQaVqavU38qgCOqVAWSN7H7CIjrtNDY+h1HAag0JMoLHPtBddVwGDqWMWFsLiMuRUDaraZpUc4YXyZVs9KTcWuAG9gHvNanIDtmDijHtQlQdqwpHVCew0rdo13aAVy56VtcTKazybU8OsNPJKcnRAK0cWA402piQ0GIqCohlVZqzxOWbxF812cyJ2OsfiCvZtjpgEXT+td0hFW2Pk5JVl1Wo4Qim3IPSViAJX5KGk+oONCVQu6BUp92+b4eti9zhcrmdzpDz++bjYPi7TP+2BWXi7QqyZGQCHnjRfpNkUAKLSjhIAx88Svm6FItOGHPrlOeM0N2cqNJtsvJiazR+aYXZsDA0P2lZqDjtNjYvfH19RPb4hznlPy/QHW1tXUXWLZ00FDbjqApfpyp1pwD4koDWCr9/2WOKO6YyXFh7SgKP/PeDn5sKOSjncW90ODMqxkxX8LYVuGISLYFvGQIf/Zt9LIH+3oR9KCjfkALKO6bPvO2+4WO//nKGZ/hO90e7PzWKTEl2lwRJqcY7hsCsIca3To34bteqdEBbcUqQU8yNVQQ8rJ1+14W6/YaAmyIROicfJuKAoKao+j5O5vP9Hns+DLyfov+ZPzRPyD8MLok/6+gNYLMueJGMTTC3Lt9InAHuxiAwsazyWjk0WW4RtFEIP6aNSljSluxQjU5URoUitxL24lhlNLqVxiuzQSaHLka7qIu6ofJAqukY4/WiUFNl3wPIfE7I4pIvMwKZh69nqU8k1reY5q/AYhz4Gh+V9kBKNS++szWkzHadO2xQG7Z1aJam2lcqB0zcMK05fr7Hpy4PVeyZHjwrHgHNmhBEctIjXKVDtqjVA7DwjZbMC1bVC1XwXWCVxxHrgkXZBQwLVMd1hYDGD/eI13f7PW4oTHiwlcuKAAI6HDGgRNtPaBugmScBiHEaWGoFs5uJQeKbhymMpEzU//gMuhzQhoSEitVU83URQIi4ivsFOpn2YxDCh+wQsxwi9wyhQTYfaV1x3dUIGgoVhEbGvpT4Oeu4zcJ0Kxqdzgvpj6tjVie78zN5HE7hmEC2/7/WwtFMa6WS5ejbzaSz9A7ygycAmOKGla34+KnO5A/PHAfx8qvnjRH52zBUmry/BE4txsQg/K9twXbzuFvcxR6xu8THss7yGYZsUSZFX1OFEUF+jcgULUJUwrcMDwHJpWn1t7OoZZDGQ4uBYgI25uRQHp0Jr5Mbdd7G+BIPGxQNsBk0OTAX/XSZo7HLj5IERiQJMTvQ+azHdasUyda6P4rE3TU5yorD5VBzX0DIlbVO2UNM16wEtWa5PMTx3CDuHkYKjkVaZKzDtdDYvHN6Omdk2WS6PUMV11R5nq8d0KV15d3D88DlS1FFRFKpbZAEEbZDzamkF0p/l+aBcNS+WshXsq2yEyjV2u9OeIK5tml7kOkDUEBdIPf7Mtu6mjU6umUoNg6J6kFwzIeA1myckypBvXNeKwC6rBWTUVz61t1QLCwQb6j952YjRQKqPfarr5URoMCOhSDVGzZchnMYFJdJNJ4KP44BxNUxaIvGBpQmMHqSU0IiHFEv5pQh5WLaolJ4aX1nFKMZfhSbDyNY60vXfDeCeiZ4hZSU+Lme73eJxIOclHgIsmnYZBoEVzSB91HOdiR/WDEVOWBWK3FoKUJmZ+nGsGbZFaQh+E/pu7LombFkmym3T/dt2JdmyGkhs7LWFy4liFTxgC1erixBe7FyiE+8fOdvp1baNlSQ989N2sd4u9j8/pN/Spbhks02/LdZvO+2ofg8gy/+o6i69prxrx45e69sCKjaJlj7tEN8DwixukqFByeBWbVTguh17nKDQgZIKuY908HD83/b5y53j+xTP5Y13ZED1srlCIGjNaAtr2bbZSPGAatz5Eylv6lVFLkPJrkUkaatguE2u3arXhecMXBEs1QoycVWQ8TrNihcvKtF5Nv+GrdNY99vu7tRO1uZql5i/IlKUCAe/eVJfB7EQls6JyZJWKW7E+hfuka7Dlt6HaR25LW4OUkFKIaIOTo8tLXMbLCHXauEM12sgDfCKON2rHMDidZr9J160ZJWxSdOvd4IXQZYPSass0R7FUlMoOO/TWmVXxMue0z0vV4iVuPFyCYdW4uUc10bDqQNitSjmnF+cO2Be4cRtJA94pulpt083B9f5O3NjtlfWTjiIuWW4x8ZrXiigbyAC1t5qpvTW2QPWyaUHOgMsr5VsJ9900GDAgsXn5QKWnxOykQFWyGOgRGvO0/CL+/XsELxtC/AWw5HaZw1vBxY+OHt4yytD1H94C1rRx2LTzIPhDS7Ke7nwFpfpY6EoVFxvd7J7vWRfW+jmWbDOfdbodmXKG9OAzhHdwjbQzbNMZwVGN3jZcrHoxli9CN1C/pCaey+2hmZA9OX3l8WSlx5IEtbaOJ5cXeRcGfnvrSFiT1AM9dj24OUQ/E6yXZsRStwv/ZL+mD3j8keKR5rtFb5o9F0nOaN7bad2HT3BGrRT86j+luzUQHuYXmopPdUc/Iqag+udGtx4Gp151qRE5/THZrGd4aJk2KV8XRDN5n0hRDuqgK7HumKrECBWI20AOBD5jIvpuMRxGGAxjSvmiILcUC9SPXqAFuIPoKvCwSgmDsiYBNY7UoQ93WMqhRfjkkTiXYN6B+rL0W6HusDUzW9QXx3qK7fXcINuA4l8IC9K5vPExx0zaJjP8JE3g2XVEEWtrYhXzYp4vozanuOCedfWls5u2DnvVqmcfuPd/OGrrKbFndaq8oC0dhKil5BKpyJWjyatxYyJB0q7b6nQXUI5FayuR8OFSB8NfJXUWgfztyc9zGy6QTGEyviIgMlV6Y55xb+Fdcf2Is01V491R9NIea3SNjxzpu4oLfv/gfe4E5oWc7FywQ50h1HnOp1nmXF9/RADx/kH8voynipLOq6V6FVPx64nB/LgZsZRibugwhV22IqDAVCEWOEHEsOOJGWMa+FeYas3BgZFNg07dHX7w2mCqQ23KVT92CfFP0jtkFFIGgDqZX3lAgJj8oV/v6V7qc5PVn0kiYlVIn8W8aqCZn/lmIZfByQOu5rRY0oWVKyLtE1KLctFDUbka4JB5LIKhiWelMuRr5arYxAgX0WPn3bWXf7NZnKSebxyhqffsc0E6FpxfRKETXeTCudTFMjvqUJ8RBHg8+fpbtOs/PyqY6xRwEgqFVaQSiXqignfhukIEf2HY9IDxlGMNZHDbKhIb4hHrGsxdZ/QG14ZyhTrqdbQjYLgNKThOoXe2VhTFJr0tuUuVOR5ozW8AvTHvNpTleuNnpEGGDi618w3NcAIUACbqzPqm7maxBBqsdUHSbJkgU8ahTorydBvIodBD12jt8zrU1SCoHLmddCtShCYZuxrVPOD4twiXNlPdzb0X/MPKvTUvfFwHTyck7rRFg/nqfXXxcKltl5Ep7D/TAupV0asyXUpwboZ1AX0o3aVYF7u/3KRVJkftcJq9UIW3apGoelm2aw3Sv0ZrVo7NZQkgMUEqF3Dk0JwU0W6Mbk2xC6POLZ5RMfZeOfE/FYAvDx8EE0tPl2EN8/NavqDpY602VM4/24r8kMkjh7w6Nudr8jDm+PtJLETVBU7YbeOt8B0vEmBZVl4Mosuy7p+mBEAYH/hmBzy8SEa5hiRemj40AO21OPLJ8S4L91ZNA3ROswL86w+Ey9H+wxDXfuEgp/braUW3qxzp2BBWHllH3asgsIJSnFCwmZEXLOP2TJ2Ja42Y2xIXlLiKlyNg6itjJmRLqfmPujoIZqJR1g3wcoL0TLiMHugk6OqsIbpwiloZF+YwUb4cRZ+2aIsDMlxWDUv47KV6rDUkmmLMkk91qJDyAwCyjNNaHEnMxrDAa8byqf14Y3szkdOeZYeftoHOXWzQJ8kpyqbSsJuLdDhzQItZnsR9KoepBPzp1tA4eimZ7bEv6e288iJ9tF7Q9u+p4F9042eolwHM40Sn2BFEGuwEf6bhXmTNSdSDZkcnxJVLrEzRc9UM3no0OrLDv9HKtoP9ssriG8TOjJ9QU9SqHl4nEMtdgHWZnGWf4GhzlC0DYWd5CyCzfnQs+m7Yr05kOKleCu+64LYqKwGKFJ71GCaeopUqMB977ZYARSug3hBiNuYp6k6/HYchBObYlYBl+vi8bi4y6Y1DOxAY8feK1Kh6RR6HCgFJq7axe9ZWudD27e6dvFHpvv30pH4uJwMntic5TKLqwoSm2sF+uq+nW7b5nEszwuBp12qyhrpYfLdP81eF8uftJ2e0Hxxu0rcqvIlXX5LMfQbR8zmekpf6XtxAVOp5dZX1fruXbZwinLK3WYKaOxrCcUnGlv5m2uJG0FrGmhY0SEprK3GlLggORVqckrEpnVYCamnVbRrlEtHypjmVhbVWyjW0tsESOOyNMNO0LZhJ3YAWVYhFC4zrlCPX8JiEHD+v3mVqCOAdOIpuTzEi6LRlRVQZkxemKDgqasip/+LIlMbOqy/p1SiCxfdtKR5E/FIFeFxFkEsYkp5xMyGq1ooOpBiK8RexYTnt8VZE8Gr6AnqRo5uPgaakttBmx3p0VKxp+LuVuDJLBvY5wJPelxXUFrgSb+inQJPNmCIMKJlrs/dyoCg0N1qe/2XgjEQI2HkU2PEXW+/EjSCQ6yIzIo9sGgTODluod9ww3vdEtmDmoa8AYJiiqRT4MXW2p3DEXQ+ibIjG0jPxgF7ZpicMO9I92Q754tvitYV4AIezEA9elohKk5WdGo+rdDgTu7ekbeUTUn4LHzYzTvsSG8gP898BcPicPeOb2rGK/w4g1egztKDEJ+e3Rgn9gyHw0E4Aa4XV5HbAzYzlmtRdKFz7IX2cRdi9edpsUJMqHej4fXatMJtaDTUccLmSRdXt8Xatkfc03TCxayjNquwS/fQ4rtjyedNXemOpKOHPJA15uGkogiN5BbB70UeGpNYT7bEjNQXBK1QlrLWxIA6Bj5LvLLUKBw9OaHV/W2+UpiSMEMSBjAKpSgExDiuPaARCpmznkYYxKTOjVt065w5r2E1wrO9irAqOK7Wq1TDRbZrhzB6sXpGO/zs12ei097joQKRfI0g9GlJ1NAXpAqkK0ODVgB9iVWMBA3+MzlJf6mKGgLXSpbpUzYGp1nrHCONB6qfB2G5Yx0O5ujndo1N65l6gIbz5eN6jhWw6f8B&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><linearGradient x1="100%" y1="0%" x2="0%" y2="0%" id="mx-gradient-6600cc-1-0050ef-1-e-0"><stop offset="0%" style="stop-color:#0050ef"/><stop offset="100%" style="stop-color:#6600CC"/></linearGradient></defs><g><path d="M 3815 1450 L 3929 1450 L 3929 1613.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3929 1618.88 L 3925.5 1611.88 L 3929 1613.63 L 3932.5 1611.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 3031.31 1780 L 3031.3 1530 L 3198.63 1530" fill="none" stroke="#314354" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3203.88 1530 L 3196.88 1533.5 L 3198.63 1530 L 3196.88 1526.5 Z" fill="#314354" stroke="#314354" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1530px; margin-left: 3046px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushWork(...)</div></div></div></foreignObject><text x="3046" y="1533" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork(...)</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1734px; margin-left: 3034px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">flushWork(...)</div></div></div></foreignObject><text x="3034" y="1738" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork(...)</text></switch></g><rect x="1575" y="1390" width="510" height="195" rx="29.25" ry="29.25" fill="#b0e3e6" stroke="#0e8088" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-end; justify-content: unsafe center; width: 508px; height: 1px; padding-top: 1582px; margin-left: 1576px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">requestHostCallback(flushWork)，有空闲时间，执行一次渲染工作flushWork</div></div></div></foreignObject><text x="1830" y="1582" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">requestHostCallback(flushWork)，有空闲时间，执行一次渲染工作flushWork</text></switch></g><rect x="1675" y="1030" width="800" height="250" rx="37.5" ry="37.5" fill="#b0e3e6" stroke="#0e8088" stroke-dasharray="3 3" pointer-events="all"/><rect x="1725" y="360" width="280" height="560" rx="42" ry="42" fill="#fad7ac" stroke="#b46504" stroke-dasharray="3 3" pointer-events="all"/><path d="M 955 810 L 955 726.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 955 721.12 L 958.5 728.12 L 955 726.37 L 951.5 728.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1015 850 L 1088.63 850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1093.88 850 L 1086.88 853.5 L 1088.63 850 L 1086.88 846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="955" cy="850" rx="60" ry="40" fill="#f0a30a" stroke="#bd7000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 850px; margin-left: 896px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scheduler</div></div></div></foreignObject><text x="955" y="854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">Scheduler</text></switch></g><path d="M 955 660 L 955 506.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 955 501.12 L 958.5 508.12 L 955 506.37 L 951.5 508.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 895 690 L 875 690 L 875 540 L 861.37 540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 856.12 540 L 863.12 536.5 L 861.37 540 L 863.12 543.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="895" y="660" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 690px; margin-left: 896px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">目录结构(src/)</div></div></div></foreignObject><text x="955" y="694" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">目录结构(src/)</text></switch></g><path d="M 695 540 L 665 540 L 665 495 L 641.37 495" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 495 L 643.12 491.5 L 641.37 495 L 643.12 498.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 641.37 540" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 540 L 643.12 536.5 L 641.37 540 L 643.12 543.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 665 540 L 665 585 L 641.37 585" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 585 L 643.12 581.5 L 641.37 585 L 643.12 588.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 665 540 L 665 405 L 641.37 405" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 405 L 643.12 401.5 L 641.37 405 L 643.12 408.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 695 540 L 665 540 L 665 665 L 641.37 665" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 636.12 665 L 643.12 661.5 L 641.37 665 L 643.12 668.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="695" y="510" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 540px; margin-left: 696px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SchedulerMinHeap.js<br />管理节点存储栈(队列)</div></div></div></foreignObject><text x="775" y="544" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SchedulerMinHeap.js...</text></switch></g><path d="M 955 440 L 955 400 L 835 400 L 835 366.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 835 361.12 L 838.5 368.12 L 835 366.37 L 831.5 368.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 955 440 L 955 400 L 1065 400 L 1065 366.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1065 361.12 L 1068.5 368.12 L 1065 366.37 L 1061.5 368.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="875" y="440" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 470px; margin-left: 876px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">forks/</div></div></div></foreignObject><text x="955" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">forks/</text></switch></g><path d="M 555 480 L 555 426.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 555 421.12 L 558.5 428.12 L 555 426.37 L 551.5 428.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 456px; margin-left: 557px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">push -&gt; siftUp(heap, ndoe, index), <br />index = push 之前的长度</div></div></div></foreignObject><text x="557" y="459" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">push -&gt; siftUp(heap, ndoe, index),...</text></switch></g><rect x="475" y="480" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 495px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push(heap, node)</div></div></div></foreignObject><text x="555" y="499" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">push(heap, node)</text></switch></g><path d="M 475 405 L 425 405 L 425 360 L 381.37 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 376.12 360 L 383.12 356.5 L 381.37 360 L 383.12 363.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="475" y="390" width="160" height="30" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 405px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">siftUp(heap, node, i)</div></div></div></foreignObject><text x="555" y="409" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">siftUp(heap, node, i)</text></switch></g><path d="M 475 665 L 427.5 665 L 427.5 720 L 386.37 720" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 381.12 720 L 388.12 716.5 L 386.37 720 L 388.12 723.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="475" y="650" width="160" height="30" fill="#fa6800" stroke="#c73500" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 665px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">siftDown(heap, node, i)</div></div></div></foreignObject><text x="555" y="669" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">siftDown(heap, node, i)</text></switch></g><rect x="475" y="525" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 540px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">peek(heap), heap[0]</div></div></div></foreignObject><text x="555" y="544" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">peek(heap), heap[0]</text></switch></g><path d="M 555 600 L 555 643.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 555 648.88 L 551.5 641.88 L 555 643.63 L 558.5 641.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 621px; margin-left: 557px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取 first, heap[0]=last,-&gt;<br />siftDown(heap,last,0)</div></div></div></foreignObject><text x="557" y="624" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取 first, heap[0]=last,-&gt;...</text></switch></g><rect x="475" y="570" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 585px; margin-left: 476px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>pop(heap)，取第一个heap[0]</span></div></div></div></foreignObject><text x="555" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">pop(heap)，取第一个heap[0]</text></switch></g><rect x="5" y="270" width="370" height="180" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 1px; padding-top: 260px; margin-left: 10px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 190px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>siftUp(heap,node,i)</h1><div><span style="text-align: center">总是找当前元素(current)前面的集合的中间元素(mid)做为目标与当前元素进行比较，如果 current&lt;mid 则互相替换位置，如: heap=[1,7,3,9],push(heap,6),heap=[1,7,3,9,6] -&gt; siftUp(heap,6,4)，则有步骤：</span><br /></div><div><span style="text-align: center">1. 找到 6 前面的 [1,7,3,9]<br />2. 计算中间索引 parentIndex= (index - 1) &gt;&gt;&gt; 2 得到 1, 对应的值 7</span></div><div><span style="text-align: center">3. 比较 7,6 结果 7 &gt; 6 进行替换得到 heap=[1,6,3,9,7]<br />4. index=parentIndex=1，回到步骤2，(1-1)&gt;&gt;&gt;2=0，退出循环结束</span></div><div><span style="text-align: center">5. 最后 heap=[1,6,3,9,7]</span></div></div></div></div></foreignObject><text x="10" y="272" fill="#000000" font-family="Helvetica" font-size="12px">siftUp(heap,node,i)...</text></switch></g><rect x="0" y="610" width="380" height="220" fill="none" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 372px; height: 1px; padding-top: 600px; margin-left: 5px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 230px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>siftDown(heap,node,i)</h1><div>pop(heap,node)-&gt;pop heap[0]-&gt; <span>heap[0]=last-&gt;siftDown(heap,node,0)<br />所以 pop 并不是数组的 [].pop()，它会返回heap[0]，然后让last变成heap[0] 之后执行 siftDown，如：heap=[0,2,1,9,4,5,3]，pop()步骤<br />1. pop() -&gt; 0 -&gt; last-&gt;first -&gt; heap=[3,2,1,9,4,5]<br />2. siftDown -&gt; half=3 -&gt;left=(index=0+1)*2-1=1=2,right=1,发现3&gt;2&gt;1所以3,1替换，最后 heap=[1,2,3,9,4,5]<br />3. index=right=1, -&gt; left=(1+1)*2-1=3=9,right=4, 3 &lt; 9且3&lt;4，退出循环，最后heap就是步骤2中的heap=[1,2,3,9,4,5]</span></div><div><br /></div><div><font style="font-size: 14px"><b>所以 siftDown 最后合目的，pop first, last -&gt; first, 找到 last 下沉直到前面的都比它小</b></font></div></div></div></div></foreignObject><text x="5" y="612" fill="#000000" font-family="Helvetica" font-size="12px">siftDown(heap,node,i)...</text></switch></g><path d="M 835 300 L 835 250 L 773.2 250 L 773.2 204.85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 773.2 199.6 L 776.7 206.6 L 773.2 204.85 L 769.7 206.6 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 810px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">主要函数</div></div></div></foreignObject><text x="810" y="253" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">主要函数</text></switch></g><rect x="755" y="300" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 330px; margin-left: 756px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scheduler.js</div></div></div></foreignObject><text x="835" y="334" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Scheduler.js</text></switch></g><path d="M 1065 300 L 1065 245 L 1094 245 L 1093.99 197.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1093.99 192.12 L 1097.49 199.12 L 1093.99 197.37 L 1090.49 199.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="985" y="300" width="160" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 330px; margin-left: 986px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SchedulerPostTask.js</div></div></div></foreignObject><text x="1065" y="334" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SchedulerPostTask.js</text></switch></g><rect x="595" y="0" width="360" height="200" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 595 51 L 955 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 595 100 L 955 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 595 151 L 955 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 765 0 L 765 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 595 0 M 955 0 M 955 51 M 595 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="0" width="170" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 595 0 M 765 0 M 765 51 M 595 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 26px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduleCallback<br />(priorityLevel,callback,options)</div></div></div></foreignObject><text x="680" y="29" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduleCallback...</text></switch></g><rect x="765" y="0" width="190" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 765 0 M 955 0 M 955 51 M 765 51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 26px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调度器入口函数，决定callback 是立即执行还是进入队列排队等候</div></div></div></foreignObject><text x="860" y="29" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">调度器入口函数，决定callback 是立即执行还是进入队列排队等候</text></switch></g><path d="M 595 51 M 955 51 M 955 100 M 595 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="51" width="170" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 595 51 M 765 51 M 765 100 M 595 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 76px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushWork(hasTimeRemaining, initialTime)</div></div></div></foreignObject><text x="680" y="79" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">flushWork(hasTimeRemaining,...</text></switch></g><rect x="765" y="51" width="190" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 765 51 M 955 51 M 955 100 M 765 100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 76px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flush 任务队列</div></div></div></foreignObject><text x="860" y="79" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">flush 任务队列</text></switch></g><path d="M 595 100 M 955 100 M 955 151 M 595 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="100" width="170" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 595 100 M 765 100 M 765 151 M 595 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 126px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">workLoop()</div></div></div></foreignObject><text x="680" y="129" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">workLoop()</text></switch></g><rect x="765" y="100" width="190" height="51" fill="none" stroke="none" pointer-events="all"/><path d="M 765 100 M 955 100 M 955 151 M 765 151" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 126px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 47px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">暂停或执行任务</div></div></div></foreignObject><text x="860" y="129" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">暂停或执行任务</text></switch></g><path d="M 595 151 M 955 151 M 955 200 M 595 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="595" y="151" width="170" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 595 151 M 765 151 M 765 200 M 595 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 176px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cancelCallBack()</div></div></div></foreignObject><text x="680" y="179" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cancelCallBack()</text></switch></g><rect x="765" y="151" width="190" height="49" fill="none" stroke="none" pointer-events="all"/><path d="M 765 151 M 955 151 M 955 200 M 765 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 176px; margin-left: 766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 45px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取消任务</div></div></div></foreignObject><text x="860" y="179" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取消任务</text></switch></g><rect x="995" y="150" width="190" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><path d="M 1090 150 L 1090 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 995 150 M 1185 150 M 1185 190 M 995 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="995" y="150" width="95" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 995 150 M 1090 150 M 1090 190 M 995 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 93px; height: 1px; padding-top: 170px; margin-left: 996px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">runTask()</div></div></div></foreignObject><text x="1043" y="174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">runTask()</text></switch></g><rect x="1090" y="150" width="95" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 1090 150 M 1185 150 M 1185 190 M 1090 190" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 93px; height: 1px; padding-top: 170px; margin-left: 1091px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行任务</div></div></div></foreignObject><text x="1138" y="174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">执行任务</text></switch></g><path d="M 1215 850 L 1378.63 850" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1383.88 850 L 1376.88 853.5 L 1378.63 850 L 1376.88 846.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1095" y="820" width="120" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 850px; margin-left: 1096px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Scheduler.js</div></div></div></foreignObject><text x="1155" y="854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">Scheduler.js</text></switch></g><path d="M 1565 850 L 1645 850 L 1645 640 L 1718.63 640" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1723.88 640 L 1716.88 643.5 L 1718.63 640 L 1716.88 636.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1385" y="820" width="180" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 850px; margin-left: 1386px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduleCallback(priorityLevel, callback, options)</div></div></div></foreignObject><text x="1475" y="854" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduleCallback(priorityLevel...</text></switch></g><path d="M 1860 830 L 1860 756.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1860 751.12 L 1863.5 758.12 L 1860 756.37 L 1856.5 758.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 792px; margin-left: 1861px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">任务的优先级</div></div></div></foreignObject><text x="1861" y="795" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">任务的优先级</text></switch></g><path d="M 2005 780 L 2105 780 L 2105 860 L 2198.63 860" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2203.88 860 L 2196.88 863.5 L 2198.63 860 L 2196.88 856.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1765" y="830" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 860px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. 计算当前入列的开始时间<br />performance.now() + options.delay</div></div></div></foreignObject><text x="1860" y="864" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">1. 计算当前入列的开始时间...</text></switch></g><path d="M 1955 720 L 2040 720 L 2040 665 L 2118.63 665" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2123.88 665 L 2116.88 668.5 L 2118.63 665 L 2116.88 661.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 668px; margin-left: 2043px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">timeout=</div></div></div></foreignObject><text x="2043" y="671" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">timeout=</text></switch></g><path d="M 1860 690 L 1860 616.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1860 611.12 L 1863.5 618.12 L 1860 616.37 L 1856.5 618.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 649px; margin-left: 1864px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">时间到，需要去执行的</div></div></div></foreignObject><text x="1864" y="652" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">时间到，需要去执行的</text></switch></g><rect x="1765" y="690" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 720px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">2. 设置 callback 优先级,priorityLevel</div></div></div></foreignObject><text x="1860" y="724" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">2. 设置 callback 优先级,priorityLevel</text></switch></g><rect x="2125" y="565" width="400" height="200" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 605 L 2525 605" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 645 L 2525 645" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 685 L 2525 685" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 725 L 2525 725" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2255 565 L 2255 765" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2125 565 M 2525 565 M 2525 605 M 2125 605" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="565" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 565 M 2255 565 M 2255 605 M 2125 605" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 585px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ImmediatePriority</div></div></div></foreignObject><text x="2190" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ImmediatePriority</text></switch></g><rect x="2255" y="565" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 565 M 2525 565 M 2525 605 M 2255 605" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 585px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IMMEDIATE_PRIORITY_TIMEOUT=-1,<br />立即执行的</div></div></div></foreignObject><text x="2390" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IMMEDIATE_PRIORITY_TIMEOUT=-1,...</text></switch></g><path d="M 2125 605 M 2525 605 M 2525 645 M 2125 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="605" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 605 M 2255 605 M 2255 645 M 2125 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 625px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">UserBlockingPriority</div></div></div></foreignObject><text x="2190" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">UserBlockingPriority</text></switch></g><rect x="2255" y="605" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 605 M 2525 605 M 2525 645 M 2255 645" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 625px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">USER_BLOCKING_PRIORITY_TIMEOUT=250,<br />阻塞优先级</div></div></div></foreignObject><text x="2390" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">USER_BLOCKING_PRIORITY_TIMEOUT=250,...</text></switch></g><path d="M 2125 645 M 2525 645 M 2525 685 M 2125 685" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="645" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 645 M 2255 645 M 2255 685 M 2125 685" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 665px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IdlePriority</div></div></div></foreignObject><text x="2190" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IdlePriority</text></switch></g><rect x="2255" y="645" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 645 M 2525 645 M 2525 685 M 2255 685" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 665px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">IDLE_PRIORITY_TIMEOUT=Math.pow(2,30)-1<br />=1073741823,最大的32位整数,空闲优先级</div></div></div></foreignObject><text x="2390" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">IDLE_PRIORITY_TIMEOUT=Math.pow(2,30)-1...</text></switch></g><path d="M 2125 685 M 2525 685 M 2525 725 M 2125 725" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="685" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 685 M 2255 685 M 2255 725 M 2125 725" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 705px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">LowPriority</div></div></div></foreignObject><text x="2190" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">LowPriority</text></switch></g><rect x="2255" y="685" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 685 M 2525 685 M 2525 725 M 2255 725" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 705px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">LOW_PRIORITY_TIMEOUT=10000，低优先级</div></div></div></foreignObject><text x="2390" y="709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">LOW_PRIORITY_TIMEOUT=10000，低优先级</text></switch></g><path d="M 2125 725 M 2525 725 M 2525 765 M 2125 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2125" y="725" width="130" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2125 725 M 2255 725 M 2255 765 M 2125 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 745px; margin-left: 2126px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NormalPriority</div></div></div></foreignObject><text x="2190" y="749" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">NormalPriority</text></switch></g><rect x="2255" y="725" width="270" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2255 725 M 2525 725 M 2525 765 M 2255 765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 268px; height: 1px; padding-top: 745px; margin-left: 2256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">NORMAL_PRIORITY_TIMEOUT=5000,正常优先级</div></div></div></foreignObject><text x="2390" y="749" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">NORMAL_PRIORITY_TIMEOUT=5000,正常优先级</text></switch></g><path d="M 1860 550 L 1860 476.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1860 471.12 L 1863.5 478.12 L 1860 476.37 L 1856.5 478.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 508px; margin-left: 1865px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">将 callback 按照一定规则封装成一个对象</div></div></div></foreignObject><text x="1865" y="511" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">将 callback 按照一定规则封装成一个对象</text></switch></g><rect x="1765" y="550" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 580px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">3. 到期时间expirationTime=startTime+timeout</div></div></div></foreignObject><text x="1860" y="584" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">3. 到期时间expirationTime=startTime+tim...</text></switch></g><path d="M 1955 440 L 2045 440 L 2045 350 L 2128.63 350" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2133.88 350 L 2126.88 353.5 L 2128.63 350 L 2126.88 346.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1765" y="410" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 440px; margin-left: 1766px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">4. newTask=任务对象封装</div></div></div></foreignObject><text x="1860" y="444" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">4. newTask=任务对象封装</text></switch></g><rect x="2135" y="290" width="250" height="240" fill="#ffffff" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 330 L 2385 330" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 370 L 2385 370" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 410 L 2385 410" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 450 L 2385 450" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 490 L 2385 490" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2225 290 L 2225 530" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2135 290 M 2385 290 M 2385 330 M 2135 330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="290" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 290 M 2225 290 M 2225 330 M 2135 330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 310px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">id</div></div></div></foreignObject><text x="2180" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">id</text></switch></g><rect x="2225" y="290" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 290 M 2385 290 M 2385 330 M 2225 330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 310px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">taskIdCounter++,一个全局的计数 id</div></div></div></foreignObject><text x="2305" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">taskIdCounter++,一个全局的计数 id</text></switch></g><path d="M 2135 330 M 2385 330 M 2385 370 M 2135 370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="330" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 330 M 2225 330 M 2225 370 M 2135 370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 350px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback</div></div></div></foreignObject><text x="2180" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback</text></switch></g><rect x="2225" y="330" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 330 M 2385 330 M 2385 370 M 2225 370" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 350px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">任务函数</div></div></div></foreignObject><text x="2305" y="354" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">任务函数</text></switch></g><path d="M 2135 370 M 2385 370 M 2385 410 M 2135 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="370" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 370 M 2225 370 M 2225 410 M 2135 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 390px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">priorityLevel</div></div></div></foreignObject><text x="2180" y="394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">priorityLevel</text></switch></g><rect x="2225" y="370" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 370 M 2385 370 M 2385 410 M 2225 410" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 390px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback 执行的优先级</div></div></div></foreignObject><text x="2305" y="394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback 执行的优先级</text></switch></g><path d="M 2135 410 M 2385 410 M 2385 450 M 2135 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="410" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 410 M 2225 410 M 2225 450 M 2135 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 430px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">startTime</div></div></div></foreignObject><text x="2180" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">startTime</text></switch></g><rect x="2225" y="410" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 410 M 2385 410 M 2385 450 M 2225 450" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 430px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback 应该入列的时间</div></div></div></foreignObject><text x="2305" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback 应该入列的时间</text></switch></g><path d="M 2135 450 M 2385 450 M 2385 490 M 2135 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="450" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 450 M 2225 450 M 2225 490 M 2135 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 470px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">expirationTime</div></div></div></foreignObject><text x="2180" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">expirationTime</text></switch></g><rect x="2225" y="450" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 450 M 2385 450 M 2385 490 M 2225 490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 470px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">callback 应该执行的时间</div></div></div></foreignObject><text x="2305" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">callback 应该执行的时间</text></switch></g><path d="M 2135 490 M 2385 490 M 2385 530 M 2135 530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2135" y="490" width="90" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2135 490 M 2225 490 M 2225 530 M 2135 530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 510px; margin-left: 2136px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sortIndex</div></div></div></foreignObject><text x="2180" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sortIndex</text></switch></g><rect x="2225" y="490" width="160" height="40" fill="none" stroke="none" pointer-events="all"/><path d="M 2225 490 M 2385 490 M 2385 530 M 2225 530" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 510px; margin-left: 2226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 36px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">-1</div></div></div></foreignObject><text x="2305" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">-1</text></switch></g><path d="M 2395 860 L 2648.63 860" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2653.88 860 L 2646.88 863.5 L 2648.63 860 L 2646.88 856.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2205" y="830" width="190" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 860px; margin-left: 2206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如何处理 newTask ?</div></div></div></foreignObject><text x="2300" y="864" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">如何处理 newTask ?</text></switch></g><path d="M 2735 900 L 2735 933.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2735 938.88 L 2731.5 931.88 L 2735 933.63 L 2738.5 931.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 916px; margin-left: 2735px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">yes</div></div></div></foreignObject><text x="2735" y="919" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">yes</text></switch></g><path d="M 2815 860 L 2990 860 L 2990 1402.63" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2990 1407.88 L 2986.5 1400.88 L 2990 1402.63 L 2993.5 1400.88 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1047px; margin-left: 2990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">no</div></div></div></foreignObject><text x="2990" y="1050" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">no</text></switch></g><path d="M 2735 820 L 2815 860 L 2735 900 L 2655 860 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 860px; margin-left: 2656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">startTime&gt;currentTime?</div></div></div></foreignObject><text x="2735" y="864" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">startTime&gt;currentTime?</text></switch></g><path d="M 2645 1180 L 2575 1180 L 2575 1070 L 2431.37 1070" fill="none" stroke="#001dbc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2426.12 1070 L 2433.12 1066.5 L 2431.37 1070 L 2433.12 1073.5 Z" fill="#001dbc" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1071px; margin-left: 2556px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取 taskQueue[0] === null?<br />newTask === timerQueue[0]?</div></div></div></foreignObject><text x="2556" y="1074" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取 taskQueue[0] === null?...</text></switch></g><path d="M 2735 1000 L 2735 1143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2735 1148.88 L 2731.5 1141.88 L 2735 1143.63 L 2738.5 1141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2675" y="940" width="120" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 970px; margin-left: 2676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">设置 sortIndex=startTime</div></div></div></foreignObject><text x="2735" y="974" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">设置 sortIndex=startTime</text></switch></g><path d="M 2905 1439 L 2855.37 1439" fill="none" stroke="#3700cc" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2850.12 1439 L 2857.12 1435.5 L 2855.37 1439 L 2857.12 1442.5 Z" fill="#3700cc" stroke="#3700cc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1438px; margin-left: 2886px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">入列</div></div></div></foreignObject><text x="2886" y="1441" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">入列</text></switch></g><rect x="2905" y="1409" width="170" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 1439px; margin-left: 2906px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">设置 sortIndex=expirationTime</div></div></div></foreignObject><text x="2990" y="1443" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">设置 sortIndex=expirationTime</text></switch></g><path d="M 2669 1439 L 2637 1439 L 2637 1369 L 2611.37 1369" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2606.12 1369 L 2613.12 1365.5 L 2611.37 1369 L 2613.12 1372.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2669" y="1409" width="180" height="60" fill="url(#mx-gradient-6600cc-1-0050ef-1-e-0)" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1439px; margin-left: 2670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push(timerQueue,newTask)</div></div></div></foreignObject><text x="2759" y="1443" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">push(timerQueue,newTask)</text></switch></g><rect x="2645" y="1150" width="180" height="60" fill="url(#mx-gradient-6600cc-1-0050ef-1-e-0)" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1180px; margin-left: 2646px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">push(timerQueue,newTask)</div></div></div></foreignObject><text x="2735" y="1184" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">push(timerQueue,newTask)</text></switch></g><path d="M 2385 1110 L 2385 1143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2385 1148.88 L 2381.5 1141.88 L 2385 1143.63 L 2388.5 1141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1126px; margin-left: 2384px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="2384" y="1129" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 2385 1030 L 2425 1070 L 2385 1110 L 2345 1070 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1070px; margin-left: 2346px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">newTask first?</div></div></div></foreignObject><text x="2385" y="1074" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">newTask first?</text></switch></g><path d="M 2295 1180 L 2275 1180 L 2295 1180 L 2281.37 1180" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2276.12 1180 L 2283.12 1176.5 L 2281.37 1180 L 2283.12 1183.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2295" y="1150" width="180" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1180px; margin-left: 2296px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">所有的task都delayed且这个newTask还是最早要触发的</div></div></div></foreignObject><text x="2385" y="1184" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">所有的task都delayed且这个newTask还是最早要触发的</text></switch></g><path d="M 2075 1180 L 1944.12 1180" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1938.87 1180 L 1945.87 1176.5 L 1944.12 1180 L 1945.87 1183.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1175px; margin-left: 2014px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取消已经存在的 timeout</div></div></div></foreignObject><text x="2014" y="1178" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取消已经存在的 timeout</text></switch></g><path d="M 2175 1140 L 2175 1120 L 2175 1130 L 2175 1116.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2175 1111.12 L 2178.5 1118.12 L 2175 1116.37 L 2171.5 1118.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1122px; margin-left: 2177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="2177" y="1125" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 2175 1140 L 2275 1180 L 2175 1220 L 2075 1180 Z" fill="#0050ef" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1180px; margin-left: 2076px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>isHostTimeoutScheduled</span></div></div></div></foreignObject><text x="2175" y="1184" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">isHostTimeoutScheduled</text></switch></g><path d="M 1865.4 1150 L 1865.4 1130 L 1864.79 1116.36" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1864.55 1111.12 L 1868.36 1117.95 L 1864.79 1116.36 L 1861.37 1118.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1865.38 1210 L 1865.4 1260 L 1626.87 1260" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1621.62 1260 L 1628.62 1256.5 L 1626.87 1260 L 1628.62 1263.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1793" y="1150" width="144.75" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1180px; margin-left: 1794px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cancelHostTimeout()</div></div></div></foreignObject><text x="1865" y="1184" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">cancelHostTimeout()</text></switch></g><path d="M 2085 1080 L 2000.37 1080" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1995.12 1080 L 2002.12 1076.5 L 2000.37 1080 L 2002.12 1083.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2085" y="1050" width="180" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1080px; margin-left: 2086px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>isHostTimeoutScheduled = true</span></div></div></div></foreignObject><text x="2175" y="1084" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">isHostTimeoutScheduled = true</text></switch></g><path d="M 1735 1080 L 1661.37 1080" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1656.12 1080 L 1663.12 1076.5 L 1661.37 1080 L 1663.12 1083.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1735" y="1050" width="259" height="60" fill="#0050ef" stroke="#001dbc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 257px; height: 1px; padding-top: 1080px; margin-left: 1736px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FFFFFF; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>requestHostTimeout(handleTimeout, startTime-currentTime)</span></div></div></div></foreignObject><text x="1865" y="1084" fill="#FFFFFF" font-family="Helvetica" font-size="12px" text-anchor="middle">requestHostTimeout(handleTimeout, startTime...</text></switch></g><path d="M 2160 1439 L 2122.5 1439 L 2091.37 1438.79" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2086.12 1438.76 L 2093.14 1435.3 L 2091.37 1438.79 L 2093.09 1442.3 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2160" y="1409" width="210" height="60" fill="#6a00ff" stroke="#3700cc" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1439px; margin-left: 2161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isHostCallbackScheduled=true<br />requestHostCallback(flushWork)</div></div></div></foreignObject><text x="2265" y="1443" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isHostCallbackScheduled=true...</text></switch></g><path d="M 1430.5 1260 L 1376 1260 L 1376 1080 L 1389.63 1080" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1394.88 1080 L 1387.88 1083.5 L 1389.63 1080 L 1387.88 1076.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1161px; margin-left: 1395px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">taskTimeoutID,<br /><font color="#ff0000">这里有可能上一个还没完成</font></div></div></div></foreignObject><text x="1395" y="1164" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">taskTimeoutID,...</text></switch></g><rect x="1430.5" y="1230" width="190" height="60" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1260px; margin-left: 1432px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">clearTimeout(taskTimeoutID)</div></div></div></foreignObject><text x="1526" y="1264" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">clearTimeout(taskTimeoutID)</text></switch></g><rect x="1396" y="1050" width="259" height="60" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 257px; height: 1px; padding-top: 1080px; margin-left: 1397px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">taskTimeoutID=setTimeout(()=&gt; <br />handleTimeout(),ms)</div></div></div></foreignObject><text x="1526" y="1084" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">taskTimeoutID=setTimeout(()=&gt;...</text></switch></g><path d="M 1818 1439 L 1771.87 1439" fill="none" stroke="#10739e" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1766.62 1439 L 1773.62 1435.5 L 1771.87 1439 L 1773.62 1442.5 Z" fill="#10739e" stroke="#10739e" stroke-miterlimit="10" pointer-events="all"/><rect x="1818" y="1409" width="195" height="60" fill="#b1ddf0" stroke="#10739e" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1439px; margin-left: 1819px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduledHostCallback=callback</div></div></div></foreignObject><text x="1916" y="1443" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduledHostCallback=callback</text></switch></g><path d="M 1679.25 1479 L 1679.3 1519 L 1759.13 1519" fill="none" stroke="#10739e" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1764.38 1519 L 1757.38 1522.5 L 1759.13 1519 L 1757.38 1515.5 Z" fill="#10739e" stroke="#10739e" stroke-miterlimit="10" pointer-events="all"/><path d="M 1679.25 1399 L 1765.5 1439 L 1679.25 1479 L 1593 1439 Z" fill="#b1ddf0" stroke="#10739e" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 1439px; margin-left: 1594px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isMessageLoopRunning?</div></div></div></foreignObject><text x="1679" y="1443" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">isMessageLoopRunning?</text></switch></g><path d="M 1987.25 1519 L 2065 1519 L 2065 1670 L 2182.76 1670" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2188.01 1670 L 2181.01 1673.5 L 2182.76 1670 L 2181.01 1666.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="1765.5" y="1489" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1519px; margin-left: 1767px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>isMessageLoopRunning = true</div><div>    schedulePerformWorkUntilDeadline()</div></div></div></div></foreignObject><text x="1876" y="1523" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isMessageLoopRunning = true...</text></switch></g><path d="M 2189.13 1655 L 2169.1 1655 L 2169.1 1560 L 2182.76 1560" fill="none" stroke="#3a5431" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2188.01 1560 L 2181.01 1563.5 L 2182.76 1560 L 2181.01 1556.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><path d="M 2410.88 1670 L 2484.51 1670" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2489.76 1670 L 2482.76 1673.5 L 2484.51 1670 L 2482.76 1666.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1510" width="260" height="110" fill="none" stroke="#c73500" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2189.13 1543 L 2449.13 1543" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2189.13 1577 L 2449.13 1577" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2289.13 1510 L 2289.13 1620" fill="none" stroke="#c73500" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><path d="M 2189.13 1510 M 2449.13 1510 M 2449.13 1543 M 2189.13 1543" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1510" width="100" height="33" fill="none" stroke="none" pointer-events="all"/><path d="M 2189.13 1510 M 2289.13 1510 M 2289.13 1543 M 2189.13 1543" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1527px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 29px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Node.js 和 old IE</div></div></div></foreignObject><text x="2239" y="1530" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Node.js 和 old IE</text></switch></g><rect x="2289.13" y="1510" width="160" height="33" fill="none" stroke="none" pointer-events="all"/><path d="M 2289.13 1510 M 2449.13 1510 M 2449.13 1543 M 2289.13 1543" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1527px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 29px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">使用 setImmediate</div></div></div></foreignObject><text x="2369" y="1530" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">使用 setImmediate</text></switch></g><path d="M 2189.13 1543 M 2449.13 1543 M 2449.13 1577 M 2189.13 1577" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1543" width="100" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 2189.13 1543 M 2289.13 1543 M 2289.13 1577 M 2189.13 1577" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1560px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 30px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">MessageChannel</div></div></div></foreignObject><text x="2239" y="1564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">MessageChannel</text></switch></g><rect x="2289.13" y="1543" width="160" height="34" fill="none" stroke="none" pointer-events="all"/><path d="M 2289.13 1543 M 2449.13 1543 M 2449.13 1577 M 2289.13 1577" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1560px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 30px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">通道能力</div></div></div></foreignObject><text x="2369" y="1564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">通道能力</text></switch></g><path d="M 2189.13 1577 M 2449.13 1577 M 2449.13 1620 M 2189.13 1620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2189.13" y="1577" width="100" height="43" fill="none" stroke="none" pointer-events="all"/><path d="M 2189.13 1577 M 2289.13 1577 M 2289.13 1620 M 2189.13 1620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1599px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 39px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">setTimeout</div></div></div></foreignObject><text x="2239" y="1602" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">setTimeout</text></switch></g><rect x="2289.13" y="1577" width="160" height="43" fill="none" stroke="none" pointer-events="all"/><path d="M 2289.13 1577 M 2449.13 1577 M 2449.13 1620 M 2289.13 1620" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1599px; margin-left: 2290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 39px; overflow: hidden; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">这个是最后的选择，因为 4ms 问题，所以优先用 MessageChannel</div></div></div></foreignObject><text x="2369" y="1602" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">这个是最后的选择，因为 4ms 问题，所以优先用 MessageChannel</text></switch></g><path d="M 2317.5 1469 Q 2317.5 1539.5 2626.75 1539.5 Q 2936 1539.5 2936 1603.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2936 1608.88 L 2932.5 1601.88 L 2936 1603.63 L 2939.5 1601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1544px; margin-left: 2707px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">此时的 scheduleHostCallback 就是 flushWork</div></div></div></foreignObject><text x="2707" y="1547" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">此时的 scheduleHostCallback 就是 flushWork</text></switch></g><rect x="2490.88" y="1640" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1670px; margin-left: 2492px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div><span>这里使用 MessageChannel-&gt;channel.port2.postMessage(null)</span><br /></div></div></div></div></foreignObject><text x="2602" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">这里使用 MessageChannel-&gt;channel.port2.postMe...</text></switch></g><path d="M 2490.88 1610 L 2632.88 1610 L 2632.88 1640 L 2520.88 1640 L 2505.88 1660 L 2490.88 1640 Z" fill="#10739e" stroke="none" pointer-events="all"/><path d="M 2490.88 1610 L 2520.88 1610 L 2520.88 1640 L 2505.88 1660 L 2490.88 1640 Z" fill-opacity="0.2" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1622px; margin-left: 2562px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">PORT2</div></div></div></foreignObject><text x="2562" y="1636" fill="#ffffff" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">PORT2</text></switch></g><rect x="2865" y="1640" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1670px; margin-left: 2866px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>channel.port1 接受，只要有消息过来就会执行 performWorkUntilDeadline</div></div></div></div></foreignObject><text x="2976" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">channel.port1 接受，只要有消息过来就会执行 performWorkUntilDeadli...</text></switch></g><path d="M 2865 1610 L 3007 1610 L 3007 1640 L 2895 1640 L 2880 1660 L 2865 1640 Z" fill="#10739e" stroke="none" pointer-events="all"/><path d="M 2865 1610 L 2895 1610 L 2895 1640 L 2880 1660 L 2865 1640 Z" fill-opacity="0.2" fill="#ffffff" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1622px; margin-left: 2936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; font-weight: bold; white-space: nowrap; ">PORT1</div></div></div></foreignObject><text x="2936" y="1636" fill="#ffffff" font-family="Helvetica" font-size="14px" text-anchor="middle" font-weight="bold">PORT1</text></switch></g><path d="M 2865 1810 Q 2865 1810 2730.49 1810" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2725.24 1810 L 2732.24 1806.5 L 2730.49 1810 L 2732.24 1813.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1810px; margin-left: 2796px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">不论flushWork结果如何</div></div></div></foreignObject><text x="2796" y="1813" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">不论flushWork结果如何</text></switch></g><rect x="2865" y="1780" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1810px; margin-left: 2866px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>hasMoreWork = scheduleHostCallback(hasTimeRemaining, currentTime) 执行 flushWork(...)</div></div></div></div></foreignObject><text x="2976" y="1814" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">hasMoreWork = scheduleHostCallback(ha...</text></switch></g><path d="M 2624.13 1810 Q 2624.13 1810 2521.37 1810" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2516.12 1810 L 2523.12 1806.5 L 2521.37 1810 L 2523.12 1813.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1813px; margin-left: 2561px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">都要执行</div></div></div></foreignObject><text x="2561" y="1816" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">都要执行</text></switch></g><path d="M 2614.13 1840 L 2634.13 1780 L 2734.13 1780 L 2714.13 1840 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1810px; margin-left: 2615px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">finally{...}</div></div></div></foreignObject><text x="2674" y="1814" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">finally{...}</text></switch></g><path d="M 2385 1810 L 2294 1810 L 2294.02 1705.35" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2294.02 1700.1 L 2297.52 1707.1 L 2294.02 1705.35 L 2290.52 1707.1 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1771px; margin-left: 2292px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true,在当前空闲时间内，如果还<br />有其它任务要做，继续回到 port2  发<br />信号给 port1 </div></div></div></foreignObject><text x="2292" y="1775" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true,在当前空闲时间内，如果还...</text></switch></g><path d="M 2450 1850 L 2450 1933.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2450 1938.88 L 2446.5 1931.88 L 2450 1933.63 L 2453.5 1931.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1892px; margin-left: 2453px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false, 当前空闲时间内完成了该做的任务</div></div></div></foreignObject><text x="2453" y="1895" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false, 当前空闲时间内完成了该做的任务</text></switch></g><path d="M 2450 1770 L 2515 1810 L 2450 1850 L 2385 1810 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1810px; margin-left: 2386px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">hasMoreWork?</div></div></div></foreignObject><text x="2450" y="1814" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">hasMoreWork?</text></switch></g><path d="M 2352.5 1970 L 1555 1970 L 1555 1439 L 1586.63 1439" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1591.88 1439 L 1584.88 1442.5 L 1586.63 1439 L 1584.88 1435.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1940px; margin-left: 1966px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置 loop 标记，让管道能继续接受到信号，也就是说 isMessageLoopRunning <br />用来控制管道一次只能接受一个信号，处理一次 flushWork</div></div></div></foreignObject><text x="1966" y="1944" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">重置 loop 标记，让管道能继续接受到信号，也就是说 isMessageLoopRunning...</text></switch></g><rect x="2352.5" y="1940" width="195" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1970px; margin-left: 2354px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isMessageLoopRunning = false<br />scheduledHostCallback = null</div></div></div></foreignObject><text x="2450" y="1974" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">isMessageLoopRunning = false...</text></switch></g><rect x="2633" y="1870" width="252" height="160" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 244px; height: 1px; padding-top: 1860px; margin-left: 2638px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 170px; overflow: hidden; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>finally</h1><div>使用 try{ flushWork()... } finally 目的是防止当前任务出现异常阻碍后续流程，finally 始终要能执行下去的好处：</div><div>1. 继续处理后续 work<br />2. 重置管道标记，让管道始终保持畅通</div></div></div></div></foreignObject><text x="2638" y="1874" fill="#000000" font-family="Helvetica" font-size="14px">finally...</text></switch></g><path d="M 3285 1710 L 3285 1810 L 3093.12 1810" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3087.87 1810 L 3094.87 1806.5 L 3093.12 1810 L 3094.87 1813.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1791px; margin-left: 3256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 14px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="font-size: 11px">hasMoreWork = true, 标记还有其它任务要做</span></div></div></div></foreignObject><text x="3256" y="1795" fill="#000000" font-family="Helvetica" font-size="14px" text-anchor="middle">hasMoreWork = true, 标记还有其它任务要做</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1749px; margin-left: 3287px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true, =flushWork?</div></div></div></foreignObject><text x="3287" y="1752" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true, =flushWork?</text></switch></g><path d="M 3375 1670 L 3405 1670 L 3405 2050 L 2498.8 2050 L 2498.76 2006.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2498.75 2001.12 L 2502.26 2008.11 L 2498.76 2006.37 L 2495.26 2008.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2051px; margin-left: 3206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false, 当前没有要做的事情(work), 重置标记</div></div></div></foreignObject><text x="3206" y="2054" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false, 当前没有要做的事情(work), 重置标记</text></switch></g><path d="M 3285 1630 L 3375 1670 L 3285 1710 L 3195 1670 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1670px; margin-left: 3196px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">scheduledHostCallback?</div></div></div></foreignObject><text x="3285" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">scheduledHostCallback?</text></switch></g><path d="M 3086.75 1670 L 3188.63 1670" fill="none" stroke="#3a5431" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3193.88 1670 L 3186.88 1673.5 L 3188.63 1670 L 3186.88 1666.5 Z" fill="#3a5431" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="3175" y="1920" width="120" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1950px; margin-left: 3176px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">needsPaint = false</div></div></div></foreignObject><text x="3235" y="1953" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">needsPaint = false</text></switch></g><path d="M 3295 1500 L 3295 1309 L 2994 1309 C 2994 1303.8 2986 1303.8 2986 1309 L 2986 1309 L 2505 1309 L 2505 1322.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2505 1327.88 L 2501.5 1320.88 L 2505 1322.63 L 2508.5 1320.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1351px; margin-left: 3009px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置这两个标记，表示任务在执行了，入列的时候<br />阻止flush动作，只作单纯的入列操作<br />1. isHostCallbackScheduled=false<br />2. isPerformingWork=true，标记正在执行任务</div></div></div></foreignObject><text x="3009" y="1354" fill="#000000" font-family="Helvetica" font-size="11px">重置这两个标记，表示任务在执行了，入列的时候阻止flush动作，只作单纯的入列操作...</text></switch></g><path d="M 3307.03 1560 Q 3307 1650 3511.88 1650" fill="none" stroke="#b20000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3518.88 1650 L 3511.88 1653.5 L 3511.88 1646.5 Z" fill="none" stroke="#b20000" stroke-miterlimit="10" pointer-events="all"/><rect x="3205" y="1500" width="190" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1530px; margin-left: 3206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">flushWork(hasTimeRemaining, initialTime)</div></div></div></foreignObject><text x="3300" y="1533" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork(hasTimeRemaining, initia...</text></switch></g><path d="M 3086.75 1685 L 3130.9 1685 L 3130.9 1806 C 3136.1 1806 3136.1 1814 3130.9 1814 L 3130.9 1814 L 3130.9 1950 L 3168.63 1950" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3173.88 1950 L 3166.88 1953.5 L 3168.63 1950 L 3166.88 1946.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 3130px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">函数执行完成之后，置为 false</div></div></div></foreignObject><text x="3130" y="1904" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">函数执行完成之后，置为 false</text></switch></g><rect x="2189.13" y="1640" width="221.75" height="60" fill="#6d8764" stroke="#3a5431" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 220px; height: 1px; padding-top: 1670px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div><span>schedulePerformWorkUntilDeadline </span></div><div>有任务就往管道发信号</div></div></div></div></foreignObject><text x="2300" y="1674" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">schedulePerformWorkUntilDeadline...</text></switch></g><rect x="2189.13" y="1680" width="25.87" height="20" fill="none" stroke="none" pointer-events="all"/><ellipse cx="2195.3" cy="1683.57" rx="3.5277272727272733" ry="2.8571428571428568" fill="#888888" stroke="none" pointer-events="all"/><ellipse cx="2192.36" cy="1689.52" rx="3.23375" ry="2.619047619047619" fill="#999999" stroke="none" pointer-events="all"/><ellipse cx="2195.3" cy="1695.48" rx="2.9397727272727274" ry="2.380952380952381" fill="#aaaaaa" stroke="none" pointer-events="all"/><ellipse cx="2202.65" cy="1697.86" rx="2.6457954545454547" ry="2.142857142857143" fill="#bbbbbb" stroke="none" pointer-events="all"/><ellipse cx="2210" cy="1695.48" rx="2.351818181818182" ry="1.9047619047619047" fill="#cccccc" stroke="none" pointer-events="all"/><ellipse cx="2212.94" cy="1689.52" rx="2.0578409090909093" ry="1.6666666666666665" fill="#dddddd" stroke="none" pointer-events="all"/><ellipse cx="2210" cy="1683.57" rx="1.7638636363636366" ry="1.4285714285714284" fill="#eeeeee" stroke="none" pointer-events="all"/><ellipse cx="2202.65" cy="1681.19" rx="1.4698863636363637" ry="1.1904761904761905" fill="#f3f3f3" stroke="none" pointer-events="all"/><path d="M 2713.13 1675 L 2713.13 1665 L 2845.5 1665 L 2845.5 1654.5 L 2864.5 1670 L 2845.5 1685.5 L 2845.5 1675 Z" fill="#6d8764" stroke="#3a5431" stroke-miterlimit="10" pointer-events="all"/><rect x="2747" y="1649" width="78" height="42" fill="none" stroke="none" pointer-events="all"/><path d="M 2749.8 1649 C 2748.37 1649 2747.21 1650.16 2747.21 1651.59 L 2747.21 1688.41 C 2747.21 1689.84 2748.37 1691 2749.8 1691 L 2762.77 1691 C 2764.2 1691 2765.36 1689.84 2765.36 1688.41 L 2765.36 1684.73 L 2806.64 1684.73 L 2806.64 1688.41 C 2806.64 1689.84 2807.8 1691 2809.23 1691 L 2822.2 1691 C 2822.89 1691 2823.55 1690.73 2824.04 1690.24 C 2824.52 1689.75 2824.79 1689.09 2824.79 1688.41 L 2824.79 1651.59 C 2824.79 1650.9 2824.52 1650.25 2824.04 1649.76 C 2823.55 1649.27 2822.89 1649 2822.2 1649 L 2809.23 1649 C 2807.8 1649 2806.64 1650.16 2806.64 1651.59 L 2806.64 1655.27 L 2765.36 1655.27 L 2765.36 1651.59 C 2765.36 1650.16 2764.2 1649 2762.77 1649 Z M 2750.51 1652.3 L 2762.06 1652.3 L 2762.06 1687.7 L 2750.51 1687.7 Z M 2809.94 1652.3 L 2821.49 1652.3 L 2821.49 1687.7 L 2809.94 1687.7 Z M 2765.36 1658.58 L 2806.64 1658.58 L 2806.64 1681.42 L 2765.36 1681.42 Z M 2784.15 1661.2 L 2784.15 1664.5 L 2795.58 1664.5 L 2795.58 1661.2 Z M 2798.07 1661.2 L 2798.07 1664.5 L 2803.47 1664.5 L 2803.47 1661.2 Z" fill="#277116" stroke="none" pointer-events="all"/><path d="M 2405 1369 L 2390 1369 L 2390 1439 L 2376.37 1439" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2371.12 1439 L 2378.12 1435.5 L 2376.37 1439 L 2378.12 1442.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2505 1329 L 2605 1369 L 2505 1409 L 2405 1369 Z" fill="url(#mx-gradient-6600cc-1-0050ef-1-e-0)" stroke="#001dbc" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 1369px; margin-left: 2406px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">!isHostCallbackScheduled&amp;&amp;<br />!isPerformingWork</div></div></div></foreignObject><text x="2505" y="1373" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">!isHostCallbackScheduled&amp;&amp;...</text></switch></g><rect x="2405" y="1419" width="200" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1439px; margin-left: 2505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">flushWork 中这两个变量会被置为 false<br />条件1: 有 flushWork 正在执行<br />条件2: workLoop 正在执行</div></div></div></foreignObject><text x="2505" y="1442" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">flushWork 中这两个变量会被置为 false...</text></switch></g><path d="M 3698 1350 L 3698 1240 L 2994 1240 C 2994 1234.8 2986 1234.8 2986 1240 L 2986 1240 L 2175 1240 L 2175 1226.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2175 1221.12 L 2178.5 1228.12 L 2175 1226.37 L 2171.5 1228.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1242px; margin-left: 3227px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">重置 timerQueue 的标记，表示：虽然你的任务被停止执行了<br />但是你正在又可以重新触发任务执行</div></div></div></foreignObject><text x="3227" y="1245" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">重置 timerQueue 的标记，表示：虽然你的任务被停止执行了...</text></switch></g><path d="M 3825 1650 L 3732.37 1650" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3727.12 1650 L 3734.12 1646.5 L 3732.37 1650 L 3734.12 1653.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1652px; margin-left: 3779px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">try</div></div></div></foreignObject><text x="3779" y="1655" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">try</text></switch></g><path d="M 3929 1680 L 3929 1723.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3929 1728.88 L 3925.5 1721.88 L 3929 1723.63 L 3932.5 1721.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1706px; margin-left: 3930px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">finally, 清理</div></div></div></foreignObject><text x="3930" y="1709" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">finally, 清理</text></switch></g><rect x="3825" y="1620" width="208" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 206px; height: 1px; padding-top: 1650px; margin-left: 3826px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">try{ workLoop }finally</div></div></div></foreignObject><text x="3929" y="1653" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">try{ workLoop }finally</text></switch></g><rect x="3575" y="1320" width="240" height="260" rx="36" ry="36" fill="#a9c4eb" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><path d="M 3698 1489 L 3786 1529 L 3698 1569 L 3610 1529 Z" fill="#647687" stroke="#314354" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 174px; height: 1px; padding-top: 1529px; margin-left: 3611px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isHostTimeoutScheduled</div></div></div></foreignObject><text x="3698" y="1532" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">isHostTimeoutScheduled</text></switch></g><rect x="3595" y="1350" width="206" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1380px; margin-left: 3596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">isHostTimeoutScheduled = false<br />cancelHostTimeout()</div></div></div></foreignObject><text x="3698" y="1383" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">isHostTimeoutScheduled = false...</text></switch></g><path d="M 3698 1489 L 3698 1416.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3698 1411.12 L 3701.5 1418.12 L 3698 1416.37 L 3694.5 1418.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1447px; margin-left: 3701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true, 取消这个任务，你还要再等等</div></div></div></foreignObject><text x="3701" y="1450" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true, 取消这个任务，你还要再等等</text></switch></g><path d="M 3395 1530 L 3603.63 1529" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3608.88 1529 L 3601.88 1532.5 L 3603.63 1529 L 3601.88 1525.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1532px; margin-left: 3495px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1. timerQueue 中的任务<br />已经启动计时器了？</div></div></div></foreignObject><text x="3495" y="1535" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1. timerQueue 中的任务...</text></switch></g><path d="M 3623 1680 L 3623 1773.63" fill="none" stroke="#432d57" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3623 1778.88 L 3619.5 1771.88 L 3623 1773.63 L 3626.5 1771.88 Z" fill="#432d57" stroke="#432d57" stroke-miterlimit="10" pointer-events="all"/><rect x="3520" y="1620" width="206" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 1650px; margin-left: 3521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">return workLoop(hasTimeRemaining, initialTime)</div></div></div></foreignObject><text x="3623" y="1653" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">return workLoop(hasTimeRemaining, ini...</text></switch></g><rect x="3817.5" y="1730" width="223" height="60" fill="#647687" stroke="#314354" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 221px; height: 1px; padding-top: 1760px; margin-left: 3819px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask = null<br />currentPriorityLevel = previousPriorityLevel<br />isPerformingWork=false</div></div></div></foreignObject><text x="3929" y="1763" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask = null...</text></switch></g><path d="M 3623 1840 L 3623 1913.63" fill="none" stroke="#432d57" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3623 1918.88 L 3619.5 1911.88 L 3623 1913.63 L 3626.5 1911.88 Z" fill="#432d57" stroke="#432d57" stroke-miterlimit="10" pointer-events="all"/><path d="M 3514 1840 L 3534 1780 L 3732 1780 L 3712 1840 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 216px; height: 1px; padding-top: 1810px; margin-left: 3515px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(255 , 255 , 255)">workLoop(...)</span></div></div></div></foreignObject><text x="3623" y="1813" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">workLoop(...)</text></switch></g><path d="M 3623 1980 L 3623 2053.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3623 2058.88 L 3619.5 2051.88 L 3623 2053.63 L 3626.5 2051.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3528" y="1920" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 1950px; margin-left: 3529px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">advanceTimers(currentTime)<br />过滤出已过期的到 taskQueue</div></div></div></foreignObject><text x="3623" y="1953" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">advanceTimers(currentTime)...</text></switch></g><path d="M 3718 2090 L 3826.63 2090" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3831.88 2090 L 3824.88 2093.5 L 3826.63 2090 L 3824.88 2086.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="3528" y="2060" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2090px; margin-left: 3529px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask = peek(taskQueue)<br />第一个出列</div></div></div></foreignObject><text x="3623" y="2093" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask = peek(taskQueue)...</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 1930 L 4026.63 1930" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4031.88 1930 L 4024.88 1933.5 L 4026.63 1930 L 4024.88 1926.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1931px; margin-left: 3996px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step1</div></div></div></foreignObject><text x="3996" y="1934" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step1</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 2040 L 4028.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4033.88 2040 L 4026.88 2043.5 L 4028.63 2040 L 4026.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2041px; margin-left: 3996px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step2</div></div></div></foreignObject><text x="3996" y="2044" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step2</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 2330 L 3911.37 2330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3906.12 2330 L 3913.12 2326.5 L 3911.37 2330 L 3913.12 2333.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2331px; margin-left: 3936px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step3</div></div></div></foreignObject><text x="3936" y="2334" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step3</text></switch></g><path d="M 3945 2090 L 3965 2090 L 3965 2430 L 3661.37 2430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3656.12 2430 L 3663.12 2426.5 L 3661.37 2430 L 3663.12 2433.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2430px; margin-left: 3735px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">step4</div></div></div></foreignObject><text x="3735" y="2433" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">step4</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2292px; margin-left: 3967px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">while 结束</div></div></div></foreignObject><text x="3967" y="2295" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">while 结束</text></switch></g><path d="M 3853 2060 L 3925 2060 L 3945 2090 L 3925 2120 L 3853 2120 L 3833 2090 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 110px; height: 1px; padding-top: 2090px; margin-left: 3834px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">while(currentTask)</div></div></div></foreignObject><text x="3889" y="2093" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">while(currentTask)</text></switch></g><path d="M 4153 1930 L 4246.63 1930" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4251.88 1930 L 4244.88 1933.5 L 4246.63 1930 L 4244.88 1926.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1921px; margin-left: 4206px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">expirationTime</div></div></div></foreignObject><text x="4206" y="1924" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">expirationTime</text></switch></g><rect x="4033" y="1900" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1930px; margin-left: 4034px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">检查有没有过期或有没空闲时间</div></div></div></foreignObject><text x="4093" y="1933" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">检查有没有过期或有没空闲时间</text></switch></g><path d="M 4155 2040 L 4248.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4253.88 2040 L 4246.88 2043.5 L 4248.63 2040 L 4246.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4035" y="2010" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2040px; margin-left: 4036px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">检测 task.callback 是不是函数</div></div></div></foreignObject><text x="4095" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">检测 task.callback 是不是函数</text></switch></g><path d="M 3785 2330 L 3636.37 2330" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 3631.12 2330 L 3638.12 2326.5 L 3636.37 2330 L 3638.12 2333.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2311px; margin-left: 3699px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">目的让 task 重新走<br />一遍完整的管道流程</div></div></div></foreignObject><text x="3699" y="2314" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">目的让 task 重新走...</text></switch></g><rect x="3785" y="2300" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2330px; margin-left: 3786px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask!==null</div></div></div></foreignObject><text x="3845" y="2333" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask!==null</text></switch></g><path d="M 3655 2430 L 3465 2430 L 3465 1810 L 3517.63 1810" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3522.88 1810 L 3515.88 1813.5 L 3517.63 1810 L 3515.88 1806.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2262px; margin-left: 3467px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">返回 false</div></div></div></foreignObject><text x="3467" y="2265" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">返回 false</text></switch></g><rect x="3655" y="2400" width="250" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 248px; height: 1px; padding-top: 2430px; margin-left: 3656px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">开始触发timerQueue, requetHostTimeout, 并返回 false, 标记本次空闲时间该做的事情结束</div></div></div></foreignObject><text x="3780" y="2433" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">开始触发timerQueue, requetHostTimeout, 并返回 false, 标记本次空闲时间该做的事情结束</text></switch></g><path d="M 4333 1930 L 4396.63 1930" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4401.88 1930 L 4394.88 1933.5 L 4396.63 1930 L 4394.88 1926.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1933px; margin-left: 4369px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="4369" y="1936" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 4293 1970 L 4293 1990 L 4095 1990 L 4095 2003.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4095 2008.88 L 4091.5 2001.88 L 4095 2003.63 L 4098.5 2001.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1981px; margin-left: 4186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true,只要第一个还没过期后面的肯定也没</div></div></div></foreignObject><text x="4186" y="1984" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true,只要第一个还没过期后面的肯定也没</text></switch></g><path d="M 4293 1890 L 4333 1930 L 4293 1970 L 4253 1930 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 1930px; margin-left: 4254px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">过期&amp;空闲？</div></div></div></foreignObject><text x="4293" y="1933" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">过期&amp;空闲？</text></switch></g><path d="M 4393 1960 L 4413 1900 L 4513 1900 L 4493 1960 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1930px; margin-left: 4394px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">退出while</div></div></div></foreignObject><text x="4453" y="1933" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">退出while</text></switch></g><path d="M 4295 2080 L 4295 2143.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4295 2148.88 L 4291.5 2141.88 L 4295 2143.63 L 4298.5 2141.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2115px; margin-left: 4298px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false</div></div></div></foreignObject><text x="4298" y="2118" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 4335 2040 L 4388.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4393.88 2040 L 4386.88 2043.5 L 4388.63 2040 L 4386.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2041px; margin-left: 4355px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="4355" y="2044" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 4295 2000 L 4335 2040 L 4295 2080 L 4255 2040 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 2040px; margin-left: 4256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">函数？</div></div></div></foreignObject><text x="4295" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">函数？</text></switch></g><path d="M 4245 2180 L 3969 2180 C 3969 2174.8 3961 2174.8 3961 2180 L 3961 2180 L 3889 2180 L 3889 2126.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3889 2121.12 L 3892.5 2128.12 L 3889 2126.37 L 3885.5 2128.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2180px; margin-left: 4103px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">pop(taskQueue), 取下一个 peek(taskQueue) 继续</div></div></div></foreignObject><text x="4103" y="2183" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">pop(taskQueue), 取下一个 peek(taskQueue) 继续</text></switch></g><path d="M 4235 2210 L 4255 2150 L 4355 2150 L 4335 2210 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2180px; margin-left: 4236px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">不是函数pop丢弃，<br />继续下一个 while</div></div></div></foreignObject><text x="4295" y="2183" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">不是函数pop丢弃，...</text></switch></g><path d="M 4585 2040 L 4658.63 2040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4663.88 2040 L 4656.88 2043.5 L 4658.63 2040 L 4656.88 2036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="4395" y="2010" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2040px; margin-left: 4396px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask.callback=null，开始执行之前先保存，再置为空</div></div></div></foreignObject><text x="4490" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask.callback=null，开始执行之前先保存，再置为空</text></switch></g><path d="M 4760 2070 L 4760 2133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4760 2138.88 L 4756.5 2131.88 L 4760 2133.63 L 4763.5 2131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2100px; margin-left: 4761px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">更新当前时间戳，因为 callback 执行可能耗时,<br />然后检测返回值是不是也是函数</div></div></div></foreignObject><text x="4761" y="2103" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">更新当前时间戳，因为 callback 执行可能耗时,...</text></switch></g><rect x="4665" y="2010" width="190" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2040px; margin-left: 4666px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">执行保存的 c = callback()</div></div></div></foreignObject><text x="4760" y="2043" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">执行保存的 c = callback()</text></switch></g><path d="M 4760 2220 L 4760 2263.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4760 2268.88 L 4756.5 2261.88 L 4760 2263.63 L 4763.5 2261.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2241px; margin-left: 4764px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">true</div></div></div></foreignObject><text x="4764" y="2244" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 4720 2180 L 4528 2180 L 4528 2223.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4528 2228.88 L 4524.5 2221.88 L 4528 2223.63 L 4531.5 2221.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2151px; margin-left: 4576px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">false,正常情况 c 就是<br /> taskQueue 中的第一个，此时要 pop掉，<br />因为当前task已经处理过了</div></div></div></foreignObject><text x="4576" y="2154" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">false,正常情况 c 就是...</text></switch></g><path d="M 4720 2180 L 4351.37 2180" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 4346.12 2180 L 4353.12 2176.5 L 4351.37 2180 L 4353.12 2183.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2178px; margin-left: 4418px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">pop掉</div></div></div></foreignObject><text x="4418" y="2181" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">pop掉</text></switch></g><path d="M 4760 2140 L 4800 2180 L 4760 2220 L 4720 2180 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 2180px; margin-left: 4721px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">c 是函数？</div></div></div></foreignObject><text x="4760" y="2183" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">c 是函数？</text></switch></g><path d="M 4760 2330 L 4760 2350 L 4528 2350 L 4528 2296.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 4528 2291.12 L 4531.5 2298.12 L 4528 2296.37 L 4524.5 2298.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2341px; margin-left: 4596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">过滤<span style="font-family: &quot;helvetica&quot;">timerQueue -&gt; taskQueue</span></div></div></div></foreignObject><text x="4596" y="2344" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">过滤timerQueue -&gt; taskQueue</text></switch></g><rect x="4700" y="2270" width="120" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2300px; margin-left: 4701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">currentTask.callback = c</div></div></div></foreignObject><text x="4760" y="2303" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">currentTask.callback =...</text></switch></g><path d="M 4445 2260 L 3969 2260 C 3969 2254.8 3961 2254.8 3961 2260 L 3961 2260 L 3889 2260 L 3889 2126.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3889 2121.12 L 3892.5 2128.12 L 3889 2126.37 L 3885.5 2128.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2263px; margin-left: 4114px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">取下一个，进入下一次循环</div></div></div></foreignObject><text x="4114" y="2266" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">取下一个，进入下一次循环</text></switch></g><rect x="4445" y="2230" width="166" height="60" fill="#76608a" stroke="#432d57" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 164px; height: 1px; padding-top: 2260px; margin-left: 4446px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">advanceTimers(currentTime)<br />完成一轮后再次从 timerQueue 中筛选出 taskQueue</div></div></div></foreignObject><text x="4528" y="2263" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">advanceTimers(currentTime)...</text></switch></g><path d="M 3530 2330 L 3495 2330 L 3495 1810 L 3517.63 1810" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 3522.88 1810 L 3515.88 1813.5 L 3517.63 1810 L 3515.88 1806.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2137px; margin-left: 3496px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">返回true</div></div></div></foreignObject><text x="3496" y="2140" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">返回true</text></switch></g><path d="M 3520 2360 L 3540 2300 L 3640 2300 L 3620 2360 Z" fill="#76608a" stroke="#432d57" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2330px; margin-left: 3521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">退出 workLoop,<br />且返回 true</div></div></div></foreignObject><text x="3580" y="2333" fill="#ffffff" font-family="Helvetica" font-size="11px" text-anchor="middle">退出 workLoop,...</text></switch></g><rect x="4835" y="2200" width="220" height="200" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 212px; height: 1px; padding-top: 2190px; margin-left: 4840px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; max-height: 210px; overflow: hidden; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><h1>返回值嵌套函数</h1><div>如：fn1=noop,fn2=()=&gt;fn1,fn3=()=&gt;fn2</div><div>callback = () =&gt; fn3<br />currentTask = { callback, ...}<br />c = fn3 -&gt; while<br />c = fn2 -&gt; while<br />c = fn1 -&gt; while<br />c = undefined 结本本次 currentTask 注意这到这里为止一直都只是在改变 currentTask.callback = c ，而 currentTask 这个对象依旧是 #1 处的那个对象</div></div></div></div></foreignObject><text x="4840" y="2201" fill="#000000" font-family="Helvetica" font-size="11px">返回值嵌套函数如：fn1=noop,fn2=()=&gt;fn1,fn3=()=&gt;fn2...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>